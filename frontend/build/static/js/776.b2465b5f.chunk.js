"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[776],{64776:(e,n,i)=>{i.r(n),i.d(n,{default:()=>g});var s=i(72791),l=i(57689),a=i(37795),t=i(7768),o=i(17834),r=i(22741),d=i(56679),c=i(65050),v=i(55420),h=i(92880),u=i(49795),m=i(80184);const g=function(e){var n,i,g,x,j,p;let{event:N,showBackButton:w=!0,showAnalytics:k=!0,showEventsByCreator:f=!0,onBack:y,className:I=""}=e;const _=(0,l.s0)(),{user:b}=(0,o.Z)(),{addNotification:L}=(0,r.l)(),[C,O]=(0,s.useState)("details");if(!N)return(0,m.jsx)("div",{className:`event-viewer ${I}`,children:(0,m.jsxs)("div",{className:"loading-container",children:[(0,m.jsx)(a.JO,{icon:"mdi:loading",className:"spinner"}),(0,m.jsx)("p",{children:"Loading event..."})]})});const Z=new Date(N.start_time),S=new Date(N.end_time);return(0,m.jsx)("div",{className:`event-viewer ${I}`,children:(0,m.jsxs)("div",{className:"event-content",children:[N.image&&(0,m.jsx)("div",{className:"image-container",children:(0,m.jsx)("img",{src:N.image,alt:`Event image for ${N.name}`,className:"event-image"})}),(0,m.jsxs)("div",{className:"event-details",children:[w&&(0,m.jsxs)("div",{className:"back",onClick:()=>{y?y():_(-1)},children:[(0,m.jsx)(a.JO,{icon:"mdi:arrow-left"}),(0,m.jsx)("p",{children:"Back"})]}),(0,m.jsx)("h1",{children:N.name}),(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("div",{className:"row event-detail date",children:(0,m.jsxs)("p",{children:[Z.toLocaleString("default",{weekday:"long"}),", ",Z.toLocaleString("default",{month:"long"})," ",Z.getDate()]})}),(0,m.jsx)("div",{className:"row event-detail time",children:(0,m.jsxs)("p",{children:[Z.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0})," - ",S.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0})]})}),(0,m.jsxs)("div",{className:"row event-detail location",children:[(0,m.jsx)(a.JO,{icon:"fluent:location-28-filled"}),(0,m.jsx)("p",{children:N.location})]})]}),(()=>{if(null===N||void 0===N||!N.hostingType)return null;let e="",n="",i="";var s,l,a,o,r,d,c,v;"User"===N.hostingType?(e=null!==(s=N.hostingId)&&void 0!==s&&s.image?N.hostingId.image:t.Z,n=(null===(l=N.hostingId)||void 0===l?void 0:l.name)||"Unknown User",i=null!==(a=N.hostingId)&&void 0!==a&&null!==(o=a.roles)&&void 0!==o&&o.includes("developer")?"Developer":null!==(r=N.hostingId)&&void 0!==r&&null!==(d=r.roles)&&void 0!==d&&d.includes("oie")?"Faculty":"Student"):(e=(null===(c=N.hostingId)||void 0===c?void 0:c.org_profile_image)||t.Z,n=(null===(v=N.hostingId)||void 0===v?void 0:v.org_name)||"Unknown Organization",i="Organization");return(0,m.jsxs)("div",{className:`row hosting ${i.toLowerCase()}`,onClick:()=>{"Organization"===i&&_(`/org/${n}`)},children:[(0,m.jsx)("p",{children:"Hosted by"}),(0,m.jsx)("img",{src:e,alt:""}),(0,m.jsx)("p",{className:"user-name",children:n}),(0,m.jsx)("div",{className:`level ${i.toLowerCase()}`,children:i})]})})(),(0,m.jsx)("div",{className:"row event-description",children:(0,m.jsx)("p",{children:N.description})}),N.externalLink&&(0,m.jsx)("div",{className:"row external-link",children:(0,m.jsxs)("a",{href:N.externalLink,target:"_blank",rel:"noopener noreferrer",children:[(0,m.jsx)(a.JO,{icon:"heroicons:arrow-top-right-on-square-20-solid"}),(0,m.jsx)("p",{children:"View Event External Link"})]})}),(0,m.jsx)(d.Z,{event:N}),(0,m.jsx)(c.Z,{event:N}),(0,m.jsx)(u.Z,{event:N,onUpdate:e=>{}}),k&&b&&b.roles&&b.roles.includes("admin")&&(0,m.jsxs)("div",{className:"analytics-tab",children:[(0,m.jsxs)("div",{className:"tab-buttons",children:[(0,m.jsx)("button",{className:"details"===C?"active":"",onClick:()=>O("details"),children:"Event Details"}),(0,m.jsxs)("button",{className:"analytics"===C?"active":"",onClick:()=>O("analytics"),children:[(0,m.jsx)(a.JO,{icon:"mingcute:chart-fill"}),"Analytics"]})]}),"analytics"===C&&(0,m.jsx)("div",{className:"analytics-content",children:(0,m.jsx)(h.Z,{})})]}),f&&N&&"details"===C&&(0,m.jsx)(v.Z,{eventId:N._id,creatorName:"User"===N.hostingType?null===(n=N.hostingId)||void 0===n?void 0:n.name:null===(i=N.hostingId)||void 0===i?void 0:i.org_name,creatorType:"User"===N.hostingType?null!==(g=N.hostingId)&&void 0!==g&&null!==(x=g.roles)&&void 0!==x&&x.includes("developer")?"Developer":null!==(j=N.hostingId)&&void 0!==j&&null!==(p=j.roles)&&void 0!==p&&p.includes("oie")?"Faculty":"Student":"Organization"})]})]})})}}}]);
//# sourceMappingURL=776.b2465b5f.chunk.js.map