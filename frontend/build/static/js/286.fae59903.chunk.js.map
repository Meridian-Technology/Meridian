{"version":3,"file":"static/js/286.fae59903.chunk.js","mappings":"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","sources":["pages/ClubDash/EventsManagement/components/EventDashboard/EventDashboardHeader.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventAgendaBuilder/AgendaItem.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/FunnelChart.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventDashboardOnboarding/EventDashboardOnboarding.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/RSVPGrowthChart.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventPreview.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventOverview.jsx","pages/CreateEventV2/Steps/Where/RoomSelectorV2/RoomSelectorV2.jsx","pages/CreateEventV2/Steps/When/When.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventEditorTab/EventEditorTab.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventAgendaBuilder/AgendaItemEditor.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventAgendaBuilder/PublishConfirmModal.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventAgendaBuilder/AgendaBuilder.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventJobsManager/JobShiftScheduler.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventJobsManager/JobPicker.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventJobsManager/JobSignup.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventJobsManager/MemberDropdown.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventJobsManager/JobsManager.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventAnalyticsDetail.jsx","components/EventCheckIn/QRCodeDisplay.jsx","components/EventCheckIn/CheckInLink.jsx","components/EventCheckIn/CheckInList.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventCheckInTab/CheckInSettingsModal.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventCheckInTab/EventCheckInTab.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/RegistrationsTab/RegistrationSettingsModal.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/RegistrationsTab/RegistrationsTab.jsx","pages/ClubDash/EventsManagement/components/EventDashboard/EventDashboard.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useGradient } from '../../../../../hooks/useGradient';\nimport { useNotification } from '../../../../../NotificationContext';\nimport apiRequest from '../../../../../utils/postRequest';\nimport './EventDashboard.scss';\n\nfunction EventDashboardHeader({ event, stats, onClose, onRefresh, orgId }) {\n    const [publishing, setPublishing] = useState(false);\n    const { AtlasMain } = useGradient();\n    const { addNotification } = useNotification();\n\n    const getEventStatus = () => {\n        if (!event?.start_time) return null;\n        const now = new Date();\n        const start = new Date(event.start_time);\n        return start > now ? 'upcoming' : 'passed';\n    };\n\n    const formatDate = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toLocaleDateString('en-US', {\n            weekday: 'long',\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n        });\n    };\n\n    const formatTime = (dateString) => {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        return date.toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const getTimeUntilEvent = () => {\n        if (!event?.start_time) return '';\n        const now = new Date();\n        const start = new Date(event.start_time);\n        const diff = start - now;\n\n        if (diff < 0) {\n            return 'Event has started';\n        }\n\n        const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n\n        if (days > 0) {\n            return `${days} day${days !== 1 ? 's' : ''} until event`;\n        } else if (hours > 0) {\n            return `${hours} hour${hours !== 1 ? 's' : ''} until event`;\n        } else {\n            return `${minutes} minute${minutes !== 1 ? 's' : ''} until event`;\n        }\n    };\n\n    const handlePreview = () => {\n        if (!event?._id) return;\n        const eventUrl = `${window.location.origin}/event/${event._id}`;\n        window.open(eventUrl, '_blank', 'noopener,noreferrer');\n    };\n\n    const handlePublish = async () => {\n        if (!event?._id) return;\n        setPublishing(true);\n        try {\n            const res = await apiRequest(`/publish-event/${event._id}`, {}, { method: 'POST' });\n            if (res.success) {\n                addNotification({\n                    title: 'Event Published',\n                    message: res.status === 'pending' ? 'Event submitted for approval.' : 'Event published successfully.',\n                    type: 'success'\n                });\n                onRefresh?.();\n            } else {\n                throw new Error(res.message || res.error);\n            }\n        } catch (err) {\n            addNotification({\n                title: 'Publish Failed',\n                message: err.message || 'Failed to publish event.',\n                type: 'error'\n            });\n        } finally {\n            setPublishing(false);\n        }\n    };\n\n    const handleShare = async () => {\n        if (!event?._id) return;\n        const eventUrl = `${window.location.origin}/event/${event._id}`;\n        try {\n            await navigator.clipboard.writeText(eventUrl);\n            addNotification({\n                title: 'Success',\n                message: 'Event link copied to clipboard',\n                type: 'success'\n            });\n        } catch (err) {\n            // Fallback for older browsers\n            const textArea = document.createElement('textarea');\n            textArea.value = eventUrl;\n            textArea.style.position = 'fixed';\n            textArea.style.left = '-999999px';\n            document.body.appendChild(textArea);\n            textArea.select();\n            try {\n                document.execCommand('copy');\n                addNotification({\n                    title: 'Success',\n                    message: 'Event link copied to clipboard',\n                    type: 'success'\n                });\n            } catch (err) {\n                addNotification({\n                    title: 'Error',\n                    message: 'Failed to copy link to clipboard',\n                    type: 'error'\n                });\n            }\n            document.body.removeChild(textArea);\n        }\n    };\n\n    const eventStatus = getEventStatus();\n\n    return (\n        <div className=\"event-dashboard-header\">\n            <div className=\"header-background\">\n                <img src={AtlasMain} alt=\"\" />\n            </div>\n            <div className=\"header-content\">\n                <div className=\"header-top\">\n                    <button className=\"close-btn\" onClick={onClose}>\n                        <Icon icon=\"mdi:close\" />\n                    </button>\n                    <div className=\"header-actions\">\n                        {event?.status === 'draft' && (\n                            <button\n                                className=\"action-btn publish\"\n                                onClick={handlePublish}\n                                disabled={publishing}\n                                title=\"Publish Event\"\n                            >\n                                <Icon icon=\"mdi:publish\" />\n                                <span>{publishing ? 'Publishing...' : 'Publish'}</span>\n                            </button>\n                        )}\n                        <button className=\"action-btn refresh\" onClick={onRefresh} title=\"Refresh\">\n                            <Icon icon=\"mdi:refresh\" />\n                        </button>\n                        <button \n                            className=\"action-btn share\" \n                            onClick={handleShare}\n                            title=\"Copy Event Link\"\n                            disabled={!event?._id}\n                        >\n                            <Icon icon=\"mdi:share-variant\" />\n                        </button>\n                        <button \n                            className=\"action-btn preview\" \n                            onClick={handlePreview}\n                            title=\"Preview Event\"\n                            disabled={!event?._id}\n                        >\n                            <Icon icon=\"mdi:open-in-new\" />\n                            <span>Preview</span>\n                        </button>\n                    </div>\n                </div>\n                <div className=\"header-main\">\n                    <div className=\"event-title-section\">\n                        <h1>{event?.name || 'Event'}</h1>\n                        <div className=\"event-meta\">\n                            {event?.status === 'draft' && (\n                                <span className=\"event-status-bubble draft\">Draft</span>\n                            )}\n                            {eventStatus && event?.status !== 'draft' && (\n                                <span className={`event-status-bubble ${eventStatus}`}>\n                                    {eventStatus === 'upcoming' ? 'Upcoming' : 'Passed'}\n                                </span>\n                            )}\n                        </div>\n                    </div>\n                    <div className=\"quick-stats\">\n                        <div className=\"stat-item\">\n                            <Icon icon=\"mingcute:user-group-fill\" className=\"stat-icon\" />\n                            <div className=\"stat-content\">\n                                <span className=\"stat-value\">{stats?.registrationCount ?? 0}</span>\n                                <span className=\"stat-label\">Registrations</span>\n                            </div>\n                        </div>\n                        <div className=\"stat-item\">\n                            <Icon icon=\"mdi:calendar-clock\" className=\"stat-icon\" />\n                            <div className=\"stat-content\">\n                                <span className=\"stat-value\">{getTimeUntilEvent() || 'N/A'}</span>\n                                <span className=\"stat-label\">Time Until</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"header-details\">\n                    <div className=\"detail-item\">\n                        <Icon icon=\"mdi:calendar\" />\n                        <span>{formatDate(event?.start_time)}</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Icon icon=\"mdi:clock-outline\" />\n                        <span>{formatTime(event?.start_time)} - {formatTime(event?.end_time)}</span>\n                    </div>\n                    <div className=\"detail-item\">\n                        <Icon icon=\"fluent:location-28-filled\" />\n                        <span>{event?.location || 'TBD'}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EventDashboardHeader;\n","import React from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport './AgendaBuilder.scss';\n\nfunction AgendaItem({ item, onEdit, onDelete }) {\n    const formatTime = (date) => {\n        if (!date) return 'TBD';\n        const time = date instanceof Date ? date : new Date(date);\n        return time.toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const getDurationMinutes = () => {\n        if (!item.startTime || !item.endTime) return null;\n        const start = item.startTime instanceof Date ? item.startTime : new Date(item.startTime);\n        const end = item.endTime instanceof Date ? item.endTime : new Date(item.endTime);\n        return Math.round((end - start) / 60000);\n    };\n\n    const getTypeIcon = (type) => {\n        const icons = {\n            Activity: 'mdi:run',\n            Break: 'mdi:coffee',\n            Setup: 'mdi:wrench',\n            Breakdown: 'mdi:package-down',\n            Transition: 'mdi:arrow-right',\n            Speaker: 'mdi:microphone',\n            Custom: 'mdi:star'\n        };\n        return icons[type] || 'mdi:circle';\n    };\n\n    const getTypeColor = (type) => {\n        const colors = {\n            Activity: '#4DAA57',\n            Break: '#ffc107',\n            Setup: '#6c757d',\n            Breakdown: '#6c757d',\n            Transition: '#17a2b8',\n            Speaker: '#dc3545',\n            Custom: '#6D8EFA'\n        };\n        return colors[type] || '#6c757d';\n    };\n\n    const startTime = item.startTime ? (typeof item.startTime === 'string' ? new Date(item.startTime) : item.startTime) : null;\n    const endTime = item.endTime ? (typeof item.endTime === 'string' ? new Date(item.endTime) : item.endTime) : null;\n    const durationMinutes = getDurationMinutes();\n\n    return (\n        <div className=\"agenda-item\">\n            <div className=\"item-content\">\n                <div className=\"item-header\">\n                    <div className=\"item-type-badge\" style={{ backgroundColor: getTypeColor(item.type) }}>\n                        <Icon icon={getTypeIcon(item.type)} />\n                        <span>{item.type}</span>\n                    </div>\n                    {!item.isPublic && (\n                        <span className=\"item-visibility\">\n                            <Icon icon=\"mdi:lock\" />\n                            <span>Internal</span>\n                        </span>\n                    )}\n                </div>\n                <h4 className=\"item-title\">{item.title}</h4>\n                {item.description && (\n                    <p className=\"item-description\">{item.description}</p>\n                )}\n                <div className=\"item-meta\">\n                    {startTime && endTime && (\n                        <span className=\"meta-item\">\n                            <Icon icon=\"mdi:clock-outline\" />\n                            {formatTime(startTime)} - {formatTime(endTime)}\n                        </span>\n                    )}\n                    {durationMinutes != null && (\n                        <span className=\"meta-item\">\n                            <Icon icon=\"mdi:timer-outline\" />\n                            {durationMinutes} min\n                        </span>\n                    )}\n                    {item.location && (\n                        <span className=\"meta-item\">\n                            <Icon icon=\"fluent:location-28-filled\" />\n                            {item.location}\n                        </span>\n                    )}\n                </div>\n            </div>\n            <div className=\"item-actions\">\n                <button className=\"action-btn edit\" onClick={onEdit} title=\"Edit\">\n                    <Icon icon=\"mdi:pencil\" />\n                </button>\n                <button className=\"action-btn delete\" onClick={onDelete} title=\"Delete\">\n                    <Icon icon=\"mdi:delete\" />\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default AgendaItem;\n","import React, { useId } from 'react';\nimport { scaleLinear } from '@visx/scale';\nimport { Area } from '@visx/shape';\nimport { curveBasis } from '@visx/curve';\nimport ParentSize from '@visx/responsive/lib/components/ParentSize';\nimport './FunnelChart.scss';\n\nconst x = (d) => d.index;\nconst y = (d) => Math.max(d.value, 0.25);\n\nfunction interpolateData(data) {\n    return data.map((d, i) => interpolatePoints(d, data[i + 1])).flat();\n}\n\nfunction interpolatePoints(current, next) {\n    if (!next) return current;\n    const xStep = 0.25;\n    const yStep = Math.abs(y(next) - y(current)) * 0.03;\n    const yMid1 = Math.abs(y(current) - yStep);\n    const yMid2 = Math.abs(y(next) + yStep);\n    const xMid1 = Math.abs(x(current) + xStep);\n    const xMid2 = Math.abs(x(next) - xStep);\n    return [\n        current,\n        { index: xMid1, value: yMid1 },\n        { index: xMid2, value: yMid2 },\n    ];\n}\n\nconst formatNumber = (n) => new Intl.NumberFormat().format(n);\n\nfunction FunnelChart({ width, height, data }) {\n    const gradientId = useId().replace(/:/g, '');\n    if (!data || data.length === 0) return null;\n\n    const segments = data.map((d, i) => ({ index: i, value: d.value, label: d.label }));\n    segments.push({ index: data.length, value: 0 });\n\n    const interpolated = interpolateData(segments);\n    const numSegments = Math.max(...segments.map(x));\n    const firstValue = Math.max(segments[0]?.value ?? 1, 0.25);\n    const valuePadding = Math.min(50, Math.max(3, firstValue * 2));\n    const minmax = firstValue + valuePadding;\n\n    const xScale = scaleLinear({\n        range: [0, width],\n        domain: [0, numSegments],\n    });\n    const yScale = scaleLinear({\n        range: [height, 0],\n        domain: [-minmax, minmax],\n    });\n\n    const areas = [\n        { padPx: 0, opacity: 1 },\n        { padPx: 15, opacity: 0.2 },\n        { padPx: 30, opacity: 0.1 },\n    ];\n\n    const checkpointIndices = Array.from({ length: numSegments - 1 }, (_, i) => i + 1);\n\n    return (\n        <svg width={width} height={height} className=\"funnel-chart-svg funnel-chart-horizontal\">\n            <defs>\n                <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                    <stop offset=\"0%\" stopColor=\"#4DAA57\" />\n                    <stop offset=\"100%\" stopColor=\"#CAF080\" />\n                </linearGradient>\n            </defs>\n            <rect width={width} height={height} fill=\"var(--background)\" rx={22} />\n            {areas.map((area, i) => (\n                <Area\n                    key={`area-${i}`}\n                    data={interpolated}\n                    curve={curveBasis}\n                    x={(d) => xScale(x(d))}\n                    y0={(d) => yScale(y(d)) - area.padPx}\n                    y1={(d) => yScale(-(y(d))) + area.padPx}\n                    fill={`url(#${gradientId})`}\n                    fillOpacity={area.opacity}\n                    stroke=\"transparent\"\n                />\n            ))}\n            {checkpointIndices.map((idx) => {\n                const xPos = xScale(idx);\n                return (\n                    <line\n                        key={`checkpoint-${idx}`}\n                        className=\"funnel-checkpoint-line\"\n                        x1={xPos}\n                        y1={0}\n                        x2={xPos}\n                        y2={height}\n                        stroke=\"rgba(0, 0, 0, 0.01)\"\n                        strokeWidth={2}\n                    />\n                );\n            })}\n            {segments.slice(0, -1).map((seg, i) => {\n                const xPos = xScale(i + 0.5);\n                const centerY = height / 2;\n                const boxWidth = 84;\n                const boxHeight = 40;\n                const boxX = xPos - boxWidth / 2;\n                const boxY = centerY - boxHeight / 2;\n                return (\n                    <g key={`label-${i}`} className=\"funnel-segment-label\">\n                        <foreignObject\n                            x={boxX}\n                            y={boxY}\n                            width={boxWidth}\n                            height={boxHeight}\n                            className=\"funnel-segment-label-foreign\"\n                        >\n                            <div\n                                xmlns=\"http://www.w3.org/1999/xhtml\"\n                                className=\"funnel-segment-label-bg\"\n                            >\n                                <span className=\"funnel-segment-value-text\">{formatNumber(seg.value)}</span>\n                                <span className=\"funnel-segment-label-text\">{seg.label}</span>\n                            </div>\n                        </foreignObject>\n                    </g>\n                );\n            })}\n        </svg>\n    );\n}\n\nfunction FunnelChartWithSize(props) {\n    return (\n        <ParentSize>\n            {(parent) => (\n                <FunnelChart\n                    {...props}\n                    width={parent?.width ?? 400}\n                    height={parent?.height ?? 160}\n                />\n            )}\n        </ParentSize>\n    );\n}\n\nexport default FunnelChartWithSize;\n","import React, { useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useGradient } from '../../../../../../hooks/useGradient';\nimport AgendaItem from '../EventAgendaBuilder/AgendaItem';\nimport KpiCard from '../../../../../../components/Analytics/Dashboard/KpiCard';\nimport HeaderContainer from '../../../../../../components/HeaderContainer/HeaderContainer';\nimport FunnelChart from '../FunnelChart';\nimport '../EventDashboard.scss';\nimport '../EventAgendaBuilder/AgendaBuilder.scss';\nimport '../EventJobsManager/JobsManager.scss';\nimport '../RegistrationsTab/RegistrationsTab.scss';\nimport '../EventCheckInTab/EventCheckInTab.scss';\nimport '../EventEditorTab/EventEditorTab.scss';\nimport '../../../../../../components/EventCheckIn/EventCheckIn.scss';\nimport './EventDashboardOnboarding.scss';\n\nconst FAKE_FUNNEL_DATA = [\n    { label: 'Views', value: 1250 },\n    { label: 'Form Opens', value: 680 },\n    { label: 'Registrations', value: 312 },\n    { label: 'Check-ins', value: 189 },\n];\n\nconst MOCK_AGENDA_ITEMS = [\n    { _id: '1', title: 'Welcome & Check-In', type: 'Activity', startTime: new Date('2025-03-15T09:00:00'), endTime: new Date('2025-03-15T09:30:00'), isPublic: true },\n    { _id: '2', title: 'Keynote Speaker', type: 'Speaker', startTime: new Date('2025-03-15T10:00:00'), endTime: new Date('2025-03-15T11:00:00'), isPublic: true },\n    { _id: '3', title: 'Workshop Sessions', type: 'Activity', startTime: new Date('2025-03-15T11:30:00'), endTime: new Date('2025-03-15T12:30:00'), isPublic: true }\n];\n\nconst SLIDES = [\n    {\n        id: 'overview',\n        label: 'Overview',\n        icon: 'mingcute:chart-bar-fill',\n        description: 'View event statistics, readiness checks, and quick actions at a glance.',\n        snippet: (\n            <div className=\"event-dashboard\">\n                <div className=\"event-overview\">\n                    <div className=\"overview-layout\">\n                    <div className=\"overview-left-column\">\n                        <div className=\"overview-card readiness-card\">\n                            <h3 className=\"event-dashboard-card-header\">\n                                <Icon icon=\"mdi:clipboard-check-outline\" />\n                                Event Readiness\n                                <span className=\"readiness-count\">2/3</span>\n                            </h3>\n                            <div className=\"readiness-list\">\n                                <div className=\"readiness-item ready\">\n                                    <Icon icon=\"mdi:check-circle\" />\n                                    <div className=\"readiness-content\">\n                                        <div className=\"readiness-header\">\n                                            <span className=\"readiness-label\">Agenda Published</span>\n                                        </div>\n                                        <span className=\"readiness-description\">Agenda is published and ready</span>\n                                    </div>\n                                </div>\n                                <div className=\"readiness-item pending\">\n                                    <Icon icon=\"mdi:alert-circle-outline\" />\n                                    <div className=\"readiness-content\">\n                                        <div className=\"readiness-header\">\n                                            <span className=\"readiness-label\">Jobs Filled</span>\n                                            <span className=\"readiness-stats\">5 / 8 (63%)</span>\n                                        </div>\n                                        <span className=\"readiness-description\">5 of 8 positions filled</span>\n                                        <div className=\"readiness-progress\">\n                                            <div className=\"readiness-progress-bar\">\n                                                <div className=\"readiness-progress-fill\" style={{ width: '63%' }} />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'agenda',\n        label: 'Agenda',\n        icon: 'mdi:calendar-clock',\n        description: 'Build and manage your event schedule with a visual timeline or list view.',\n        snippet: (\n            <div className=\"agenda-builder\">\n                <div className=\"agenda-items-container\">\n                    {MOCK_AGENDA_ITEMS.map((item) => (\n                        <AgendaItem key={item._id} item={item} onEdit={() => {}} onDelete={() => {}} />\n                    ))}\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'jobs',\n        label: 'Jobs',\n        icon: 'mdi:briefcase',\n        description: 'Define volunteer roles and assign members to shifts.',\n        snippet: (\n            <div className=\"roles-manager\">\n                <div className=\"roles-list\">\n                    <div className=\"role-card fully-staffed\">\n                        <div className=\"role-header\">\n                            <div className=\"role-info\">\n                                <h4>Registration Desk</h4>\n                            </div>\n                        </div>\n                        <div className=\"role-assignments\">\n                            <div className=\"assignments-header\">\n                                <h5>Assignments (2 / 2)</h5>\n                                <span className=\"fully-staffed-badge\">\n                                    <Icon icon=\"mdi:check-circle\" />\n                                    Fully Staffed\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"role-card\">\n                        <div className=\"role-header\">\n                            <div className=\"role-info\">\n                                <h4>Setup Crew</h4>\n                            </div>\n                        </div>\n                        <div className=\"role-assignments\">\n                            <div className=\"assignments-header\">\n                                <h5>Assignments (1 / 3)</h5>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"role-card\">\n                        <div className=\"role-header\">\n                            <div className=\"role-info\">\n                                <h4>Photographer</h4>\n                            </div>\n                        </div>\n                        <div className=\"role-assignments\">\n                            <div className=\"assignments-header\">\n                                <h5>Assignments (0 / 1)</h5>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'analytics',\n        label: 'Analytics',\n        icon: 'mingcute:chart-line-fill',\n        description: 'Track views, RSVPs, and engagement with detailed charts and metrics.',\n        snippet: (\n            <div className=\"event-analytics-detail\">\n                <HeaderContainer\n                    icon=\"mingcute:chart-bar-fill\"\n                    header=\"Engagement Funnel\"\n                    classN=\"analytics-card funnel-section\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content funnel-chart-container\">\n                        <div className=\"funnel-chart-wrapper\">\n                            <FunnelChart data={FAKE_FUNNEL_DATA} />\n                        </div>\n                    </div>\n                </HeaderContainer>\n                <div className=\"analytics-grid\">\n                    <HeaderContainer icon=\"mdi:eye\" header=\"Views\" classN=\"analytics-card\" size=\"1rem\">\n                        <div className=\"card-content\">\n                            <div className=\"views-grid\">\n                                <div className=\"views-squares-wrapper\">\n                                    <div className=\"view-square-wrapper\">\n                                        <div className=\"view-square\">\n                                            <div className=\"view-square-content\">\n                                                <span className=\"view-value\">98</span>\n                                                <span className=\"view-label\">Logged-in</span>\n                                                <span className=\"view-subtitle\">45 unique</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"view-square-wrapper\">\n                                        <div className=\"view-square\">\n                                            <div className=\"view-square-content\">\n                                                <span className=\"view-value\">58</span>\n                                                <span className=\"view-label\">Anonymous</span>\n                                                <span className=\"view-subtitle\">32 unique</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"view-total-wrapper\">\n                                    <div className=\"view-total\">\n                                        <div className=\"view-total-content\">\n                                            <span className=\"view-value\">156</span>\n                                            <span className=\"view-label\">Total Views</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </HeaderContainer>\n                    <HeaderContainer icon=\"mingcute:trending-up-fill\" header=\"Engagement\" classN=\"analytics-card\" size=\"1rem\">\n                        <div className=\"card-content\">\n                            <div className=\"stat-large\">\n                                <span className=\"stat-value\">15.4%</span>\n                                <span className=\"stat-label\">Engagement Rate</span>\n                            </div>\n                            <div className=\"rsvp-segments-display\">\n                                <div className=\"rsvp-segment-item going\">\n                                    <span className=\"segment-number\">24</span>\n                                    <span className=\"segment-label\">Registrations</span>\n                                </div>\n                            </div>\n                        </div>\n                    </HeaderContainer>\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'details',\n        label: 'Details',\n        icon: 'mdi:pencil',\n        description: 'Edit event name, date, location, and other basic information.',\n        snippet: (\n            <div className=\"event-editor-tab\">\n                <div className=\"editor-content create-event-v3-form\">\n                    <div className=\"form-section\">\n                        <label className=\"section-label\">Event Name</label>\n                        <div className=\"onboarding-field-preview\">Annual Spring Gala</div>\n                    </div>\n                    <div className=\"form-section\">\n                        <label className=\"section-label\">Date & Time</label>\n                        <div className=\"onboarding-field-preview\">Saturday, March 15, 2025 at 6:00 PM  9:00 PM</div>\n                    </div>\n                    <div className=\"form-section\">\n                        <label className=\"section-label\">Location</label>\n                        <div className=\"onboarding-field-preview\">Main Hall, Building A</div>\n                    </div>\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'registrations',\n        label: 'Registrations',\n        icon: 'mdi:clipboard-list-outline',\n        description: 'View registration responses, export to CSV, and manage form settings.',\n        snippet: (\n            <div className=\"registrations-tab\">\n                <div className=\"registrations-table-wrapper\">\n                    <table className=\"registrations-table\">\n                        <thead>\n                            <tr>\n                                <th>Name</th>\n                                <th>Email</th>\n                                <th>Submitted</th>\n                                <th className=\"th-actions\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                <td>Jane Doe</td>\n                                <td>jane@example.com</td>\n                                <td>3/13/2025, 2:30:00 PM</td>\n                                <td className=\"td-actions\" />\n                            </tr>\n                            <tr>\n                                <td>John Smith</td>\n                                <td>john@example.com</td>\n                                <td>3/14/2025, 10:15:00 AM</td>\n                                <td className=\"td-actions\" />\n                            </tr>\n                            <tr>\n                                <td>Alex Chen</td>\n                                <td>alex@example.com</td>\n                                <td>3/15/2025, 8:00:00 AM</td>\n                                <td className=\"td-actions\" />\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        )\n    },\n    {\n        id: 'checkin',\n        label: 'Check-In',\n        icon: 'uil:qrcode-scan',\n        description: 'Enable QR or link check-in and track attendance in real time.',\n        snippet: (\n            <div className=\"event-checkin-tab\">\n                <div className=\"checkin-stats\">\n                    <KpiCard title=\"Checked In\" value={12} icon=\"mdi:account-check\" iconVariant=\"approved\" />\n                    <KpiCard title=\"Total Registrations\" value={24} icon=\"mdi:account-group\" />\n                    <KpiCard title=\"Check-In Rate\" value=\"50%\" icon=\"mdi:chart-line\" />\n                </div>\n                <div className=\"checkin-methods\">\n                    <HeaderContainer\n                        icon=\"fa7-solid:qrcode\"\n                        header=\"QR Code\"\n                        classN=\"checkin-section checkin-section-qr\"\n                        right={\n                            <button type=\"button\" className=\"copy-checkin-link-btn\" disabled>\n                                <Icon icon=\"mdi:link-variant\" />\n                                Copy link\n                            </button>\n                        }\n                    >\n                        <div className=\"checkin-section-content\">\n                            <div className=\"qr-code-display\">\n                                <div className=\"qr-code-image-container onboarding-qr-placeholder\">\n                                    <Icon icon=\"fa7-solid:qrcode\" />\n                                    <span>QR Code</span>\n                                </div>\n                            </div>\n                        </div>\n                    </HeaderContainer>\n                </div>\n            </div>\n        )\n    }\n];\n\nfunction EventDashboardOnboarding({ onClose, handleClose }) {\n    const close = handleClose || onClose;\n    const { AtlasMain } = useGradient();\n    const [currentSlide, setCurrentSlide] = useState(0);\n    const slide = SLIDES[currentSlide];\n    const isFirst = currentSlide === 0;\n    const isLast = currentSlide === SLIDES.length - 1;\n\n    const handlePrev = () => {\n        setCurrentSlide((prev) => Math.max(0, prev - 1));\n    };\n\n    const handleNext = () => {\n        if (isLast) {\n            close?.();\n        } else {\n            setCurrentSlide((prev) => Math.min(SLIDES.length - 1, prev + 1));\n        }\n    };\n\n    const handleSkip = () => {\n        close?.();\n    };\n\n    return (\n        <div className=\"event-dashboard-onboarding\">\n            <div className=\"event-dashboard-onboarding__header\">\n                <h2 className=\"event-dashboard-onboarding__title\">Welcome to the Event Dashboard</h2>\n                <p className=\"event-dashboard-onboarding__subtitle\">\n                    Here&apos;s a quick tour of what you can do\n                </p>\n            </div>\n\n            <div className=\"event-dashboard-onboarding__slide\">\n                <div className=\"event-dashboard-onboarding__slide-header\">\n                    <Icon icon={slide.icon} className=\"slide-icon\" />\n                    <h3 className=\"slide-title\">{slide.label}</h3>\n                </div>\n                <div className=\"event-dashboard-onboarding__snippet-area\">\n                    <div className=\"event-dashboard-onboarding__gradient-bg\">\n                        <img src={AtlasMain} alt=\"\" />\n                    </div>\n                    <span className=\"event-dashboard-onboarding__preview-badge\">Preview</span>\n                    <div className=\"event-dashboard-onboarding__snippet-inner\">{slide.snippet}</div>\n                </div>\n                <p className=\"event-dashboard-onboarding__description\">{slide.description}</p>\n            </div>\n\n            <div className=\"event-dashboard-onboarding__footer\">\n                <div className=\"event-dashboard-onboarding__dots\">\n                    {SLIDES.map((s, i) => (\n                        <button\n                            key={s.id}\n                            type=\"button\"\n                            className={`onboarding-dot ${i === currentSlide ? 'active' : ''}`}\n                            onClick={() => setCurrentSlide(i)}\n                            aria-label={`Go to slide ${i + 1}`}\n                        />\n                    ))}\n                </div>\n                <div className=\"event-dashboard-onboarding__actions\">\n                    <button\n                        type=\"button\"\n                        className=\"onboarding-btn onboarding-btn--skip\"\n                        onClick={handleSkip}\n                    >\n                        Skip\n                    </button>\n                    <div className=\"onboarding-nav-buttons\">\n                        <button\n                            type=\"button\"\n                            className=\"onboarding-btn onboarding-btn--prev\"\n                            onClick={handlePrev}\n                            disabled={isFirst}\n                        >\n                            <Icon icon=\"mdi:chevron-left\" />\n                            Prev\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"onboarding-btn onboarding-btn--next\"\n                            onClick={handleNext}\n                        >\n                            {isLast ? 'Get Started' : 'Next'}\n                            {!isLast && <Icon icon=\"mdi:chevron-right\" />}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EventDashboardOnboarding;\n","import React, { useState, useMemo } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport {\n    XYChart,\n    Axis,\n    Grid,\n    AreaSeries,\n    LineSeries,\n    GlyphSeries,\n    buildChartTheme,\n    Tooltip,\n} from '@visx/xychart';\nimport { curveMonotoneX } from '@visx/curve';\nimport './EventDashboard.scss';\n\nconst accessors = {\n    xAccessor: (d) => d.x,\n    yAccessor: (d) => d.y,\n};\n\nfunction toLocalDateKey(date) {\n    const d = new Date(date);\n    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n}\n\nfunction formatSemanticDate(dateStr) {\n    const date = new Date(dateStr + 'T12:00:00');\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const d = new Date(date);\n    d.setHours(0, 0, 0, 0);\n    const diffDays = Math.round((today - d) / (1000 * 60 * 60 * 24));\n    if (diffDays === 0) return 'Today';\n    if (diffDays === 1) return 'Yesterday';\n    if (diffDays > 1 && diffDays < 7) {\n        return date.toLocaleDateString('en-US', { weekday: 'short' });\n    }\n    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\n}\n\nconst chartTheme = buildChartTheme({\n    colors: ['#22c55e', '#94a3b8'],\n    backgroundColor: 'transparent',\n    gridColor: 'rgba(0, 0, 0, 0.14)',\n    gridColorDark: 'rgba(0, 0, 0, 0.2)',\n    tickLength: 0,\n});\n\nfunction generateFakeRegistrations(eventCreated, dayBeforeEvent, targetAttendance) {\n    const registrations = {};\n    const start = new Date(eventCreated);\n    start.setHours(0, 0, 0, 0);\n    const end = new Date(dayBeforeEvent);\n    end.setHours(0, 0, 0, 0);\n    const now = new Date();\n    now.setHours(23, 59, 59, 999);\n    const targetTotal = 500;\n    const days = [];\n    for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {\n        const currentDate = new Date(d);\n        currentDate.setHours(0, 0, 0, 0);\n        if (currentDate <= now) days.push(currentDate.toISOString().split('T')[0]);\n    }\n    if (days.length === 0) return registrations;\n    const spikeDays = new Set();\n    while (spikeDays.size < Math.min(3, Math.floor(days.length * 0.15))) {\n        spikeDays.add(Math.floor(Math.random() * days.length));\n    }\n    const quietDays = new Set();\n    while (quietDays.size < Math.min(5, Math.floor(days.length * 0.25))) {\n        quietDays.add(Math.floor(Math.random() * days.length));\n    }\n    const weights = days.map((_, i) => {\n        const t = i / Math.max(1, days.length - 1);\n        const early = 1.5 - t;\n        const late = 0.5 + t;\n        const mid = 0.8 + 0.4 * Math.sin(t * Math.PI);\n        let w = early * 0.25 + late * 0.35 + mid * 0.4;\n        if (spikeDays.has(i)) w *= 2.5 + Math.random();\n        if (quietDays.has(i)) w *= 0.1 + Math.random() * 0.2;\n        return Math.max(0.01, w + (Math.random() - 0.3));\n    });\n    const totalWeight = weights.reduce((a, b) => a + b, 0);\n    const raw = weights.map((w) => Math.round((w / totalWeight) * targetTotal));\n    const diff = targetTotal - raw.reduce((a, b) => a + b, 0);\n    raw[raw.length - 1] += diff;\n    days.forEach((dayKey, i) => {\n        const count = Math.max(0, raw[i] || 0);\n        if (count > 0) registrations[dayKey] = count;\n    });\n    return registrations;\n}\n\nfunction RSVPGrowthChart({ eventId, orgId, expectedAttendance, registrationCount }) {\n    const [isCumulative, setIsCumulative] = useState(true);\n    const [useFakeRsvpData, setUseFakeRsvpData] = useState(false);\n\n    const timezone = typeof Intl !== 'undefined' ? Intl.DateTimeFormat().resolvedOptions().timeZone : undefined;\n    const rsvpGrowthUrl = eventId && orgId\n        ? `/org-event-management/${orgId}/events/${eventId}/rsvp-growth${timezone ? `?timezone=${encodeURIComponent(timezone)}` : ''}`\n        : null;\n    const { data: growthData, loading, error } = useFetch(rsvpGrowthUrl);\n\n    const { dailyData, requiredGrowth, targetAttendance, isFrozen, requiredPerDay } = useMemo(() => {\n        if (!growthData?.success || !growthData?.data) {\n            console.log('[RSVPGrowthChart] no growthData', { success: growthData?.success, hasData: !!growthData?.data });\n            return { dailyData: [], requiredGrowth: [], targetAttendance: 0, isFrozen: false, requiredPerDay: 0 };\n        }\n        const { registrations: rawRegistrations = {}, eventCreated, eventStart, expectedAttendance } = growthData.data;\n        console.log('[RSVPGrowthChart] raw API data', {\n            rawRegistrations,\n            eventCreated,\n            eventStart,\n            expectedAttendance\n        });\n        const dayBeforeEventTemp = new Date(eventStart);\n        dayBeforeEventTemp.setDate(dayBeforeEventTemp.getDate() - 1);\n        dayBeforeEventTemp.setHours(0, 0, 0, 0);\n        const registrations = useFakeRsvpData\n            ? generateFakeRegistrations(eventCreated, dayBeforeEventTemp, expectedAttendance)\n            : rawRegistrations;\n        const now = new Date();\n        const eventCreatedDate = new Date(eventCreated);\n        const eventStartDate = new Date(eventStart);\n        const cutoffDate = eventStartDate < now ? eventStartDate : now;\n        const cutoffDateNormalized = new Date(cutoffDate);\n        cutoffDateNormalized.setHours(23, 59, 59, 999);\n\n        const eventCreatedNormalized = new Date(eventCreatedDate);\n        eventCreatedNormalized.setHours(0, 0, 0, 0);\n        const lastChartDate = new Date(eventStartDate);\n        lastChartDate.setHours(0, 0, 0, 0);\n        // Include event start date so registrations on the day-of are shown\n\n        const dailyData = [];\n        let cumulativeRSVPs = 0;\n        for (let d = new Date(eventCreatedNormalized); d <= lastChartDate; d.setDate(d.getDate() + 1)) {\n            const currentDate = new Date(d);\n            currentDate.setHours(0, 0, 0, 0);\n            const dayKey = toLocalDateKey(currentDate);\n            const dailyRSVPs = currentDate <= cutoffDateNormalized ? (registrations[dayKey] || 0) : 0;\n            cumulativeRSVPs += dailyRSVPs;\n            dailyData.push({ date: dayKey, dailyRSVPs, cumulativeRSVPs });\n        }\n\n        const target = useFakeRsvpData ? 500 : (expectedAttendance || 0);\n        const actualDays = dailyData.length;\n        const originalRequiredPerDay = actualDays > 0 ? target / actualDays : 0;\n        const requiredGrowth = dailyData.map((day, i) => ({\n            date: day.date,\n            required: i === dailyData.length - 1 ? target : (i + 1) * originalRequiredPerDay,\n        }));\n\n        console.log('[RSVPGrowthChart] dailyData computed', {\n            dailyDataLength: dailyData.length,\n            sampleDays: dailyData.slice(0, 3).map((d) => ({ date: d.date, dailyRSVPs: d.dailyRSVPs, cumulativeRSVPs: d.cumulativeRSVPs })),\n            lastDay: dailyData[dailyData.length - 1],\n            daysWithRegistrations: dailyData.filter((d) => d.dailyRSVPs > 0)\n        });\n\n        return {\n            dailyData,\n            requiredGrowth,\n            targetAttendance: target,\n            isFrozen: eventStartDate < now,\n            requiredPerDay: originalRequiredPerDay,\n        };\n    }, [growthData, useFakeRsvpData]);\n\n    const statsFromProps = registrationCount !== undefined || (expectedAttendance ?? 0) > 0;\n    const StatsHeader = () => (\n        <div className=\"chart-stats-inline\">\n            <div className=\"chart-stat-item\">\n                <span className=\"chart-stat-value\">{registrationCount ?? 0}</span>\n                <span className=\"chart-stat-label\">Registered</span>\n            </div>\n            {(expectedAttendance ?? 0) > 0 && (\n                <div className=\"chart-stat-item\">\n                    <span className=\"chart-stat-value\">{expectedAttendance}</span>\n                    <span className=\"chart-stat-label\">Expected</span>\n                </div>\n            )}\n        </div>\n    );\n\n    if (loading) {\n        return (\n            <div className=\"rsvp-growth-chart rsvp-growth-chart-visx\">\n                {statsFromProps && (\n                    <div className=\"chart-header\">\n                        <StatsHeader />\n                    </div>\n                )}\n                <div className=\"chart-loading\">Loading growth data...</div>\n            </div>\n        );\n    }\n\n    if (error || !growthData?.success) {\n        return (\n            <div className=\"rsvp-growth-chart rsvp-growth-chart-visx\">\n                {statsFromProps && (\n                    <div className=\"chart-header\">\n                        <StatsHeader />\n                    </div>\n                )}\n                <div className=\"chart-error\">Error loading growth data</div>\n            </div>\n        );\n    }\n\n    const currentRSVPs = useFakeRsvpData\n        ? (dailyData?.[dailyData.length - 1]?.cumulativeRSVPs ?? 0)\n        : (registrationCount ?? dailyData?.[dailyData.length - 1]?.cumulativeRSVPs ?? 0);\n    const displayExpected = useFakeRsvpData ? targetAttendance : (expectedAttendance ?? targetAttendance ?? 0);\n    const todayStr = toLocalDateKey(new Date());\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    const yesterdayStr = toLocalDateKey(yesterday);\n    const todayDaily = dailyData?.find((d) => d.date === todayStr)?.dailyRSVPs ?? 0;\n    const yesterdayDaily = dailyData?.find((d) => d.date === yesterdayStr)?.dailyRSVPs ?? 0;\n    const dailyChangePercent =\n        yesterdayDaily > 0\n            ? Math.round(((todayDaily - yesterdayDaily) / yesterdayDaily) * 100)\n            : todayDaily > 0\n              ? 100\n              : 0;\n    const hasChartData = dailyData && dailyData.length > 0;\n\n    if (!hasChartData) {\n        return (\n            <div className=\"rsvp-growth-chart rsvp-growth-chart-visx rsvp-growth-chart-minimal\">\n                <div className=\"chart-header\">\n                    <div className=\"chart-stats-inline\">\n                        <div className=\"chart-stat-item\">\n                            <span className=\"chart-stat-value\">{currentRSVPs}</span>\n                            <span className=\"chart-stat-label\">Registered</span>\n                        </div>\n                        {displayExpected > 0 && (\n                            <div className=\"chart-stat-item\">\n                                <span className=\"chart-stat-value\">{displayExpected}</span>\n                                <span className=\"chart-stat-label\">Expected</span>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div className=\"chart-empty\">No registration data available</div>\n            </div>\n        );\n    }\n\n    const beforeFilter = isCumulative\n        ? dailyData.map((day) => ({ x: day.date, y: day.cumulativeRSVPs }))\n        : dailyData.map((day) => ({ x: day.date, y: day.dailyRSVPs }));\n    const actualData = beforeFilter.filter((d) => d.x <= todayStr);\n\n    console.log('[RSVPGrowthChart] chart data', {\n        todayStr,\n        isCumulative,\n        beforeFilterLength: beforeFilter.length,\n        beforeFilterWithY: beforeFilter.filter((d) => d.y > 0),\n        actualDataLength: actualData.length,\n        actualDataWithY: actualData.filter((d) => d.y > 0),\n        filterRemoved: beforeFilter.filter((d) => d.x > todayStr)\n    });\n\n    const requiredData = isCumulative\n        ? requiredGrowth.map((day) => ({ x: day.date, y: day.required }))\n        : dailyData.map((day) => ({\n              x: day.date,\n              y: Math.round(requiredPerDay * 10) / 10,\n          }));\n\n    const yMax = (() => {\n        const actualMax = Math.max(...actualData.map((d) => d.y), 0);\n        const requiredMax = Math.max(...requiredData.map((d) => d.y), 0);\n        const cap = displayExpected > 0 ? displayExpected : Math.max(actualMax, requiredMax);\n        return Math.ceil(Math.max(actualMax, requiredMax, cap) * 1.1) || 10;\n    })();\n\n    return (\n        <div className=\"rsvp-growth-chart rsvp-growth-chart-visx\">\n            <div className=\"chart-header\">\n                <div className=\"chart-stats-inline\">\n                    <div className=\"chart-stat-item\">\n                        <span className=\"chart-stat-value\">{currentRSVPs}</span>\n                        <span className=\"chart-stat-label\">Registered</span>\n                    </div>\n                    {displayExpected > 0 && (\n                        <div className=\"chart-stat-item\">\n                            <span className=\"chart-stat-value\">{displayExpected}</span>\n                            <span className=\"chart-stat-label\">Expected</span>\n                        </div>\n                    )}\n                    <div className=\"chart-stat-item\">\n                        <span className=\"chart-stat-value\">{todayDaily}</span>\n                        <span className=\"chart-stat-label\">\n                            Daily\n                            {dailyChangePercent !== 0 && (\n                                <span\n                                    className={`chart-stat-change ${dailyChangePercent > 0 ? 'up' : 'down'}`}\n                                    title={dailyChangePercent > 0 ? `Up ${dailyChangePercent}% from yesterday` : `Down ${Math.abs(dailyChangePercent)}% from yesterday`}\n                                >\n                                    {dailyChangePercent > 0 ? (\n                                        <Icon icon=\"mdi:trending-up\" />\n                                    ) : (\n                                        <Icon icon=\"mdi:trending-down\" />\n                                    )}\n                                    {Math.abs(dailyChangePercent)}%\n                                </span>\n                            )}\n                        </span>\n                    </div>\n                </div>\n                <div className=\"chart-header-right\">\n                    {useFakeRsvpData && (\n                        <span className=\"frozen-badge\" style={{ background: 'var(--beacon-accent, #998df2)' }}>\n                            Fake data\n                        </span>\n                    )}\n                    {isFrozen && (\n                        <span className=\"frozen-badge\">\n                            <Icon icon=\"mdi:lock\" />\n                            Frozen\n                        </span>\n                    )}\n                    <div className=\"chart-controls\">\n                        {/* <button\n                            type=\"button\"\n                            className={`toggle-btn ${useFakeRsvpData ? 'active' : ''}`}\n                            onClick={() => setUseFakeRsvpData((v) => !v)}\n                            title=\"Toggle fake RSVP data for preview\"\n                        >\n                            Fake RSVP\n                        </button> */}\n                        <button\n                            type=\"button\"\n                            className={`toggle-btn ${isCumulative ? 'active' : ''}`}\n                            onClick={() => setIsCumulative(true)}\n                        >\n                            Cumulative\n                        </button>\n                        <button\n                            type=\"button\"\n                            className={`toggle-btn ${!isCumulative ? 'active' : ''}`}\n                            onClick={() => setIsCumulative(false)}\n                        >\n                            Daily\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"chart-container chart-container-visx\">\n                <XYChart\n                    theme={chartTheme}\n                    xScale={{ type: 'band', paddingInner: 0.3, paddingOuter: 0.2 }}\n                    yScale={{ type: 'linear', domain: [0, yMax] }}\n                    height={280}\n                    margin={{ top: 12, right: 12, bottom: 28, left: 36 }}\n                >\n                    <Grid\n                        columns={false}\n                        numTicks={4}\n                        strokeDasharray=\"2 4\"\n                        className=\"chart-grid\"\n                    />\n                    <Axis\n                        orientation=\"bottom\"\n                        tickFormat={formatSemanticDate}\n                        tickLabelProps={() => ({\n                            fill: 'var(--light-text)',\n                            fontSize: 10,\n                            textAnchor: 'middle',\n                        })}\n                        numTicks={Math.min(dailyData.length, 12)}\n                    />\n                    <Axis\n                        orientation=\"left\"\n                        tickLabelProps={() => ({\n                            fill: 'var(--light-text)',\n                            fontSize: 10,\n                            textAnchor: 'end',\n                            dx: -4,\n                        })}\n                        numTicks={4}\n                    />\n                    {actualData.length > 0 && (\n                        <AreaSeries\n                            dataKey=\"actual\"\n                            data={actualData}\n                            xAccessor={accessors.xAccessor}\n                            yAccessor={accessors.yAccessor}\n                            curve={curveMonotoneX}\n                            fillOpacity={0.2}\n                            fill=\"url(#actual-gradient)\"\n                        />\n                    )}\n                    <defs>\n                        <linearGradient id=\"actual-gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                            <stop offset=\"0%\" stopColor=\"#22c55e\" stopOpacity={0.4} />\n                            <stop offset=\"100%\" stopColor=\"#22c55e\" stopOpacity={0} />\n                        </linearGradient>\n                        <linearGradient id=\"required-gradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                            <stop offset=\"0%\" stopColor=\"#94a3b8\" stopOpacity={0.25} />\n                            <stop offset=\"100%\" stopColor=\"#94a3b8\" stopOpacity={0} />\n                        </linearGradient>\n                    </defs>\n                    <AreaSeries\n                        dataKey=\"required\"\n                        data={requiredData}\n                        xAccessor={accessors.xAccessor}\n                        yAccessor={accessors.yAccessor}\n                        curve={curveMonotoneX}\n                        fillOpacity={0.2}\n                        fill=\"url(#required-gradient)\"\n                        renderLine={false}\n                    />\n                    {actualData.length > 0 && (\n                        <>\n                            <LineSeries\n                                dataKey=\"actual\"\n                                data={actualData}\n                                xAccessor={accessors.xAccessor}\n                                yAccessor={accessors.yAccessor}\n                                curve={curveMonotoneX}\n                                stroke=\"#22c55e\"\n                                strokeWidth={2}\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                            />\n                            <GlyphSeries\n                                dataKey=\"actual-end\"\n                                data={[actualData[actualData.length - 1]]}\n                                xAccessor={accessors.xAccessor}\n                                yAccessor={accessors.yAccessor}\n                                size={8}\n                                enableEvents={false}\n                                renderGlyph={({ key, x, y }) => (\n                                    <circle\n                                        key={key}\n                                        cx={x}\n                                        cy={y}\n                                        r={4}\n                                        fill=\"#22c55e\"\n                                        stroke=\"#fff\"\n                                        strokeWidth={2}\n                                    />\n                                )}\n                            />\n                        </>\n                    )}\n                    <LineSeries\n                        dataKey=\"required\"\n                        data={requiredData}\n                        xAccessor={accessors.xAccessor}\n                        yAccessor={accessors.yAccessor}\n                        curve={curveMonotoneX}\n                        stroke=\"#94a3b8\"\n                        strokeWidth={1.5}\n                        strokeDasharray=\"5 5\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                    />\n                    <Tooltip\n                        className=\"rsvp-chart-tooltip-wrapper\"\n                        snapTooltipToDatumX\n                        snapTooltipToDatumY\n                        showVerticalCrosshair\n                        showSeriesGlyphs={false}\n                        renderTooltip={({ tooltipData }) => {\n                            if (!tooltipData?.datumByKey) return null;\n                            const actualDatum = tooltipData.datumByKey?.actual?.datum;\n                            const requiredDatum = tooltipData.datumByKey?.required?.datum;\n                            const dateStr = (actualDatum || requiredDatum)?.x;\n                            if (!dateStr) return null;\n                            const label = formatSemanticDate(dateStr);\n                            return (\n                                <div className=\"rsvp-chart-tooltip\">\n                                    <div className=\"rsvp-chart-tooltip-date\">{label}</div>\n                                    {actualDatum && (\n                                        <div className=\"rsvp-chart-tooltip-row\">\n                                            <span className=\"rsvp-chart-tooltip-dot rsvp-chart-tooltip-dot-actual\" />\n                                            {isCumulative ? 'Registrations' : 'Daily'}:{' '}\n                                            {Math.round(actualDatum.y)}\n                                        </div>\n                                    )}\n                                    {requiredDatum && (\n                                        <div className=\"rsvp-chart-tooltip-row\">\n                                            <span className=\"rsvp-chart-tooltip-dot rsvp-chart-tooltip-dot-required\" />\n                                            {isCumulative ? 'Required' : 'Required daily'}:{' '}\n                                            {Math.round(requiredDatum.y * 10) / 10}\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        }}\n                    />\n                </XYChart>\n            </div>\n\n            <div className=\"chart-legend\">\n                <span className=\"chart-legend-item\">\n                    <span className=\"chart-legend-dot chart-legend-dot-actual\" />\n                    {isCumulative ? 'Registrations' : 'Daily'}\n                </span>\n                <span className=\"chart-legend-item\">\n                    <span className=\"chart-legend-dot chart-legend-dot-required\" />\n                    {isCumulative ? 'Required' : 'Required daily'}\n                </span>\n            </div>\n        </div>\n    );\n}\n\nexport default RSVPGrowthChart;\n","import React from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport EventPageContent from '../../../../EventPage/EventPageContent';\nimport EventMobilePreview from './EventMobilePreview';\nimport '../../../../EventPage/EventPage.scss';\nimport './EventPreview.scss';\n\nfunction EventPreview({ event, onRefetch }) {\n    if (!event) return null;\n\n    return (\n        <div className=\"event-preview\">\n            <div className=\"event-preview-layout\">\n                <div className=\"event-preview-wrapper event-preview-desktop\">\n                    <div className=\"event-preview-scaled\">\n                        <div className=\"event-page event-preview-page\">\n                            <EventPageContent\n                                event={event}\n                                onRefetch={onRefetch}\n                                previewMode={true}\n                                showAnalytics={false}\n                            />\n                        </div>\n                    </div>\n                </div>\n                {/* <div className=\"event-preview-wrapper event-preview-mobile\">\n                    <EventMobilePreview event={event} />\n                </div> */}\n            </div>\n        </div>\n    );\n}\n\nexport default EventPreview;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../NotificationContext';\nimport RSVPGrowthChart from './RSVPGrowthChart';\nimport AgendaDailyCalendar from './EventAgendaBuilder/AgendaDailyCalendar/AgendaDailyCalendar';\nimport EventPreview from './EventPreview';\nimport './EventDashboard.scss';\n\nfunction EventOverview({ event, stats, agenda, roles: rolesSummary, equipment, orgId, onRefresh, onTabChange }) {\n    const { addNotification } = useNotification();\n    const [rolesData, setRolesData] = useState([]);\n    \n    // Fetch full roles data to check job fill status\n    const { data: rolesResponse } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/roles` : null\n    );\n\n    useEffect(() => {\n        if (rolesResponse?.success) {\n            setRolesData(rolesResponse.data.roles || []);\n        }\n    }, [rolesResponse]);\n\n    // Calculate jobs filled status\n    const calculateJobsFilled = () => {\n        if (rolesData.length === 0) return { ready: false, filled: 0, required: 0 };\n        \n        let totalRequired = 0;\n        let totalFilled = 0;\n        \n        rolesData.forEach(role => {\n            const required = role.requiredCount || 0;\n            const confirmed = role.assignments?.filter(a => a.status === 'confirmed').length || 0;\n            totalRequired += required;\n            totalFilled += confirmed;\n        });\n        \n        return {\n            ready: totalRequired > 0 && totalFilled >= totalRequired,\n            filled: totalFilled,\n            required: totalRequired\n        };\n    };\n\n    const jobsStatus = calculateJobsFilled();\n    const jobsPercentage = jobsStatus.required > 0 \n        ? Math.round((jobsStatus.filled / jobsStatus.required) * 100) \n        : 0;\n    const jobsLowCoverage = jobsPercentage < 50;\n\n    // Readiness checks\n    const readinessChecks = [\n        {\n            id: 'agenda',\n            label: 'Agenda Published',\n            description: agenda?.isPublished \n                ? 'Agenda is published and ready' \n                : 'Agenda has pending changes - click Publish to make them publicly available',\n            ready: agenda?.isPublished || false\n        },\n        {\n            id: 'jobs',\n            label: 'Jobs Filled',\n            description: jobsStatus.required > 0 \n                ? `${jobsStatus.filled} of ${jobsStatus.required} positions filled`\n                : 'No jobs defined',\n            ready: jobsStatus.ready,\n            showProgress: jobsStatus.required > 0,\n            progressData: {\n                filled: jobsStatus.filled,\n                required: jobsStatus.required,\n                percentage: jobsPercentage,\n                lowCoverage: jobsLowCoverage\n            }\n        },\n        {\n            id: 'published',\n            label: 'Event Published',\n            description: 'Event is publicly visible',\n            // ready: event?.status === 'published' || event?.status === 'approved'\n            ready: true\n        }\n    ];\n\n    const readyCount = readinessChecks.filter(check => check.ready).length;\n    const totalChecks = readinessChecks.length;\n\n    const agendaItemsWithTimes = useMemo(() => {\n        const items = agenda?.items || [];\n        return items\n            .filter((item) => item.startTime && item.endTime)\n            .map((item) => ({\n                ...item,\n                startTime: typeof item.startTime === 'string' ? new Date(item.startTime) : item.startTime,\n                endTime: typeof item.endTime === 'string' ? new Date(item.endTime) : item.endTime\n            }));\n    }, [agenda?.items]);\n\n    const showScheduleCalendar = agendaItemsWithTimes.length > 0 && event;\n\n    const eventWithAgenda = event\n        ? {\n              ...event,\n              eventAgenda: {\n                  items: agenda?.items || [],\n                  isPublished: agenda?.isPublished\n              }\n          }\n        : null;\n\n    const handleCopyLink = async () => {\n        if (!event?._id) return;\n        const eventUrl = `${window.location.origin}/event/${event._id}`;\n        try {\n            await navigator.clipboard.writeText(eventUrl);\n            addNotification({ title: 'Copied', message: 'Event link copied to clipboard', type: 'success' });\n        } catch {\n            addNotification({ title: 'Error', message: 'Failed to copy link', type: 'error' });\n        }\n    };\n\n    const handlePreview = () => {\n        if (!event?._id) return;\n        window.open(`${window.location.origin}/event/${event._id}`, '_blank', 'noopener,noreferrer');\n    };\n\n    const registrationCount = stats?.registrationCount ?? event?.registrationCount ?? 0;\n    const expectedAttendance = event?.expectedAttendance ?? 0;\n\n    const actionsColumn = (\n        <div className=\"overview-actions-column\">\n            <button type=\"button\" className=\"event-preview-action\" onClick={handlePreview} title=\"Open full event\">\n                <Icon icon=\"mdi:open-in-new\" />\n                <span>View full event</span>\n            </button>\n            <button type=\"button\" className=\"event-preview-action\" onClick={handleCopyLink} title=\"Copy event link\">\n                <Icon icon=\"mdi:link\" />\n                <span>Copy link</span>\n            </button>\n            {onTabChange && (\n                <>\n                    <button type=\"button\" className=\"event-preview-action\" onClick={() => onTabChange('edit')} title=\"Edit event details\">\n                        <Icon icon=\"mdi:pencil\" />\n                        <span>Edit event</span>\n                    </button>\n                    <button type=\"button\" className=\"event-preview-action\" onClick={() => onTabChange('registrations')} title=\"View registrations\">\n                        <Icon icon=\"mdi:clipboard-list-outline\" />\n                        <span>Registrations</span>\n                    </button>\n                    <button type=\"button\" className=\"event-preview-action\" onClick={() => onTabChange('checkin')} title=\"Check-in management\">\n                        <Icon icon=\"uil:qrcode-scan\" />\n                        <span>Check-in</span>\n                    </button>\n                </>\n            )}\n        </div>\n    );\n\n    return (\n        <div className=\"event-overview\">\n            {(eventWithAgenda || event) && (\n                <div className=\"overview-preview-chart-row\">\n                    {eventWithAgenda && (\n                        <div className=\"overview-preview-box\">\n                            <div className=\"overview-preview-box-header\">\n                                <h3 className=\"event-dashboard-card-header\">\n                                    <Icon icon=\"iconoir:eye-solid\" />\n                                    Event Preview\n                                </h3>\n                            </div>\n                            <div className=\"overview-preview-box-body\">\n                                <EventPreview event={eventWithAgenda} onRefetch={onRefresh} />\n                                <div className=\"overview-preview-actions\">\n                                    <button type=\"button\" className=\"event-preview-action\" onClick={handleCopyLink} title=\"Copy event link\">\n                                        <Icon icon=\"mdi:link\" />\n                                        <span>Copy link</span>\n                                    </button>\n                                    {onTabChange && (\n                                        <>\n                                            <button type=\"button\" className=\"event-preview-action\" onClick={() => onTabChange('registrations')} title=\"View registrations\">\n                                                <Icon icon=\"mdi:clipboard-list-outline\" />\n                                                <span>Registrations</span>\n                                            </button>\n                                            <button type=\"button\" className=\"event-preview-action\" onClick={() => onTabChange('checkin')} title=\"Check-in management\">\n                                                <Icon icon=\"uil:qrcode-scan\" />\n                                                <span>Check-in</span>\n                                            </button>\n                                        </>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                    {event && (\n                        <div className=\"overview-chart-box\">\n                            <div className=\"overview-chart-box-header\">\n                                <h3 className=\"event-dashboard-card-header\">\n                                    <Icon icon=\"mdi:chart-line\" />\n                                    Registration Chart\n                                </h3>\n                            </div>\n                            <div className=\"overview-chart-box-body\">\n                                <RSVPGrowthChart\n                                    eventId={event._id}\n                                    orgId={orgId}\n                                    expectedAttendance={expectedAttendance}\n                                    registrationCount={registrationCount}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </div>\n            )}\n            <div className=\"overview-layout\">\n                {/* Left Column: Readiness (1/3 width) */}\n                <div className=\"overview-left-column\">\n                    <div className=\"overview-card readiness-card\">\n                        <h3 className=\"event-dashboard-card-header\">\n                            <Icon icon=\"mdi:clipboard-check-outline\" />\n                            Event Readiness\n                            <span className=\"readiness-count\">{readyCount}/{totalChecks}</span>\n                        </h3>\n                        <div className=\"readiness-list\">\n                            {readinessChecks.map(check => (\n                                <div key={check.id} className={`readiness-item ${check.ready ? 'ready' : 'pending'} ${check.progressData?.lowCoverage ? 'low-coverage' : ''}`}>\n                                    <Icon icon={check.ready ? 'mdi:check-circle' : 'mdi:alert-circle-outline'} />\n                                    <div className=\"readiness-content\">\n                                        <div className=\"readiness-header\">\n                                            <span className=\"readiness-label\">{check.label}</span>\n                                            {check.showProgress && check.progressData && (\n                                                <span className=\"readiness-stats\">\n                                                    {check.progressData.filled} / {check.progressData.required} ({check.progressData.percentage}%)\n                                                </span>\n                                            )}\n                                        </div>\n                                        <span className=\"readiness-description\">{check.description}</span>\n                                        {check.showProgress && check.progressData && (\n                                            <div className=\"readiness-progress\">\n                                                <div className=\"readiness-progress-bar\">\n                                                    <div \n                                                        className={`readiness-progress-fill ${check.progressData.lowCoverage ? 'low' : ''}`}\n                                                        style={{ width: `${Math.min(check.progressData.percentage, 100)}%` }}\n                                                    />\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {showScheduleCalendar && (\n                <div className=\"overview-schedule-section\">\n                    <h3 className=\"event-dashboard-card-header\">\n                        <Icon icon=\"mdi:calendar-clock\" />\n                        Schedule\n                    </h3>\n                    <AgendaDailyCalendar\n                        agendaItems={agendaItemsWithTimes}\n                        event={event}\n                        minuteHeight={2}\n                    />\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default EventOverview;\n","import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../NotificationContext';\nimport apiRequest from '../../../../../utils/postRequest';\nimport { Icon } from '@iconify-icon/react/dist/iconify.mjs';\nimport Loader from '../../../../../components/Loader/Loader';\nimport FilledStar from '../../../../../assets/Icons/FilledStar.svg';\nimport { attributeIcons, selectedAttributeIcons } from '../../../../../Icons';\nimport Popup from '../../../../../components/Popup/Popup';\nimport './RoomSelectorV2.scss';\n\nfunction RoomSelectorV2({ formData, setFormData, onComplete }) {\n    const { addNotification } = useNotification();\n    \n    // State\n    const [rooms, setRooms] = useState([]);\n    const [loading, setLoading] = useState(true); // Start with loading true for initial fetch\n    const [selectedRoomIds, setSelectedRoomIds] = useState(new Set());\n    const [searchQuery, setSearchQuery] = useState('');\n    const [debouncedSearchQuery, setDebouncedSearchQuery] = useState('');\n    const [selectedTags, setSelectedTags] = useState([]);\n    const [sortBy, setSortBy] = useState('name');\n    const [showFilterPopup, setShowFilterPopup] = useState(false);\n    const [page, setPage] = useState(1);\n    const [hasMore, setHasMore] = useState(true);\n    const [totalRooms, setTotalRooms] = useState(0);\n    \n    // Cache for fetched rooms to avoid re-fetching\n    const roomsCache = useRef(new Map());\n    \n    // Refs for stable callbacks\n    const setFormDataRef = useRef(setFormData);\n    const onCompleteRef = useRef(onComplete);\n    \n    useEffect(() => {\n        setFormDataRef.current = setFormData;\n        onCompleteRef.current = onComplete;\n    }, [setFormData, onComplete]);\n    \n    // Initialize selectedRoomIds from formData\n    useEffect(() => {\n        if (formData.selectedRoomIds && Array.isArray(formData.selectedRoomIds)) {\n            setSelectedRoomIds(new Set(formData.selectedRoomIds));\n        }\n    }, []); // Only on mount\n    \n    // Debounce search query\n    useEffect(() => {\n        // Don't update if query hasn't actually changed\n        if (searchQuery === debouncedSearchQuery) {\n            return;\n        }\n        \n        const timer = setTimeout(() => {\n            const wasSearching = debouncedSearchQuery.trim();\n            const willBeSearching = searchQuery.trim();\n            \n            setDebouncedSearchQuery(searchQuery);\n            \n            // Only reset page and clear rooms if transitioning between search and no-search\n            if (wasSearching !== willBeSearching) {\n                setPage(1); // Reset to first page\n                if (willBeSearching) {\n                    // Starting a new search - clear rooms\n                    setRooms([]);\n                } else {\n                    // Clearing search - will reload top rated rooms\n                    hasInitialized.current = false; // Allow reload of top rated\n                }\n            } else if (willBeSearching && searchQuery !== debouncedSearchQuery) {\n                // Search query changed but still searching - reset page\n                setPage(1);\n                setRooms([]);\n            }\n        }, 300);\n        \n        return () => clearTimeout(timer);\n    }, [searchQuery]);\n    \n    // Track if initial load has happened to prevent re-fetching\n    const hasInitialized = useRef(false);\n    const isFetching = useRef(false);\n    \n    // Fetch rooms based on search/filter - only fetch what's needed\n    useEffect(() => {\n        // Prevent concurrent fetches\n        if (isFetching.current) {\n            return;\n        }\n        \n        const fetchRooms = async () => {\n            // Prevent re-fetching initial load if already done\n            // Only skip if we have rooms loaded (not just initialized flag)\n            if (!debouncedSearchQuery.trim() && hasInitialized.current && rooms.length > 0) {\n                return;\n            }\n            \n            // If no search query and already initialized but no rooms, something went wrong - reset\n            if (!debouncedSearchQuery.trim() && hasInitialized.current && rooms.length === 0 && page === 1) {\n                hasInitialized.current = false;\n            }\n            \n            isFetching.current = true;\n            setLoading(true);\n            try {\n                // If there's a search query, use search-rooms endpoint (more efficient)\n                if (debouncedSearchQuery.trim()) {\n                    const response = await apiRequest('/search-rooms', null, {\n                        method: 'GET',\n                        params: {\n                            query: debouncedSearchQuery.trim(),\n                            limit: 20,\n                            page: page\n                        }\n                    });\n                    \n                    if (response.success && response.rooms) {\n                        const newRooms = response.rooms.map(room => ({\n                            id: room._id,\n                            name: room.name || 'Unknown Room',\n                            image: room.image || null,\n                            building: room.building || '',\n                            floor: room.floor || '',\n                            capacity: room.capacity || 0,\n                            attributes: room.attributes || [],\n                            average_rating: room.average_rating || 0,\n                            number_of_ratings: room.number_of_ratings || 0\n                        }));\n                        \n                        if (page === 1) {\n                            setRooms(newRooms);\n                        } else {\n                            setRooms(prev => [...prev, ...newRooms]);\n                        }\n                        \n                        setTotalRooms(response.pagination?.total || newRooms.length);\n                        setHasMore(page < (response.pagination?.totalPages || 1));\n                    }\n                } else {\n                    // No search query - fetch initial set and show top 10 highest rated\n                    // Only fetch once on initial load\n                    if (!hasInitialized.current) {\n                        hasInitialized.current = true;\n                        \n                        // Use optimized endpoint to get top rated rooms directly\n                        const topRatedResponse = await apiRequest('/top-rated-rooms', null, {\n                            method: 'GET',\n                            params: {\n                                limit: 10\n                            }\n                        });\n                        \n                        if (topRatedResponse && topRatedResponse.success && topRatedResponse.data) {\n                            const topRatedRooms = topRatedResponse.data;\n                            \n                            // Get total room count for display\n                            const roomsData = await apiRequest('/getrooms', null, { method: 'GET' });\n                            const totalCount = roomsData?.data ? Object.keys(roomsData.data).length : topRatedRooms.length;\n                            \n                            setRooms(topRatedRooms);\n                            setTotalRooms(totalCount);\n                            setHasMore(false);\n                        } else {\n                            // Fallback to old method if new endpoint fails\n                            const roomsData = await apiRequest('/getrooms', null, { method: 'GET' });\n                            \n                            if (roomsData && roomsData.success && roomsData.data && Object.keys(roomsData.data).length > 0) {\n                                const allRoomIds = Object.values(roomsData.data);\n                                const totalCount = allRoomIds.length;\n                                const sampleSize = Math.min(20, allRoomIds.length);\n                                const sampleRoomIds = allRoomIds.slice(0, sampleSize);\n                                \n                                if (sampleRoomIds.length > 0) {\n                                    const batchResponse = await apiRequest('/getbatch-new', {\n                                        queries: sampleRoomIds,\n                                        exhaustive: true\n                                    });\n                                    \n                                    if (batchResponse && batchResponse.success && batchResponse.data) {\n                                        const fetchedRooms = batchResponse.data\n                                            .map((item, index) => {\n                                                if (!item || !item.room) return null;\n                                                const room = item.room;\n                                                return {\n                                                    id: sampleRoomIds[index],\n                                                    name: room.name || 'Unknown Room',\n                                                    image: room.image || null,\n                                                    building: room.building || '',\n                                                    floor: room.floor || '',\n                                                    capacity: room.capacity || 0,\n                                                    attributes: room.attributes || [],\n                                                    average_rating: room.average_rating || 0,\n                                                    number_of_ratings: room.number_of_ratings || 0,\n                                                    schedule: item.data || null\n                                                };\n                                            })\n                                            .filter(Boolean);\n                                        \n                                        const sortedRooms = fetchedRooms.sort((a, b) => {\n                                            const ratingA = a.average_rating || 0;\n                                            const ratingB = b.average_rating || 0;\n                                            if (ratingB !== ratingA) {\n                                                return ratingB - ratingA;\n                                            }\n                                            return (b.number_of_ratings || 0) - (a.number_of_ratings || 0);\n                                        });\n                                        \n                                        const topRatedRooms = sortedRooms.slice(0, 10);\n                                        setRooms(topRatedRooms);\n                                        setTotalRooms(totalCount);\n                                        setHasMore(false);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (error) {\n                console.error('[RoomSelectorV2] Error fetching rooms:', error);\n                addNotification({\n                    title: 'Error',\n                    message: 'Failed to load rooms. Please try again.',\n                    type: 'error'\n                });\n            } finally {\n                setLoading(false);\n                isFetching.current = false;\n            }\n        };\n        \n        fetchRooms();\n    }, [debouncedSearchQuery, page, addNotification]);\n    \n    // Extract unique attributes from visible rooms (for filter popup)\n    const availableAttributes = useMemo(() => {\n        const attributeSet = new Set();\n        rooms.forEach(room => {\n            if (room.attributes && Array.isArray(room.attributes)) {\n                room.attributes.forEach(attr => attributeSet.add(attr));\n            }\n        });\n        return Array.from(attributeSet).sort();\n    }, [rooms]);\n    \n    // Filter and sort rooms (client-side filtering for attributes and sorting)\n    const filteredRooms = useMemo(() => {\n        let filtered = [...rooms];\n        \n        // Apply attribute filter (client-side since we're already filtering by search)\n        if (selectedTags.length > 0) {\n            filtered = filtered.filter(room =>\n                selectedTags.every(tag => room.attributes?.includes(tag))\n            );\n        }\n        \n        // Apply sorting\n        filtered.sort((a, b) => {\n            switch (sortBy) {\n                case 'name':\n                    return a.name.localeCompare(b.name);\n                case 'rating':\n                    return (b.average_rating || 0) - (a.average_rating || 0);\n                case 'capacity':\n                    return (b.capacity || 0) - (a.capacity || 0);\n                default:\n                    return 0;\n            }\n        });\n        \n        return filtered;\n    }, [rooms, selectedTags, sortBy]);\n    \n    // Selected rooms for display - fetch details if not already loaded\n    const [selectedRooms, setSelectedRooms] = useState([]);\n    \n    useEffect(() => {\n        const fetchSelectedRoomDetails = async () => {\n            const selectedArray = Array.from(selectedRoomIds);\n            if (selectedArray.length === 0) {\n                setSelectedRooms([]);\n                return;\n            }\n            \n            // Find which selected rooms we already have loaded\n            const loadedRooms = selectedArray\n                .map(id => rooms.find(room => room.id === id))\n                .filter(Boolean);\n            \n            // Find which selected rooms we need to fetch\n            const missingIds = selectedArray.filter(id => !rooms.find(room => room.id === id));\n            \n            if (missingIds.length === 0) {\n                setSelectedRooms(loadedRooms);\n                return;\n            }\n            \n            // Fetch missing room details in batch\n            try {\n                const batchResponse = await apiRequest('/getbatch-new', {\n                    queries: missingIds,\n                    exhaustive: true\n                });\n                \n                if (batchResponse.success && batchResponse.data) {\n                    const fetchedRooms = batchResponse.data\n                        .map((item, index) => {\n                            if (!item.data || !item.room) return null;\n                            const room = item.room;\n                            return {\n                                id: missingIds[index],\n                                name: room.name || 'Unknown Room',\n                                image: room.image || null,\n                                building: room.building || '',\n                                floor: room.floor || '',\n                                capacity: room.capacity || 0,\n                                attributes: room.attributes || [],\n                                average_rating: room.average_rating || 0,\n                                number_of_ratings: room.number_of_ratings || 0,\n                                schedule: item.data\n                            };\n                        })\n                        .filter(Boolean);\n                    \n                    // Combine loaded and fetched rooms\n                    setSelectedRooms([...loadedRooms, ...fetchedRooms]);\n                } else {\n                    setSelectedRooms(loadedRooms);\n                }\n            } catch (error) {\n                console.error('Error fetching selected room details:', error);\n                setSelectedRooms(loadedRooms);\n            }\n        };\n        \n        fetchSelectedRoomDetails();\n    }, [selectedRoomIds, rooms]);\n    \n    // Update form data when selection changes\n    const prevSelectionRef = useRef(null);\n    useEffect(() => {\n        if (loading) return;\n        \n        const selectedArray = Array.from(selectedRoomIds);\n        const selectionKey = JSON.stringify(selectedArray.sort());\n        \n        if (prevSelectionRef.current === selectionKey) {\n            return;\n        }\n        \n        prevSelectionRef.current = selectionKey;\n        \n        // Find first selected room from either loaded rooms or selectedRooms\n        const firstSelectedRoom = selectedArray.length > 0 \n            ? (rooms.find(room => room.id === selectedArray[0]) || \n               selectedRooms.find(room => room.id === selectedArray[0])) \n            : null;\n        \n        setFormDataRef.current(prev => ({\n            ...prev,\n            selectedRoomIds: selectedArray,\n            location: firstSelectedRoom?.name || null,\n            classroomId: firstSelectedRoom?.id || null,\n            classroom_id: firstSelectedRoom?.id || null\n        }));\n        \n        onCompleteRef.current(selectedArray.length > 0);\n    }, [selectedRoomIds, rooms, selectedRooms, loading]);\n    \n    // Load more rooms (pagination) - only for search results\n    const loadMore = useCallback(() => {\n        // Only load more if we have a search query (pagination for search)\n        // For initial top-rated rooms, we don't paginate\n        if (!loading && hasMore && debouncedSearchQuery.trim()) {\n            setPage(prev => prev + 1);\n        }\n    }, [loading, hasMore, debouncedSearchQuery]);\n    \n    // Handle room toggle\n    const handleRoomToggle = useCallback((roomId) => {\n        setSelectedRoomIds(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(roomId)) {\n                newSet.delete(roomId);\n            } else {\n                newSet.add(roomId);\n            }\n            return newSet;\n        });\n    }, []);\n    \n    // Handle tag toggle\n    const handleTagToggle = useCallback((tag) => {\n        setSelectedTags(prev => {\n            if (prev.includes(tag)) {\n                return prev.filter(t => t !== tag);\n            } else {\n                return [...prev, tag];\n            }\n        });\n    }, []);\n    \n    // Intersection observer for infinite scroll - only for search results\n    const observerTarget = useRef(null);\n    \n    useEffect(() => {\n        // Only enable infinite scroll for search results, not initial top-rated load\n        if (!debouncedSearchQuery.trim()) {\n            return;\n        }\n        \n        const observer = new IntersectionObserver(\n            entries => {\n                if (entries[0].isIntersecting && hasMore && !loading) {\n                    loadMore();\n                }\n            },\n            { threshold: 0.1 }\n        );\n        \n        const currentTarget = observerTarget.current;\n        if (currentTarget) {\n            observer.observe(currentTarget);\n        }\n        \n        return () => {\n            if (currentTarget) {\n                observer.unobserve(currentTarget);\n            }\n        };\n    }, [hasMore, loading, loadMore, debouncedSearchQuery]);\n    \n    return (\n        <div className=\"room-selector-v2\">\n            <div className=\"info-box\">\n                <p className=\"info-text\">\n                    {searchQuery.trim() \n                        ? 'Search results for your query. Select one or more rooms for your event.'\n                        : 'Showing top 10 highest rated rooms. Search to find specific rooms by name, building, or attributes.'}\n                </p>\n            </div>\n            \n            {/* Search and Filter Bar */}\n            <div className=\"search-filter-bar\">\n                <div className=\"search-input-wrapper\">\n                    <Icon icon=\"mdi:magnify\" className=\"search-icon\" />\n                    <input\n                        type=\"text\"\n                        className=\"search-input\"\n                        placeholder=\"Search rooms...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                    />\n                    {searchQuery && (\n                        <button \n                            className=\"clear-search\"\n                            onClick={() => setSearchQuery('')}\n                        >\n                            <Icon icon=\"mdi:close\" />\n                        </button>\n                    )}\n                </div>\n                \n                <div className=\"filter-buttons\">\n                    <button\n                        className={`filter-btn ${selectedTags.length > 0 ? 'active' : ''}`}\n                        onClick={() => setShowFilterPopup(true)}\n                    >\n                        <Icon icon=\"mdi:filter\" />\n                        Filters\n                        {selectedTags.length > 0 && (\n                            <span className=\"filter-count\">{selectedTags.length}</span>\n                        )}\n                    </button>\n                    \n                    <div className=\"sort-dropdown\">\n                        <select\n                            className=\"sort-select\"\n                            value={sortBy}\n                            onChange={(e) => setSortBy(e.target.value)}\n                        >\n                            <option value=\"name\">Sort by Name</option>\n                            <option value=\"rating\">Sort by Rating</option>\n                            <option value=\"capacity\">Sort by Capacity</option>\n                        </select>\n                        <Icon icon=\"mdi:chevron-down\" className=\"sort-icon\" />\n                    </div>\n                </div>\n            </div>\n            \n            {/* Selected Rooms */}\n            {selectedRooms.length > 0 && (\n                <div className=\"selected-section\">\n                    <h3>Selected Rooms ({selectedRooms.length})</h3>\n                    <div className=\"selected-grid\">\n                        {selectedRooms.map(room => (\n                            <RoomCard\n                                key={room.id}\n                                room={room}\n                                isSelected={true}\n                                onToggle={() => handleRoomToggle(room.id)}\n                            />\n                        ))}\n                    </div>\n                </div>\n            )}\n            \n            {/* All Rooms List */}\n            <div className=\"rooms-section\">\n                {loading && rooms.length === 0 ? (\n                    <div className=\"loading-state\">\n                        <Loader />\n                        <p>Loading rooms...</p>\n                    </div>\n                ) : (\n                    <>\n                        <h3>\n                            {filteredRooms.length === 0 \n                                ? 'No rooms found' \n                                : debouncedSearchQuery.trim()\n                                ? `Search Results (${totalRooms}${totalRooms > filteredRooms.length ? '+' : ''})`\n                                : `Top Rated Rooms (${filteredRooms.length})`}\n                        </h3>\n                <div className=\"rooms-grid\">\n                    {filteredRooms.map(room => (\n                        <RoomCard\n                            key={room.id}\n                            room={room}\n                            isSelected={selectedRoomIds.has(room.id)}\n                            onToggle={() => handleRoomToggle(room.id)}\n                        />\n                    ))}\n                </div>\n                \n                {/* Loading indicator for pagination */}\n                {loading && rooms.length > 0 && (\n                    <div className=\"loading-more\">\n                        <Loader />\n                    </div>\n                )}\n                \n                {/* Infinite scroll trigger */}\n                {hasMore && !loading && (\n                    <div ref={observerTarget} className=\"scroll-trigger\" />\n                )}\n                \n                {/* No more rooms message */}\n                {!hasMore && rooms.length > 0 && (\n                    <div className=\"no-more-rooms\">\n                        <p>No more rooms to load</p>\n                    </div>\n                )}\n                    </>\n                )}\n            </div>\n            \n            {/* Filter Popup */}\n            <Popup \n                isOpen={showFilterPopup} \n                onClose={() => setShowFilterPopup(false)} \n                defaultStyling={true}\n            >\n                <div className=\"filter-popup-content\">\n                    <h3>Filter by Attributes</h3>\n                    <div className=\"attributes-grid\">\n                        {availableAttributes.map(attr => (\n                            <button\n                                key={attr}\n                                className={`attribute-tag ${selectedTags.includes(attr) ? 'selected' : ''}`}\n                                onClick={() => handleTagToggle(attr)}\n                            >\n                                {attr}\n                            </button>\n                        ))}\n                    </div>\n                    <div className=\"popup-actions\">\n                        <button \n                            className=\"btn-secondary\"\n                            onClick={() => {\n                                setSelectedTags([]);\n                                setShowFilterPopup(false);\n                            }}\n                        >\n                            Clear\n                        </button>\n                        <button \n                            className=\"btn-primary\"\n                            onClick={() => setShowFilterPopup(false)}\n                        >\n                            Apply\n                        </button>\n                    </div>\n                </div>\n            </Popup>\n        </div>\n    );\n}\n\n// Room Card Component\nfunction RoomCard({ room, isSelected, onToggle }) {\n    const getAttributeIcon = (attr) => {\n        const attrLower = attr.toLowerCase().trim();\n        return selectedAttributeIcons[attrLower] || attributeIcons[attrLower] || null;\n    };\n    \n    return (\n        <div \n            className={`room-card ${isSelected ? 'selected' : ''}`}\n            onClick={onToggle}\n        >\n            <div className=\"room-image\">\n                {room.image ? (\n                    <img src={room.image} alt={room.name} />\n                ) : (\n                    <div className=\"no-image\">\n                        <Icon icon=\"mdi:office-building\" />\n                    </div>\n                )}\n                {isSelected && (\n                    <div className=\"selected-badge\">\n                        <Icon icon=\"mdi:check-circle\" />\n                    </div>\n                )}\n            </div>\n            \n            <div className=\"room-content\">\n                <h4 className=\"room-name\">{room.name}</h4>\n                \n                <div className=\"room-meta\">\n                    {room.average_rating > 0 && (\n                        <div className=\"rating\">\n                            <img src={FilledStar} alt=\"star\" />\n                            <span>{room.average_rating.toFixed(1)}</span>\n                        </div>\n                    )}\n                    {room.capacity > 0 && (\n                        <div className=\"capacity\">\n                            <Icon icon=\"mdi:account-group\" />\n                            <span>{room.capacity}</span>\n                        </div>\n                    )}\n                </div>\n                \n                {room.attributes && room.attributes.length > 0 && (\n                    <div className=\"room-attributes\">\n                        {room.attributes.slice(0, 3).map((attr, idx) => {\n                            const icon = getAttributeIcon(attr);\n                            return (\n                                <div key={idx} className=\"attribute-item\">\n                                    {icon && <img src={icon} alt={attr} />}\n                                    <span>{attr}</span>\n                                </div>\n                            );\n                        })}\n                        {room.attributes.length > 3 && (\n                            <span className=\"more-attributes\">\n                                +{room.attributes.length - 3}\n                            </span>\n                        )}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default RoomSelectorV2;\n\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './When.scss'\n\nimport WeeklyCalendar from '../../../../pages/OIEDash/EventsCalendar/Week/WeeklyCalendar/WeeklyCalendar';\nimport DailyCalendar from '../../../../pages/OIEDash/EventsCalendar/Day/DailyCalendar/DailyCalendar';\nimport MonthDisplay from '../../../../pages/OIEDash/EventsCalendar/Month/MonthDisplay';\nimport Switch from '../../../../components/Switch/Switch';\nimport Filter from '../../../../components/Filter/Filter';\nimport { useNotification } from '../../../../NotificationContext';\nimport apiRequest from '../../../../utils/postRequest';\n\nfunction When({ formData, setFormData, onComplete }){\n    const {addNotification} = useNotification();\n    const [combinedBlockedEvents, setCombinedBlockedEvents] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [isInitialized, setIsInitialized] = useState(false);\n    \n    // Calendar view state\n    const [view, setView] = useState(1); // 0: month, 1: week, 2: day\n    const [contentHeight, setContentHeight] = useState(500);\n    const [startOfWeek, setStartOfWeek] = useState(new Date(new Date().setDate(new Date().getDate() - new Date().getDay())));\n    const [selectedDay, setSelectedDay] = useState(new Date());\n    const [month, setMonth] = useState(new Date().getMonth() + 1);\n    const [year, setYear] = useState(new Date().getFullYear());\n    const [filter, setFilter] = useState({type: \"all\"});\n    const [showAvailability, setShowAvailability] = useState(true);\n    \n    // Time selection state - initialize from formData if available\n    const [selectedTimeslots, setSelectedTimeslots] = useState(() => {\n        if (formData.start_time && formData.end_time) {\n            return [{\n                id: 'initial-selection',\n                startTime: new Date(formData.start_time),\n                endTime: new Date(formData.end_time),\n                startDay: new Date(formData.start_time),\n                endDay: new Date(formData.end_time),\n                duration: (new Date(formData.end_time) - new Date(formData.start_time)) / (1000 * 60)\n            }];\n        }\n        return [];\n    });\n    \n    const contentRef = useRef(null);\n    \n    // Use ref to prevent circular updates\n    const isInternalUpdate = useRef(false);\n\n    useEffect(() => {\n        if(contentRef.current){\n            setContentHeight(contentRef.current.clientHeight);\n        }\n    }, [contentRef.current]);\n\n    // Helper function to merge overlapping time intervals\n    const mergeIntervals = (intervals) => {\n        if (intervals.length === 0) return [];\n        \n        // Sort intervals by start time\n        intervals.sort((a, b) => a.start - b.start);\n        \n        const merged = [intervals[0]];\n        \n        for (let i = 1; i < intervals.length; i++) {\n            const current = intervals[i];\n            const lastMerged = merged[merged.length - 1];\n            \n            // If current interval overlaps with the last merged interval\n            if (current.start <= lastMerged.end) {\n                // Merge them by extending the end time\n                lastMerged.end = Math.max(lastMerged.end, current.end);\n            } else {\n                // No overlap, add current interval to merged list\n                merged.push(current);\n            }\n        }\n        \n        return merged;\n    };\n\n    // Function to combine all room schedules into blocked time periods\n    const combineRoomSchedules = (roomsData) => {\n        const dayMap = { 'M': 1, 'T': 2, 'W': 3, 'R': 4, 'F': 5 }; // Monday = 1, etc.\n        const combinedSchedule = {};\n        \n        // Initialize days\n        Object.keys(dayMap).forEach(day => {\n            combinedSchedule[day] = [];\n        });\n\n        // Collect all time slots from all rooms\n        roomsData.forEach(roomData => {\n            const schedule = roomData.data?.weekly_schedule;\n            if (schedule) {\n                Object.keys(dayMap).forEach(day => {\n                    if (schedule[day] && schedule[day].length > 0) {\n                        schedule[day].forEach(slot => {\n                            combinedSchedule[day].push({\n                                start: slot.start_time, // Already in minutes from midnight\n                                end: slot.end_time, // Already in minutes from midnight\n                                class_name: slot.class_name\n                            });\n                        });\n                    }\n                });\n            }\n        });\n\n        // Merge overlapping intervals for each day\n        Object.keys(combinedSchedule).forEach(day => {\n            combinedSchedule[day] = mergeIntervals(combinedSchedule[day]);\n        });\n\n        return combinedSchedule;\n    };\n\n    // Function to generate blocked events for the calendar\n    const generateBlockedEvents = (combinedSchedule) => {\n        const events = [];\n        const today = new Date();\n        const currentWeekStart = new Date(today.setDate(today.getDate() - today.getDay())); // Start of current week (Sunday)\n        \n        // Generate events for the next 4 weeks\n        for (let week = 0; week < 4; week++) {\n            Object.entries(combinedSchedule).forEach(([dayKey, slots]) => {\n                const dayMap = { 'M': 1, 'T': 2, 'W': 3, 'R': 4, 'F': 5 };\n                const dayOffset = dayMap[dayKey];\n                \n                slots.forEach((slot, index) => {\n                    const eventDate = new Date(currentWeekStart);\n                    eventDate.setDate(currentWeekStart.getDate() + (week * 7) + dayOffset);\n                    \n                    const startTime = new Date(eventDate);\n                    const startHours = Math.floor(slot.start / 60);\n                    const startMinutes = slot.start % 60;\n                    startTime.setHours(startHours, startMinutes, 0, 0);\n                    \n                    const endTime = new Date(eventDate);\n                    const endHours = Math.floor(slot.end / 60);\n                    const endMinutes = slot.end % 60;\n                    endTime.setHours(endHours, endMinutes, 0, 0);\n                    \n                    events.push({\n                        id: `blocked-${week}-${dayKey}-${index}`,\n                        name: 'Room Unavailable',\n                        type: 'blocked',\n                        location: 'Multiple Rooms',\n                        start_time: startTime,\n                        end_time: endTime,\n                        status: 'blocked',\n                        description: 'Combined unavailable time from selected rooms'\n                    });\n                });\n            });\n        }\n        \n        return events;\n    };\n\n    // Fetch and combine all selected rooms' schedules\n    const fetchAndCombineSchedules = async () => {\n        try {\n            setLoading(true);\n            \n            // If no rooms were selected in Where step, show error\n            if (!formData.selectedRoomIds || formData.selectedRoomIds.length === 0) {\n                addNotification({ \n                    title: \"No Rooms Selected\", \n                    message: \"Please select rooms in the previous step\", \n                    type: \"error\" \n                });\n                setCombinedBlockedEvents([]);\n                setLoading(false);\n                return;\n            }\n\n            // Batch fetch all selected rooms at once (more efficient than individual calls)\n            const batchResponse = await apiRequest('/getbatch-new', {\n                queries: formData.selectedRoomIds,\n                exhaustive: true\n            });\n\n            if (!batchResponse || !batchResponse.success || !batchResponse.data) {\n                throw new Error('Failed to fetch room schedules');\n            }\n\n            // Transform batch response into room data format\n            const roomsWithData = batchResponse.data.map((item, index) => {\n                const roomId = formData.selectedRoomIds[index];\n                return {\n                    id: roomId,\n                    name: item?.room?.name || `Room ${roomId}`,\n                    data: item?.data || {},\n                    roomInfo: item?.room || {}\n                };\n            });\n            \n            // Combine all schedules\n            const combinedSchedule = combineRoomSchedules(roomsWithData);\n            \n            // Generate blocked events for the calendar\n            const blockedEvents = generateBlockedEvents(combinedSchedule);\n            setCombinedBlockedEvents(blockedEvents);\n            \n            setLoading(false);\n        } catch (error) {\n            console.error('Error fetching and combining room schedules:', error);\n            addNotification({ \n                title: \"Error\", \n                message: \"Failed to load room schedules\", \n                type: \"error\" \n            });\n            setLoading(false);\n        }\n    };\n\n    // Calendar navigation functions\n    const changeToWeek = (week) => {\n        setStartOfWeek(new Date(week));\n        setView(1);\n    };\n\n    const changeToDay = (day) => {\n        setSelectedDay(new Date(day));\n        setView(2);\n    };\n\n    // Week navigation\n    const updateWeek = (days) => {\n        setStartOfWeek(prev => {\n            const newStart = new Date(prev);\n            newStart.setDate(newStart.getDate() + days);\n            return newStart;\n        });\n    };\n\n    // Day navigation\n    const updateDay = (days) => {\n        setSelectedDay(prev => {\n            const newDate = new Date(prev);\n            newDate.setDate(newDate.getDate() + days);\n            return newDate;\n        });\n    };\n\n    // Month navigation\n    const nextMonth = () => {\n        setMonth(m => m === 12 ? 1 : m + 1);\n        setYear(y => month === 12 ? y + 1 : y);\n    };\n\n    const prevMonth = () => {\n        setMonth(m => m === 1 ? 12 : m - 1);\n        setYear(y => month === 1 ? y - 1 : y);\n    };\n\n    // Filter events for current view\n    const getFilteredEvents = () => {\n        if (view === 0) { // Month view\n            return combinedBlockedEvents.filter(event => {\n                const eventStart = new Date(event.start_time);\n                return eventStart.getMonth() + 1 === month && eventStart.getFullYear() === year;\n            });\n        } else if (view === 1) { // Week view\n            const endOfWeek = new Date(startOfWeek);\n            endOfWeek.setDate(endOfWeek.getDate() + 6);\n            endOfWeek.setHours(23, 59, 59, 999);\n            \n            return combinedBlockedEvents.filter(event => {\n                const eventStart = new Date(event.start_time);\n                return eventStart >= startOfWeek && eventStart <= endOfWeek;\n            });\n        } else { // Day view\n            return combinedBlockedEvents.filter(event => {\n                const eventStart = new Date(event.start_time);\n                const eventDay = new Date(eventStart.getFullYear(), eventStart.getMonth(), eventStart.getDate());\n                const currentDay = new Date(selectedDay.getFullYear(), selectedDay.getMonth(), selectedDay.getDate());\n                return eventDay.getTime() === currentDay.getTime();\n            });\n        }\n    };\n\n    // Fetch rooms data when selectedRoomIds changes\n    useEffect(() => {\n        fetchAndCombineSchedules();\n    }, [formData.selectedRoomIds]);\n\n    // Handle time selection from calendar - memoized to prevent infinite loops\n    const handleTimeSelection = useCallback((selections) => {\n        setSelectedTimeslots(selections);\n        \n        // Use the first selection for start_time and end_time\n        if (selections && selections.length > 0) {\n            const firstSelection = selections[0];\n            setFormData(prev => {\n                const newStartTime = new Date(firstSelection.startTime);\n                const newEndTime = new Date(firstSelection.endTime);\n                \n                // Only update if times actually changed\n                if (prev.start_time?.getTime() === newStartTime.getTime() && \n                    prev.end_time?.getTime() === newEndTime.getTime()) {\n                    return prev; // Return previous state if unchanged\n                }\n                \n                return {\n                    ...prev,\n                    start_time: newStartTime,\n                    end_time: newEndTime\n                };\n            });\n        } else {\n            // Clear times if no selection\n            setFormData(prev => {\n                if (!prev.start_time && !prev.end_time) {\n                    return prev; // Already cleared\n                }\n                return {\n                    ...prev,\n                    start_time: null,\n                    end_time: null\n                };\n            });\n        }\n    }, [setFormData]);\n\n    // Refs to avoid dependency issues\n    const onCompleteRef = useRef(onComplete);\n    const prevValidityRef = useRef(null);\n    \n    // Keep onComplete ref up to date\n    useEffect(() => {\n        onCompleteRef.current = onComplete;\n    }, [onComplete]);\n\n    // Initialize completion state and validate when times change\n    useEffect(() => {\n        const hasTimes = !!(formData.start_time && formData.end_time);\n        const hasRooms = formData.selectedRoomIds && formData.selectedRoomIds.length > 0;\n        \n        // Validate: need both rooms and times\n        const isValid = hasRooms && hasTimes;\n        \n        if (!isInitialized) {\n            setIsInitialized(true);\n        }\n        \n        // Only call onComplete if validity actually changed\n        if (prevValidityRef.current !== isValid) {\n            prevValidityRef.current = isValid;\n            onCompleteRef.current(isValid);\n        }\n    }, [formData.start_time, formData.end_time, formData.selectedRoomIds, isInitialized]);\n\n    if (loading) {\n        return (\n            <div className=\"when-component\">\n                <div className=\"loading\">\n                    <p>Loading room schedules...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!formData.selectedRoomIds || formData.selectedRoomIds.length === 0) {\n        return (\n            <div className=\"when-component\">\n                <div className=\"no-rooms\">\n                    <p>No rooms available. Please go back and select rooms first.</p>\n                </div>\n            </div>\n        );\n    }\n\n    const filteredEvents = getFilteredEvents();\n    const currentMonth = new Date().getMonth() + 1;\n    const currentYear = new Date().getFullYear();\n    const currentDay = new Date().getDate();\n\n    return(\n        <div className=\"when-component\">\n            <div className=\"info-box\">\n                <div className=\"info-content\">\n                    <span className=\"info-text\">\n                        {showAvailability \n                            ? `Grey blocks show unavailable times across all selected rooms (${formData.selectedRoomIds.length} rooms). Click and drag on the calendar to select your event time.`\n                            : `Click and drag on the calendar to select your event time. Toggle \"Show Availability\" to see room availability.`\n                        }\n                    </span>\n                    {formData.start_time && formData.end_time && (\n                        <div className=\"selected-time-info\" style={{ marginTop: '0.5rem', fontWeight: '500' }}>\n                            Selected: {new Date(formData.start_time).toLocaleString()} - {new Date(formData.end_time).toLocaleString()}\n                        </div>\n                    )}\n                </div>\n            </div>\n            \n            <div className=\"calendar-wrapper\">\n                <div className=\"calendar-controls\">\n                    <div className=\"calendar-navigation\">\n                        {view === 0 && (\n                            <>\n                                <button onClick={prevMonth} className=\"nav-button\">\n                                    \n                                </button>\n                                <span className=\"date-display\">\n                                    {new Date(year, month - 1).toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\n                                </span>\n                                <button onClick={nextMonth} className=\"nav-button\">\n                                    \n                                </button>\n                            </>\n                        )}\n                        \n                        {view === 1 && (\n                            <>\n                                <button onClick={() => updateWeek(-7)} className=\"nav-button\">\n                                    \n                                </button>\n                                <span className=\"date-display\">\n                                    {startOfWeek.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - {\n                                        new Date(startOfWeek.getTime() + 6 * 24 * 60 * 60 * 1000).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\n                                    }\n                                </span>\n                                <button onClick={() => updateWeek(7)} className=\"nav-button\">\n                                    \n                                </button>\n                            </>\n                        )}\n                        \n                        {view === 2 && (\n                            <>\n                                <button onClick={() => updateDay(-1)} className=\"nav-button\">\n                                    \n                                </button>\n                                <span className=\"date-display\">\n                                    {selectedDay.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\n                                </span>\n                                <button onClick={() => updateDay(1)} className=\"nav-button\">\n                                    \n                                </button>\n                            </>\n                        )}\n                    </div>\n                    \n                    <div className=\"calendar-controls-right\">\n                        {view === 1 && (\n                            <div className=\"availability-toggle\" style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginRight: '1rem' }}>\n                                <label style={{ fontSize: '0.875rem', cursor: 'pointer', userSelect: 'none' }} onClick={() => setShowAvailability(!showAvailability)}>\n                                    Show Availability\n                                </label>\n                                <Switch \n                                    options={[\"off\", \"on\"]} \n                                    onChange={(index) => setShowAvailability(index === 1)} \n                                    selectedPass={showAvailability ? 1 : 0} \n                                    setSelectedPass={(index) => setShowAvailability(index === 1)}\n                                />\n                            </div>\n                        )}\n                        <Switch \n                            options={[\"month\", \"week\", \"day\"]} \n                            onChange={setView} \n                            selectedPass={view} \n                            setSelectedPass={setView}\n                        />\n                        <Filter \n                            options={[\"all\", \"study\", \"campus\", \"social\", \"club\", \"meeting\", \"sports\"]} \n                            selected={filter.type} \n                            setSelected={(type)=>setFilter({...filter, type})} \n                            label={\"filter\"}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"calendar-content\" ref={contentRef}>\n                    {view === 0 && (\n                        <MonthDisplay \n                            month={month}\n                            year={year}\n                            events={filteredEvents}\n                            height={`${contentHeight}px`}\n                            currentMonth={currentMonth}\n                            currentYear={currentYear}\n                            currentDay={currentDay}\n                            onWeekClick={changeToWeek}\n                        />\n                    )}\n                    \n                    {view === 1 && (\n                        <WeeklyCalendar \n                            startOfWeek={startOfWeek}\n                            events={filteredEvents}\n                            height={`${contentHeight}px`}\n                            dayClick={changeToDay}\n                            autoEnableSelection={true}\n                            selectionMode=\"single\"\n                            allowCrossDaySelection={false}\n                            timeIncrement={15}\n                            singleSelectionOnly={true}\n                            startHour={6}\n                            endHour={24}\n                            showAvailability={showAvailability}\n                            onSelectionsChange={handleTimeSelection}\n                            initialSelections={selectedTimeslots}\n                        />\n                    )}\n                    \n                    {view === 2 && (\n                        <DailyCalendar \n                            selectedDay={selectedDay}\n                            events={filteredEvents}\n                            height={`${contentHeight}px`}\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default When;\n\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport useUnsavedChanges from '../../../../../../hooks/useUnsavedChanges';\nimport DynamicFormField from '../../../../../../components/DynamicFormField/DynamicFormField';\nimport ImageUpload from '../../../../../../components/ImageUpload/ImageUpload';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport RoomSelectorV2 from '../../../../../../pages/CreateEventV2/Steps/Where/RoomSelectorV2/RoomSelectorV2';\nimport When from '../../../../../../pages/CreateEventV2/Steps/When/When';\nimport EventPreview from '../EventPreview';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport './EventEditorTab.scss';\n\n// Separate component for popup content to receive handleClose prop from Popup\nfunction LocationTimePopupContent({ \n    popupStep, \n    popupFormData, \n    setPopupFormData, \n    onLocationSelected, \n    onTimeSelected, \n    onClose,\n    onBack,\n    handleClose \n}) {\n    // Use handleClose from Popup if available, otherwise use onClose\n    const closePopup = handleClose || onClose;\n\n    return (\n        <div className=\"location-time-popup-content\">\n            <div className=\"popup-header\">\n                <h3>\n                    {popupStep === 'location' ? 'Select Location' : 'Select Time'}\n                </h3>\n                <button className=\"popup-close\" onClick={closePopup}>\n                    <Icon icon=\"mdi:close\" />\n                </button>\n            </div>\n            \n            <div className=\"popup-body\">\n                {popupStep === 'location' ? (\n                    <div>\n                        <RoomSelectorV2\n                            formData={popupFormData}\n                            setFormData={setPopupFormData}\n                            onComplete={(isValid) => {\n                                // RoomSelectorV2 automatically updates location and classroom_id in popupFormData\n                            }}\n                        />\n                        <div className=\"popup-actions\">\n                            <button \n                                className=\"popup-button secondary\" \n                                onClick={closePopup}\n                            >\n                                Cancel\n                            </button>\n                            <button \n                                className=\"popup-button primary\" \n                                onClick={onLocationSelected}\n                                disabled={(!popupFormData.selectedRoomIds || popupFormData.selectedRoomIds.length === 0) && (!popupFormData.location || !popupFormData.location.trim())}\n                            >\n                                Next: Select Time\n                            </button>\n                        </div>\n                    </div>\n                ) : (\n                    <div>\n                        <When\n                            formData={popupFormData}\n                            setFormData={setPopupFormData}\n                            onComplete={(isValid) => {\n                                // Validation handled by When component\n                            }}\n                        />\n                        <div className=\"popup-actions\">\n                            <button \n                                className=\"popup-button secondary\" \n                                onClick={onBack}\n                            >\n                                Back\n                            </button>\n                            <button \n                                className=\"popup-button primary\" \n                                onClick={onTimeSelected}\n                                disabled={!popupFormData.start_time || !popupFormData.end_time}\n                            >\n                                Confirm\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nfunction EventEditorTab({ event, agenda, orgId, onRefresh }) {\n    const { addNotification } = useNotification();\n    const [showLocationTimePopup, setShowLocationTimePopup] = useState(false);\n    const [popupStep, setPopupStep] = useState('location'); // 'location' or 'time'\n    const [tempLocationData, setTempLocationData] = useState(null);\n    \n    const formConfigData = useFetch('/api/event-system-config/form-config');\n    \n    // Form data: details only (registration/check-in are in their respective tabs)\n    const [formData, setFormData] = useState({\n        name: '',\n        description: '',\n        type: '',\n        visibility: '',\n        expectedAttendance: 0,\n        contact: '',\n        externalLink: '',\n        image: null,\n        start_time: null,\n        end_time: null,\n        location: '',\n        classroom_id: null,\n        selectedRoomIds: []\n    });\n    \n    const [originalData, setOriginalData] = useState(null);\n    const [popupFormData, setPopupFormData] = useState({\n        selectedRoomIds: [],\n        start_time: null,\n        end_time: null\n    });\n\n    // Initialize form data from event prop (details only; no rsvp/hosting/registration/check-in)\n    useEffect(() => {\n        if (event) {\n            const initialData = {\n                name: event.name || '',\n                description: event.description || '',\n                type: event.type || '',\n                visibility: event.visibility || '',\n                expectedAttendance: event.expectedAttendance || 0,\n                contact: event.contact || '',\n                externalLink: event.externalLink || '',\n                image: null,\n                start_time: event.start_time ? new Date(event.start_time) : null,\n                end_time: event.end_time ? new Date(event.end_time) : null,\n                location: event.location || '',\n                classroom_id: event.classroom_id || null,\n                selectedRoomIds: event.classroom_id ? [event.classroom_id] : []\n            };\n            if (event.customFields) {\n                Object.keys(event.customFields).forEach(key => {\n                    initialData[key] = event.customFields[key];\n                });\n            }\n            setFormData(initialData);\n            setOriginalData(JSON.parse(JSON.stringify(initialData)));\n        }\n    }, [event]);\n\n    // Initialize popup form data when opening popup\n    useEffect(() => {\n        if (showLocationTimePopup && popupStep === 'location') {\n            setPopupFormData({\n                selectedRoomIds: formData.selectedRoomIds || [],\n                location: formData.location,\n                classroom_id: formData.classroom_id,\n                start_time: formData.start_time,\n                end_time: formData.end_time\n            });\n        }\n    }, [showLocationTimePopup, popupStep]);\n\n    const handleFieldChange = (fieldName, value) => {\n        setFormData(prev => ({\n            ...prev,\n            [fieldName]: value\n        }));\n    };\n\n    const handleLocationTimePopupOpen = () => {\n        setPopupStep('location');\n        setShowLocationTimePopup(true);\n    };\n\n    const handleLocationTimePopupClose = () => {\n        setShowLocationTimePopup(false);\n        setPopupStep('location');\n        setTempLocationData(null);\n    };\n\n    const handleLocationSelected = () => {\n        // Move to time selection step\n        // RoomSelectorV2 has already updated popupFormData with location and classroom_id\n        setPopupStep('time');\n        setTempLocationData({\n            selectedRoomIds: popupFormData.selectedRoomIds,\n            location: popupFormData.location,\n            classroom_id: popupFormData.classroom_id\n        });\n    };\n\n    const handleTimeSelected = () => {\n        // Update time always when set; update location/room only if user selected a room\n        if (popupFormData.start_time && popupFormData.end_time) {\n            setFormData(prev => {\n                const hasRoom = popupFormData.selectedRoomIds && popupFormData.selectedRoomIds.length > 0;\n                return {\n                    ...prev,\n                    start_time: popupFormData.start_time,\n                    end_time: popupFormData.end_time,\n                    ...(hasRoom ? {\n                        selectedRoomIds: popupFormData.selectedRoomIds,\n                        classroom_id: popupFormData.classroom_id || popupFormData.selectedRoomIds[0],\n                        location: popupFormData.location || prev.location\n                    } : {})\n                };\n            });\n        }\n        handleLocationTimePopupClose();\n    };\n\n    const validateForm = () => {\n        const errors = {};\n        \n        if (!formData.name || formData.name.trim() === '') {\n            errors.name = 'Event name is required';\n        }\n        \n        if (!formData.type) {\n            errors.type = 'Event type is required';\n        }\n        \n        if (!formData.visibility) {\n            errors.visibility = 'Visibility is required';\n        }\n        \n        if (!formData.start_time || !formData.end_time) {\n            errors.time = 'Date and time are required';\n        }\n        \n        // Location can be a selected room OR free text (e.g. external events)\n        const hasRoom = formData.selectedRoomIds && formData.selectedRoomIds.length > 0;\n        const hasLocationText = formData.location && formData.location.trim() !== '';\n        if (!hasRoom && !hasLocationText) {\n            errors.location = 'Location is required (select a room or enter an address/place)';\n        }\n        \n        return errors;\n    };\n\n    const handleSave = async () => {\n        const errors = validateForm();\n        if (Object.keys(errors).length > 0) {\n            addNotification({\n                title: 'Validation Error',\n                message: 'Please fix all errors before saving',\n                type: 'error'\n            });\n            return false;\n        }\n        try {\n            const updateData = {\n                name: formData.name,\n                description: formData.description,\n                type: formData.type,\n                visibility: formData.visibility,\n                expectedAttendance: formData.expectedAttendance,\n                contact: formData.contact || '',\n                externalLink: formData.externalLink || '',\n                start_time: formData.start_time.toISOString(),\n                end_time: formData.end_time.toISOString(),\n                classroom_id: formData.classroom_id,\n                location: formData.location\n            };\n\n            // Add custom fields if any\n            const customFields = {};\n            if (formConfigData.data?.data?.fields) {\n                const reserved = ['name', 'description', 'type', 'visibility', 'expectedAttendance',\n                    'contact', 'externalLink', 'start_time', 'end_time', 'location', 'classroom_id',\n                    'selectedRoomIds', 'image', 'hostingId', 'hostingType', 'rsvpEnabled', 'rsvpRequired', 'rsvpDeadline'];\n                formConfigData.data.data.fields.forEach(field => {\n                    if (!reserved.includes(field.name) && formData[field.name] !== undefined) {\n                        customFields[field.name] = formData[field.name];\n                    }\n                });\n            }\n            if (Object.keys(customFields).length > 0) {\n                updateData.customFields = customFields;\n            }\n\n            // Use org-event-management endpoint for org events\n            const endpoint = orgId \n                ? `/org-event-management/${orgId}/events/${event._id}`\n                : `/update-event/${event._id}`;\n            \n            const response = await apiRequest(endpoint, updateData, { method: 'PUT' });\n\n            if (response.success) {\n                // Handle image upload separately if image was changed\n                if (formData.image instanceof File) {\n                    const imageFormData = new FormData();\n                    imageFormData.append('image', formData.image);\n                    imageFormData.append('eventId', event._id);\n                    \n                    await apiRequest('/upload-event-image', imageFormData, { method: 'POST' });\n                }\n\n                addNotification({\n                    title: 'Success',\n                    message: 'Event updated successfully',\n                    type: 'success'\n                });\n                setOriginalData(JSON.parse(JSON.stringify(formData)));\n                if (onRefresh) onRefresh();\n                return true;\n            } else {\n                throw new Error(response.message || 'Failed to update event');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to update event',\n                type: 'error'\n            });\n            return false;\n        }\n    };\n\n    const handleDiscard = () => {\n        if (originalData) setFormData(JSON.parse(JSON.stringify(originalData)));\n    };\n    const { hasChanges, saving, handleSave: performSave, handleDiscard: discardChanges } = useUnsavedChanges(\n        originalData,\n        formData,\n        handleSave,\n        handleDiscard\n    );\n\n    const formatDate = (date) => {\n        if (!date) return 'Not set';\n        return new Date(date).toLocaleDateString('en-US', {\n            weekday: 'long',\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n        });\n    };\n\n    const formatTime = (date) => {\n        if (!date) return '';\n        return new Date(date).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const formatDateTime = (date) => {\n        if (!date) return 'Not set';\n        return `${formatDate(date)} at ${formatTime(date)}`;\n    };\n\n    // Get form config fields (excluding fields already shown in other sections)\n    const formConfig = formConfigData.data?.data;\n    const regularFields = useMemo(() => {\n        if (!formConfig?.fields) return [];\n        \n        const excludedFields = [\n            'name', 'description', 'type', 'visibility', 'expectedAttendance', 'image',\n            'start_time', 'end_time', 'location', 'classroom_id', 'selectedRoomIds',\n            'contact', 'externalLink',\n            'hostingId', 'hostingType', 'rsvpEnabled', 'rsvpRequired', 'rsvpDeadline',\n            'registrationEnabled', 'registrationRequired', 'registrationDeadline', 'registrationFormId', 'maxAttendees'\n        ];\n        \n        // Special steps that are handled separately\n        const excludedSteps = ['location', 'date-time'];\n        \n        return formConfig.fields.filter(field => \n            field.isActive && \n            !excludedSteps.includes(field.step) &&\n            !excludedFields.includes(field.name)\n        );\n    }, [formConfig]);\n\n    const eventWithAgenda = event ? {\n        ...event,\n        eventAgenda: {\n            items: agenda?.items || [],\n            isPublished: agenda?.isPublished\n        }\n    } : null;\n\n    if (!event) {\n        return <div className=\"event-editor-tab\">Loading...</div>;\n    }\n\n    return (\n        <div className=\"event-editor-tab\">\n            {eventWithAgenda && (\n                <EventPreview event={eventWithAgenda} onRefetch={onRefresh} />\n            )}\n            <div className=\"editor-header\">\n                <h2>Details</h2>\n                {hasChanges && (\n                    <div className=\"editor-actions\">\n                        <button type=\"button\" className=\"cancel-button\" onClick={discardChanges} disabled={saving}>\n                            Discard\n                        </button>\n                        <button type=\"button\" className=\"save-button\" onClick={performSave} disabled={saving}>\n                            {saving ? 'Saving...' : 'Save'}\n                        </button>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"editor-content create-event-v3-form\">\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'name', label: 'Event Name', inputType: 'text', placeholder: 'Event name', validation: {} }}\n                        value={formData.name}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'description', label: 'Description', inputType: 'markdown-textarea', placeholder: 'Event description', validation: {}, allowExpand: true }}\n                        value={formData.description || ''}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'type', label: 'Event Type', inputType: 'select', validation: { options: ['study', 'workshop', 'campus', 'social', 'club', 'meeting', 'sports'] }}}\n                        value={formData.type}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'visibility', label: 'Visibility', inputType: 'select', validation: {} }}\n                        value={formData.visibility}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'expectedAttendance', label: 'Expected Attendance', inputType: 'number', placeholder: '1', validation: { min: 1 } }}\n                        value={formData.expectedAttendance}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <label className=\"section-label\">Event Image</label>\n                    <ImageUpload\n                        uploadText=\"Drag your image here\"\n                        onFileSelect={(file) => handleFieldChange('image', file)}\n                        onFileClear={() => handleFieldChange('image', null)}\n                        showPrompt={false}\n                        showActions={false}\n                        initialImageUrl={event?.image}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <label className=\"section-label\">Date & Time</label>\n                    <div className=\"read-only-value\">\n                        {formatDateTime(formData.start_time)}  {formatTime(formData.end_time)}\n                    </div>\n                    <button\n                        type=\"button\"\n                        className=\"change-location-time-button\"\n                        onClick={handleLocationTimePopupOpen}\n                    >\n                        <Icon icon=\"mdi:calendar-clock\" />\n                        Change Location & Time\n                    </button>\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'location', label: 'Location', inputType: 'text', placeholder: 'e.g. Room 101, Off-campus, or address', validation: {} }}\n                        value={formData.location || ''}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'contact', label: 'Contact', inputType: 'text', placeholder: 'Contact information', validation: {} }}\n                        value={formData.contact || ''}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                <div className=\"form-section\">\n                    <DynamicFormField\n                        field={{ name: 'externalLink', label: 'External Link', inputType: 'url', placeholder: 'https://...', validation: {} }}\n                        value={formData.externalLink || ''}\n                        onChange={handleFieldChange}\n                        formData={formData}\n                        errors={{}}\n                        color=\"var(--primary-color)\"\n                    />\n                </div>\n\n                {regularFields.length > 0 && (\n                    <div className=\"form-section\">\n                        <label className=\"section-label\">Additional Information</label>\n                        {regularFields.map(field => (\n                            <div key={field.name} className=\"field-group\">\n                                <label className=\"section-label\">\n                                    {field.label}\n                                    {field.isRequired && <span className=\"required\">*</span>}\n                                </label>\n                                <DynamicFormField\n                                    field={field}\n                                    value={formData[field.name]}\n                                    onChange={handleFieldChange}\n                                    formData={formData}\n                                    color=\"var(--primary-color)\"\n                                />\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n\n            {/* Location & Time Popup */}\n            {showLocationTimePopup && (\n                <Popup isOpen={showLocationTimePopup} onClose={handleLocationTimePopupClose} customClassName=\"location-time-popup\">\n                    <LocationTimePopupContent\n                        popupStep={popupStep}\n                        popupFormData={popupFormData}\n                        setPopupFormData={setPopupFormData}\n                        onLocationSelected={handleLocationSelected}\n                        onTimeSelected={handleTimeSelected}\n                        onClose={handleLocationTimePopupClose}\n                        onBack={() => setPopupStep('location')}\n                    />\n                </Popup>\n            )}\n        </div>\n    );\n}\n\nexport default EventEditorTab;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport './AgendaBuilder.scss';\n\nfunction AgendaItemEditor({ item, event, latestItemEnd, onSave, onCancel }) {\n    const [inputMode, setInputMode] = useState('duration'); // 'duration' | 'endTime'\n    const [formData, setFormData] = useState({\n        title: '',\n        description: '',\n        startTime: null,\n        endTime: null,\n        durationMinutes: 30,\n        type: 'Activity',\n        location: '',\n        isPublic: true\n    });\n\n    useEffect(() => {\n        if (item) {\n            let startTime = null;\n            let endTime = null;\n\n            if (item.startTime) {\n                startTime = typeof item.startTime === 'string' ? new Date(item.startTime) : item.startTime;\n            }\n            if (item.endTime) {\n                endTime = typeof item.endTime === 'string' ? new Date(item.endTime) : item.endTime;\n            }\n\n            if (!startTime || !endTime) {\n                const fallbackStart = latestItemEnd\n                    ? (latestItemEnd instanceof Date ? latestItemEnd : new Date(latestItemEnd))\n                    : event?.start_time\n                        ? new Date(event.start_time)\n                        : new Date();\n                const fallbackEnd = new Date(fallbackStart);\n                fallbackEnd.setMinutes(fallbackEnd.getMinutes() + 30);\n                startTime = startTime || fallbackStart;\n                endTime = endTime || fallbackEnd;\n            }\n\n            const durationMinutes = startTime && endTime\n                ? Math.max(1, Math.round((endTime - startTime) / 60000))\n                : 30;\n\n            setFormData({\n                title: item.title || '',\n                description: item.description || '',\n                startTime,\n                endTime,\n                durationMinutes,\n                type: item.type || 'Activity',\n                location: item.location || '',\n                isPublic: item.isPublic !== undefined ? item.isPublic : true\n            });\n        } else if (event?.start_time || latestItemEnd) {\n            const defaultStart = latestItemEnd\n                ? (latestItemEnd instanceof Date ? latestItemEnd : new Date(latestItemEnd))\n                : new Date(event.start_time);\n            const defaultEnd = new Date(defaultStart);\n            defaultEnd.setMinutes(defaultEnd.getMinutes() + 30);\n\n            setFormData((prev) => ({\n                ...prev,\n                startTime: defaultStart,\n                endTime: defaultEnd,\n                durationMinutes: 30\n            }));\n        }\n    }, [item, event, latestItemEnd]);\n\n    const formatDateTimeLocal = (dateValue) => {\n        if (!dateValue) return '';\n        const date = dateValue instanceof Date ? dateValue : new Date(dateValue);\n        if (isNaN(date.getTime())) return '';\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, '0');\n        const day = String(date.getDate()).padStart(2, '0');\n        const hours = String(date.getHours()).padStart(2, '0');\n        const minutes = String(date.getMinutes()).padStart(2, '0');\n        return `${year}-${month}-${day}T${hours}:${minutes}`;\n    };\n\n    const handleChange = (field, value) => {\n        setFormData((prev) => {\n            const updated = { ...prev };\n\n            if (field === 'startTime') {\n                const dateValue = value ? new Date(value) : null;\n                updated.startTime = dateValue;\n                if (dateValue && updated.endTime) {\n                    const end = new Date(updated.endTime);\n                    if (end > dateValue) {\n                        updated.durationMinutes = Math.max(1, Math.round((end - dateValue) / 60000));\n                    }\n                }\n            } else if (field === 'endTime') {\n                const dateValue = value ? new Date(value) : null;\n                updated.endTime = dateValue;\n                if (dateValue && updated.startTime) {\n                    const start = new Date(updated.startTime);\n                    if (dateValue > start) {\n                        updated.durationMinutes = Math.max(1, Math.round((dateValue - start) / 60000));\n                    }\n                }\n            } else if (field === 'durationMinutes') {\n                const duration = parseInt(value, 10);\n                if (duration > 0 && updated.startTime) {\n                    updated.durationMinutes = duration;\n                    const start = new Date(updated.startTime);\n                    const end = new Date(start);\n                    end.setMinutes(end.getMinutes() + duration);\n                    updated.endTime = end;\n                } else {\n                    updated.durationMinutes = value;\n                }\n            } else {\n                updated[field] = value;\n            }\n\n            return updated;\n        });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (!formData.title || formData.title.trim() === '') {\n            alert('Please enter a title.');\n            return;\n        }\n\n        let startTime = formData.startTime;\n        let endTime = formData.endTime;\n\n        if (inputMode === 'duration') {\n            const duration = parseInt(formData.durationMinutes, 10);\n            if (!duration || duration <= 0) {\n                alert('Please enter a valid duration.');\n                return;\n            }\n            startTime = formData.startTime ? new Date(formData.startTime) : null;\n            endTime = startTime ? new Date(startTime) : null;\n            if (endTime) endTime.setMinutes(endTime.getMinutes() + duration);\n        } else {\n            if (!startTime || !endTime) {\n                alert('Please enter a start time and end time.');\n                return;\n            }\n            startTime = new Date(startTime);\n            endTime = new Date(endTime);\n            if (endTime <= startTime) {\n                alert('End time must be after start time.');\n                return;\n            }\n        }\n\n        const itemData = {\n            ...item,\n            ...formData,\n            startTime: startTime instanceof Date ? startTime : new Date(startTime),\n            endTime: endTime instanceof Date ? endTime : new Date(endTime)\n        };\n        delete itemData.durationMinutes;\n\n        onSave(itemData);\n    };\n\n    const itemTypes = ['Activity', 'Break', 'Setup', 'Breakdown', 'Transition', 'Speaker', 'Custom'];\n\n    return (\n        <Popup isOpen={true} onClose={onCancel} customClassName=\"agenda-item-editor-popup\" hideCloseButton>\n            <div className=\"agenda-item-editor\">\n                <div className=\"editor-header\">\n                    <h3>\n                        <Icon icon=\"mdi:pencil\" />\n                        {item?.id && !item.id.startsWith('item-') ? 'Edit' : 'Create'} Agenda Item\n                    </h3>\n                    <button className=\"close-btn\" onClick={onCancel}>\n                        <Icon icon=\"mdi:close\" />\n                    </button>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"editor-form\">\n                    <div className=\"form-group\">\n                        <label>\n                            Title <span className=\"required\">*</span>\n                        </label>\n                        <input\n                            type=\"text\"\n                            value={formData.title}\n                            onChange={(e) => handleChange('title', e.target.value)}\n                            required\n                            placeholder=\"Agenda item title\"\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Description</label>\n                        <textarea\n                            value={formData.description}\n                            onChange={(e) => handleChange('description', e.target.value)}\n                            rows={4}\n                            placeholder=\"Item description\"\n                        />\n                    </div>\n\n                    <div className=\"form-row\">\n                        <div className=\"form-group\">\n                            <label>Type</label>\n                            <select\n                                value={formData.type}\n                                onChange={(e) => handleChange('type', e.target.value)}\n                            >\n                                {itemTypes.map((type) => (\n                                    <option key={type} value={type}>\n                                        {type}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label>Location</label>\n                            <input\n                                type=\"text\"\n                                value={formData.location}\n                                onChange={(e) => handleChange('location', e.target.value)}\n                                placeholder=\"Location\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>How to specify time</label>\n                        <div className=\"input-mode-toggle\">\n                            <button\n                                type=\"button\"\n                                className={`mode-btn ${inputMode === 'duration' ? 'active' : ''}`}\n                                onClick={() => setInputMode('duration')}\n                            >\n                                <Icon icon=\"mdi:timer-outline\" />\n                                <span>Duration</span>\n                            </button>\n                            <button\n                                type=\"button\"\n                                className={`mode-btn ${inputMode === 'endTime' ? 'active' : ''}`}\n                                onClick={() => setInputMode('endTime')}\n                            >\n                                <Icon icon=\"mdi:clock-outline\" />\n                                <span>End Time</span>\n                            </button>\n                        </div>\n                    </div>\n\n                    <div className=\"form-row\">\n                        <div className=\"form-group\">\n                            <label>Start Time</label>\n                            <input\n                                type=\"datetime-local\"\n                                value={formData.startTime ? formatDateTimeLocal(formData.startTime) : ''}\n                                onChange={(e) => handleChange('startTime', e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        {inputMode === 'duration' ? (\n                            <div className=\"form-group\">\n                                <label>Duration (minutes)</label>\n                                <input\n                                    type=\"number\"\n                                    min=\"1\"\n                                    value={formData.durationMinutes}\n                                    onChange={(e) => handleChange('durationMinutes', e.target.value)}\n                                    placeholder=\"e.g., 30\"\n                                    required\n                                />\n                                <p className=\"help-text\">End time is calculated from start + duration</p>\n                            </div>\n                        ) : (\n                            <div className=\"form-group\">\n                                <label>End Time</label>\n                                <input\n                                    type=\"datetime-local\"\n                                    value={formData.endTime ? formatDateTimeLocal(formData.endTime) : ''}\n                                    onChange={(e) => handleChange('endTime', e.target.value)}\n                                    required\n                                />\n                            </div>\n                        )}\n                    </div>\n\n                    <div className=\"form-group checkbox-group\">\n                        <label>\n                            <input\n                                type=\"checkbox\"\n                                checked={formData.isPublic}\n                                onChange={(e) => handleChange('isPublic', e.target.checked)}\n                            />\n                            <span>Public (visible to attendees)</span>\n                        </label>\n                        <p className=\"help-text\">Uncheck to make this item internal-only</p>\n                    </div>\n\n                    <div className=\"form-actions\">\n                        <button type=\"button\" className=\"btn-cancel\" onClick={onCancel}>\n                            Cancel\n                        </button>\n                        <button type=\"submit\" className=\"btn-save\">\n                            <Icon icon=\"mdi:check\" />\n                            <span>Save Item</span>\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </Popup>\n    );\n}\n\nexport default AgendaItemEditor;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport './PublishConfirmModal.scss';\n\nfunction PublishConfirmModal({ \n    event, \n    orgId, \n    timeDifference, \n    onConfirm, \n    onCancel, \n    onPublishWithoutAdjusting,\n    isOpen = true\n}) {\n    const { addNotification } = useNotification();\n    const [checkingAvailability, setCheckingAvailability] = useState(false);\n    const [roomAvailable, setRoomAvailable] = useState(null);\n    const [roomName, setRoomName] = useState(null);\n\n    const isOver = timeDifference?.isOver || false;\n    const isUnder = timeDifference?.isUnder || false;\n    const diffMinutes = Math.abs(timeDifference?.difference || 0);\n\n    // Calculate proposed end time\n    const getProposedEndTime = () => {\n        if (!event?.start_time || !event?.end_time) return null;\n        const currentEnd = new Date(event.end_time);\n        const proposedEnd = new Date(currentEnd);\n        proposedEnd.setMinutes(proposedEnd.getMinutes() + timeDifference.difference);\n        return proposedEnd;\n    };\n\n    const proposedEndTime = getProposedEndTime();\n\n    // Check room availability when modal opens if time needs adjustment\n    useEffect(() => {\n        if ((isOver || isUnder) && event?.classroom_id && proposedEndTime) {\n            checkRoomAvailability();\n        } else if (!event?.classroom_id) {\n            // No room reserved, mark as available\n            setRoomAvailable(true);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const checkRoomAvailability = async () => {\n        if (!event?._id || !orgId || !proposedEndTime) return;\n\n        setCheckingAvailability(true);\n        try {\n            // First, get room name from classroom_id\n            try {\n                const roomResponse = await apiRequest(\n                    `/rooms/${event.classroom_id}`,\n                    null,\n                    { method: 'GET' }\n                );\n\n                if (roomResponse.success && roomResponse.room) {\n                    setRoomName(roomResponse.room.name);\n                }\n            } catch (roomError) {\n                console.warn('Could not fetch room name:', roomError);\n                // Continue without room name\n            }\n\n            // Check availability for the new time range\n            const availabilityResponse = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/check-room-availability`,\n                {\n                    startTime: event.start_time,\n                    endTime: proposedEndTime.toISOString()\n                },\n                { method: 'POST' }\n            );\n\n            if (availabilityResponse.success) {\n                setRoomAvailable(availabilityResponse.data.isAvailable);\n            } else {\n                setRoomAvailable(false);\n            }\n        } catch (error) {\n            console.error('Error checking room availability:', error);\n            setRoomAvailable(false);\n        } finally {\n            setCheckingAvailability(false);\n        }\n    };\n\n    const handleConfirm = () => {\n        if (roomAvailable === false) {\n            addNotification({\n                title: 'Room Unavailable',\n                message: 'The room is not available for the extended time. Please adjust your agenda or choose a different time.',\n                type: 'error'\n            });\n            return;\n        }\n\n        if (proposedEndTime) {\n            onConfirm(proposedEndTime.toISOString());\n        }\n    };\n\n    const formatTime = (date) => {\n        if (!date) return '';\n        const d = new Date(date);\n        return d.toLocaleString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: '2-digit',\n            hour12: true\n        });\n    };\n\n    return (\n        <Popup \n            isOpen={isOpen} \n            onClose={onCancel}\n            defaultStyling={true}\n            customClassName=\"publish-confirm-modal-popup\"\n        >\n            <div className=\"publish-confirm-modal\">\n                <div className=\"modal-header\">\n                    <h3>\n                        <Icon icon=\"mdi:publish\" />\n                        Publish Agenda\n                    </h3>\n                </div>\n\n                <div className=\"modal-content\">\n                    <div className=\"publish-info-note\">\n                        <Icon icon=\"mdi:information-outline\" />\n                        <span>Your agenda is already saved. Publishing makes it visible to attendees on the event page.</span>\n                    </div>\n                    {isOver && (\n                        <div className=\"time-warning-section over\">\n                            <Icon icon=\"mdi:alert-circle\" />\n                            <div className=\"warning-content\">\n                                <h4>Agenda exceeds event time</h4>\n                                <p>\n                                    Your agenda is <strong>{diffMinutes} minutes</strong> longer than the scheduled event time.\n                                </p>\n                            </div>\n                        </div>\n                    )}\n\n                    {isUnder && (\n                        <div className=\"time-warning-section under\">\n                            <Icon icon=\"mdi:alert-circle-outline\" />\n                            <div className=\"warning-content\">\n                                <h4>Agenda shorter than event time</h4>\n                                <p>\n                                    Your agenda is <strong>{diffMinutes} minutes</strong> shorter than the scheduled event time.\n                                </p>\n                            </div>\n                        </div>\n                    )}\n\n                    {(isOver || isUnder) && (\n                        <div className=\"time-comparison\">\n                            <div className=\"time-row\">\n                                <span className=\"time-label\">Current end time:</span>\n                                <span className=\"time-value\">{formatTime(event?.end_time)}</span>\n                            </div>\n                            <div className=\"time-row\">\n                                <span className=\"time-label\">Proposed end time:</span>\n                                <span className={`time-value ${isOver ? 'over' : 'under'}`}>\n                                    {formatTime(proposedEndTime)}\n                                </span>\n                            </div>\n                        </div>\n                    )}\n\n                    {event?.classroom_id && (isOver || isUnder) && (\n                        <div className=\"room-availability-section\">\n                            {checkingAvailability ? (\n                                <div className=\"availability-checking\">\n                                    <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                                    <span>Checking room availability...</span>\n                                </div>\n                            ) : roomAvailable === true ? (\n                                <div className=\"availability-status available\">\n                                    <Icon icon=\"mdi:check-circle\" />\n                                    <span>\n                                        {roomName ? `Room \"${roomName}\" is available` : 'Room is available'} for the extended time\n                                    </span>\n                                </div>\n                            ) : roomAvailable === false ? (\n                                <div className=\"availability-status unavailable\">\n                                    <Icon icon=\"mdi:alert-circle\" />\n                                    <span>\n                                        {roomName ? `Room \"${roomName}\" is unavailable` : 'Room is unavailable'} for the extended time\n                                    </span>\n                                </div>\n                            ) : null}\n                        </div>\n                    )}\n\n                    {!event?.classroom_id && (isOver || isUnder) && (\n                        <div className=\"no-room-notice\">\n                            <Icon icon=\"mdi:information\" />\n                            <span>No room reserved for this event. Time adjustment will proceed without room check.</span>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"modal-actions\">\n                    {(isOver || isUnder) && (\n                        <button \n                            className={`btn-adjust ${roomAvailable === false ? 'disabled' : ''}`}\n                            onClick={handleConfirm}\n                            disabled={roomAvailable === false || checkingAvailability}\n                        >\n                            Adjust Time & Publish\n                        </button>\n                    )}\n                    <button \n                        className=\"btn-publish-without\" \n                        onClick={(isOver || isUnder) ? onPublishWithoutAdjusting : handleConfirm}\n                    >\n                        {(isOver || isUnder) ? 'Publish Without Adjusting' : 'Publish'}\n                    </button>\n                </div>\n            </div>\n        </Popup>\n    );\n}\n\nexport default PublishConfirmModal;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport AgendaItem from './AgendaItem';\nimport AgendaItemEditor from './AgendaItemEditor';\nimport AgendaDailyCalendar from './AgendaDailyCalendar/AgendaDailyCalendar';\nimport PublishConfirmModal from './PublishConfirmModal';\nimport DeleteConfirmModal from '../../../../../../components/DeleteConfirmModal/DeleteConfirmModal';\nimport EmptyState from '../../../../../../components/EmptyState/EmptyState';\nimport { getStoredAgendaView } from '../../../../../../utils/agendaViewPreferences';\nimport './AgendaBuilder.scss';\n\nconst MINUTE_HEIGHT_PRESETS = [\n    { id: 'compact', label: 'Compact', value: 1 },\n    { id: 'normal', label: 'Normal', value: 3 },\n    { id: 'expanded', label: 'Expanded', value: 5 }\n];\n\nconst AGENDA_VIEW_STORAGE_KEY = 'meridian-agenda-view';\n\nfunction AgendaBuilder({ event, orgId, onRefresh, isTabActive = true }) {\n    const { addNotification } = useNotification();\n    const [items, setItems] = useState([]);\n    const [editingItem, setEditingItem] = useState(null);\n    const [saving, setSaving] = useState(false);\n    const [isPublished, setIsPublished] = useState(false);\n    const [publishing, setPublishing] = useState(false);\n    const [showPublishModal, setShowPublishModal] = useState(false);\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\n    const [itemToDelete, setItemToDelete] = useState(null);\n    const [viewMode, setViewMode] = useState(() => getStoredAgendaView().viewMode); // 'creator' | 'calendar'\n    const [calendarMinuteHeight, setCalendarMinuteHeight] = useState(() => getStoredAgendaView().calendarMinuteHeight); // 'compact' | 'normal' | 'expanded'\n\n    useEffect(() => {\n        localStorage.setItem(AGENDA_VIEW_STORAGE_KEY, JSON.stringify({\n            viewMode,\n            calendarMinuteHeight\n        }));\n    }, [viewMode, calendarMinuteHeight]);\n\n    const [headerOutOfView, setHeaderOutOfView] = useState(false);\n    const headerRef = useRef(null);\n\n    const { data: agendaData, loading, refetch } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/agenda` : null\n    );\n\n    useEffect(() => {\n        if (agendaData?.success && agendaData.data?.agenda) {\n            const agenda = agendaData.data.agenda;\n            setIsPublished(agenda.isPublished || false);\n            const eventStart = event?.start_time ? new Date(event.start_time) : new Date();\n            let cursor = new Date(eventStart);\n            const agendaItems = (agenda.items || []).map((item, index) => {\n                const normalizedItem = { ...item };\n                if (item.startTime && typeof item.startTime === 'string') {\n                    normalizedItem.startTime = new Date(item.startTime);\n                }\n                if (item.endTime && typeof item.endTime === 'string') {\n                    normalizedItem.endTime = new Date(item.endTime);\n                }\n                if (!normalizedItem.startTime || !normalizedItem.endTime) {\n                    const duration = parseInt(item.durationMinutes, 10) || 30;\n                    normalizedItem.startTime = new Date(cursor);\n                    normalizedItem.endTime = new Date(cursor);\n                    normalizedItem.endTime.setMinutes(normalizedItem.endTime.getMinutes() + duration);\n                    cursor = new Date(normalizedItem.endTime);\n                } else {\n                    cursor = new Date(normalizedItem.endTime);\n                }\n                return normalizedItem;\n            });\n            setItems(agendaItems);\n        }\n    }, [agendaData, event?.start_time]);\n\n    const saveAgenda = async (itemsToSave = items) => {\n        if (!event?._id || !orgId) {\n            return { success: false, message: 'Missing event ID or org ID' };\n        }\n\n        setSaving(true);\n        try {\n            const sanitizedItems = itemsToSave.map((item) => {\n                const { durationMinutes, ...rest } = item;\n                const sanitized = { ...rest };\n                if (item.startTime) {\n                    sanitized.startTime =\n                        typeof item.startTime === 'string'\n                            ? item.startTime\n                            : new Date(item.startTime).toISOString();\n                }\n                if (item.endTime) {\n                    sanitized.endTime =\n                        typeof item.endTime === 'string'\n                            ? item.endTime\n                            : new Date(item.endTime).toISOString();\n                }\n                return sanitized;\n            });\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/agenda`,\n                { items: sanitizedItems },\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                setIsPublished(false);\n                if (onRefresh) onRefresh();\n                return { success: true };\n            } else {\n                throw new Error(response.message || 'Failed to save agenda');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to save agenda',\n                type: 'error'\n            });\n            return { success: false, message: error.message || 'Failed to save agenda' };\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const getLatestItemEnd = () => {\n        if (items.length === 0) {\n            return event?.start_time ? new Date(event.start_time) : new Date();\n        }\n        const ordered = [...items].sort((a, b) => (a.order || 0) - (b.order || 0));\n        const last = ordered[ordered.length - 1];\n        return last.endTime ? new Date(last.endTime) : new Date(event?.start_time || Date.now());\n    };\n\n    const handleAddItem = () => {\n        const latestEnd = getLatestItemEnd();\n        const startTime = new Date(latestEnd);\n        const endTime = new Date(latestEnd);\n        endTime.setMinutes(endTime.getMinutes() + 30);\n\n        const newItem = {\n            id: `item-${Date.now()}`,\n            title: 'New Agenda Item',\n            description: '',\n            startTime,\n            endTime,\n            type: 'Activity',\n            location: '',\n            assignedRoles: [],\n            isPublic: true,\n            order: items.length\n        };\n\n        setEditingItem(newItem);\n    };\n\n    const handleEditItem = (item) => {\n        setEditingItem(item);\n    };\n\n    const handleDeleteItem = (itemId) => {\n        setItemToDelete(itemId);\n        setShowDeleteModal(true);\n    };\n\n    const confirmDeleteItem = async () => {\n        if (!itemToDelete || !event?._id || !orgId) return;\n\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/agenda/items/${itemToDelete}`,\n                {},\n                { method: 'DELETE' }\n            );\n\n            if (response.success) {\n                setItems(items.filter((item) => item.id !== itemToDelete));\n                setIsPublished(false);\n                if (onRefresh) onRefresh();\n                addNotification({\n                    title: 'Success',\n                    message: 'Agenda item deleted',\n                    type: 'success'\n                });\n            } else {\n                throw new Error(response.message || 'Failed to delete item');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to delete agenda item',\n                type: 'error'\n            });\n        } finally {\n            setShowDeleteModal(false);\n            setItemToDelete(null);\n        }\n    };\n\n    const handleSaveItem = async (itemData) => {\n        const { durationMinutes, ...rest } = itemData;\n        const sanitized = { ...rest };\n        if (itemData.startTime) {\n            sanitized.startTime =\n                itemData.startTime instanceof Date\n                    ? itemData.startTime\n                    : new Date(itemData.startTime);\n        }\n        if (itemData.endTime) {\n            sanitized.endTime =\n                itemData.endTime instanceof Date ? itemData.endTime : new Date(itemData.endTime);\n        }\n\n        const existingIndex = items.findIndex((item) => item.id === sanitized.id);\n        let updatedItems;\n\n        if (existingIndex >= 0) {\n            updatedItems = [...items];\n            updatedItems[existingIndex] = { ...sanitized, order: updatedItems[existingIndex].order };\n        } else {\n            updatedItems = [...items, { ...sanitized, order: items.length }];\n        }\n\n        setItems(updatedItems);\n        setEditingItem(null);\n        await saveAgenda(updatedItems);\n    };\n\n    const calculateTimeDifference = () => {\n        if (!event?.start_time || !event?.end_time || items.length === 0) {\n            return null;\n        }\n\n        const agendaDuration = items.reduce((total, item) => {\n            if (item.startTime && item.endTime) {\n                const start = new Date(item.startTime);\n                const end = new Date(item.endTime);\n                return total + Math.round((end - start) / 60000);\n            }\n            return total;\n        }, 0);\n\n        const eventStart = new Date(event.start_time);\n        const eventEnd = new Date(event.end_time);\n        const eventDuration = Math.round((eventEnd - eventStart) / 60000);\n        const difference = agendaDuration - eventDuration;\n\n        return {\n            agendaDuration,\n            eventDuration,\n            difference,\n            isOver: difference > 0,\n            isUnder: difference < 0,\n            isExact: difference === 0\n        };\n    };\n\n    const handlePublish = () => {\n        if (!event?._id || !orgId) return;\n        if (items.length === 0) {\n            addNotification({\n                title: 'Error',\n                message: 'Cannot publish an empty agenda',\n                type: 'error'\n            });\n            return;\n        }\n\n        const timeDiff = calculateTimeDifference();\n        if (timeDiff && !timeDiff.isExact) {\n            setShowPublishModal(true);\n        } else {\n            publishAgenda();\n        }\n    };\n\n    const publishAgenda = async (newEndTime = null) => {\n        if (!event?._id || !orgId) return;\n\n        setPublishing(true);\n        try {\n            const requestBody = newEndTime ? { newEndTime } : {};\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/agenda/publish`,\n                requestBody,\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                setIsPublished(true);\n                setShowPublishModal(false);\n                if (onRefresh) onRefresh();\n                addNotification({\n                    title: 'Success',\n                    message: newEndTime\n                        ? 'Agenda published and event time adjusted successfully'\n                        : 'Agenda published successfully',\n                    type: 'success'\n                });\n            } else {\n                throw new Error(response.message || 'Failed to publish agenda');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to publish agenda',\n                type: 'error'\n            });\n        } finally {\n            setPublishing(false);\n        }\n    };\n\n    const handlePublishConfirm = (newEndTime) => {\n        publishAgenda(newEndTime);\n    };\n\n    const handlePublishWithoutAdjusting = () => {\n        publishAgenda();\n    };\n\n    const updateHeaderVisibility = useCallback(() => {\n        const header = headerRef.current;\n        const scrollContainer = header?.closest('.dashboard-overlay') || header?.parentElement;\n        if (!header || !scrollContainer) return;\n\n        const headerRect = header.getBoundingClientRect();\n        const containerRect = scrollContainer.getBoundingClientRect();\n        const threshold = containerRect.top + 60;\n        setHeaderOutOfView(headerRect.bottom < threshold);\n    }, []);\n\n    useEffect(() => {\n        const header = headerRef.current;\n        const scrollContainer = header?.closest('.dashboard-overlay') || header?.parentElement;\n        if (!scrollContainer) return;\n\n        const runUpdate = () => requestAnimationFrame(updateHeaderVisibility);\n        updateHeaderVisibility();\n        scrollContainer.addEventListener('scroll', runUpdate, { passive: true });\n        window.addEventListener('resize', runUpdate);\n        return () => {\n            scrollContainer.removeEventListener('scroll', runUpdate);\n            window.removeEventListener('resize', runUpdate);\n        };\n    }, [updateHeaderVisibility, loading]);\n\n    if (loading) {\n        return (\n            <div className=\"agenda-builder loading\">\n                <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                <p>Loading agenda...</p>\n            </div>\n        );\n    }\n\n    const timeDiff = calculateTimeDifference();\n\n    return (\n        <div className=\"agenda-builder\">\n            <div ref={headerRef} className=\"agenda-header\">\n                <div className=\"header-left\">\n                    <h3>\n                        <Icon icon=\"mdi:calendar-clock\" />\n                        Event Agenda\n                    </h3>\n                    <div className=\"header-meta\">\n                        <p>{items.length} item{items.length !== 1 ? 's' : ''}</p>\n                        {timeDiff && !timeDiff.isExact && (\n                            <span className={`time-warning ${timeDiff.isOver ? 'over' : 'under'}`}>\n                                <Icon icon={timeDiff.isOver ? 'mdi:alert-circle' : 'mdi:alert-circle-outline'} />\n                                {timeDiff.isOver\n                                    ? `${Math.abs(timeDiff.difference)} min over`\n                                    : `${Math.abs(timeDiff.difference)} min under`}\n                            </span>\n                        )}\n                        {isPublished ? (\n                            <span className=\"publish-status published\" title=\"Agenda is visible to attendees\">\n                                <Icon icon=\"mdi:check-circle\" />\n                                Published\n                            </span>\n                        ) : (\n                            <>\n                                <span className=\"publish-status saved\" title=\"Your changes are saved to the database\">\n                                    <Icon icon=\"mdi:content-save-check\" />\n                                    Saved\n                                </span>\n                                <span className=\"publish-status draft\" title=\"Not visible to attendees. Click Publish when ready.\">\n                                    <Icon icon=\"mdi:eye-off-outline\" />\n                                    Draft\n                                </span>\n                            </>\n                        )}\n                    </div>\n                </div>\n                <div className=\"header-actions\">\n                    <div className=\"view-toggle\">\n                        <label className=\"view-label\">View:</label>\n                        <button\n                            className={`view-btn ${viewMode === 'creator' ? 'active' : ''}`}\n                            onClick={() => setViewMode('creator')}\n                            title=\"Creator View - Sequential list of items\"\n                        >\n                            <Icon icon=\"mdi:format-list-numbered\" />\n                            <span>List</span>\n                        </button>\n                        <button\n                            className={`view-btn ${viewMode === 'calendar' ? 'active' : ''}`}\n                            onClick={() => setViewMode('calendar')}\n                            title=\"Calendar View - Google-style timeline\"\n                        >\n                            <Icon icon=\"mdi:view-timeline\" />\n                            <span>Calendar</span>\n                        </button>\n                    </div>\n                    <button className=\"btn-primary\" onClick={handleAddItem}>\n                        <Icon icon=\"mdi:plus\" />\n                        <span>Add Item</span>\n                    </button>\n                    {!isPublished && items.length > 0 && (\n                        <button\n                            className=\"btn-publish\"\n                            onClick={handlePublish}\n                            disabled={publishing}\n                            title=\"Make the agenda visible to attendees. Your changes are already saved.\"\n                        >\n                            <Icon\n                                icon={publishing ? 'mdi:loading' : 'mdi:publish'}\n                                className={publishing ? 'spinner' : ''}\n                            />\n                            <span>{publishing ? 'Publishing...' : 'Publish'}</span>\n                        </button>\n                    )}\n\n                    {saving && (\n                        <span className=\"saving-indicator\">\n                            <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                            Saving...\n                        </span>\n                    )}\n                </div>\n            </div>\n\n            {headerOutOfView && isTabActive && createPortal(\n                <div className=\"agenda-floating-actions\">\n                    <button className=\"btn-primary\" onClick={handleAddItem}>\n                        <Icon icon=\"mdi:plus\" />\n                        <span>Add Item</span>\n                    </button>\n                    {!isPublished && items.length > 0 && (\n                        <button\n                            className=\"btn-publish\"\n                            onClick={handlePublish}\n                            disabled={publishing}\n                        >\n                            <Icon\n                                icon={publishing ? 'mdi:loading' : 'mdi:publish'}\n                                className={publishing ? 'spinner' : ''}\n                            />\n                            <span>{publishing ? 'Publishing...' : 'Publish'}</span>\n                        </button>\n                    )}\n                </div>,\n                document.body\n            )}\n\n            {viewMode === 'calendar' ? (\n                <div className=\"agenda-calendar-wrapper\">\n                    <div className=\"calendar-zoom-controls\">\n                        <label className=\"zoom-label\">Zoom:</label>\n                        {MINUTE_HEIGHT_PRESETS.map((preset) => (\n                            <button\n                                key={preset.id}\n                                type=\"button\"\n                                className={`zoom-btn ${calendarMinuteHeight === preset.id ? 'active' : ''}`}\n                                onClick={() => setCalendarMinuteHeight(preset.id)}\n                                title={`${preset.label} (${preset.value}px/min)`}\n                            >\n                                {preset.label}\n                            </button>\n                        ))}\n                    </div>\n                    <AgendaDailyCalendar\n                        agendaItems={items}\n                        event={event}\n                        minuteHeight={MINUTE_HEIGHT_PRESETS.find((p) => p.id === calendarMinuteHeight)?.value ?? 4}\n                        onEditItem={handleEditItem}\n                    />\n                </div>\n            ) : items.length === 0 ? (\n                <EmptyState\n                    icon=\"mdi:calendar-blank\"\n                    title=\"No agenda items yet\"\n                    description=\"Start building your event agenda by adding items.\"\n                    actions={[{ label: 'Add first item', onClick: handleAddItem, primary: true }]}\n                />\n            ) : (\n                <div className=\"agenda-items-container\">\n                    {[...items]\n                        .sort((a, b) => (a.order || 0) - (b.order || 0))\n                        .map((item) => (\n                            <AgendaItem\n                                key={item.id}\n                                item={item}\n                                onEdit={() => handleEditItem(item)}\n                                onDelete={() => handleDeleteItem(item.id)}\n                            />\n                            ))}\n                </div>\n            )}\n\n            {editingItem && (\n                <AgendaItemEditor\n                    item={editingItem}\n                    event={event}\n                    latestItemEnd={items.length > 0 ? getLatestItemEnd() : null}\n                    onSave={handleSaveItem}\n                    onCancel={() => setEditingItem(null)}\n                />\n            )}\n\n            {showPublishModal && timeDiff && (\n                <PublishConfirmModal\n                    event={event}\n                    orgId={orgId}\n                    timeDifference={timeDiff}\n                    onConfirm={handlePublishConfirm}\n                    onCancel={() => setShowPublishModal(false)}\n                    onPublishWithoutAdjusting={handlePublishWithoutAdjusting}\n                />\n            )}\n\n            <DeleteConfirmModal\n                isOpen={showDeleteModal}\n                onConfirm={confirmDeleteItem}\n                onCancel={() => {\n                    setShowDeleteModal(false);\n                    setItemToDelete(null);\n                }}\n                title=\"Delete Agenda Item\"\n                message=\"Are you sure you want to delete this agenda item? This will remove the item from the agenda.\"\n                warningDetails=\"This action cannot be undone.\"\n            />\n        </div>\n    );\n}\n\nexport default AgendaBuilder;\n","import React from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport './JobsManager.scss';\n\nfunction JobShiftScheduler({ roles, event }) {\n    if (!roles || roles.length === 0 || !event) return null;\n\n    const formatTime = (date) => {\n        if (!date) return 'TBD';\n        return new Date(date).toLocaleTimeString('en-US', {\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const rolesWithShifts = roles.filter(role => role.shiftStart && role.shiftEnd);\n\n    if (rolesWithShifts.length === 0) {\n        return (\n            <div className=\"shift-scheduler\">\n                <h4>\n                    <Icon icon=\"mdi:calendar-clock\" />\n                    Shift Schedule\n                </h4>\n                <p className=\"no-shifts\">Shift Scheduling Coming Soon.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"shift-scheduler\">\n            <h4>\n                <Icon icon=\"mdi:calendar-clock\" />\n                Shift Schedule\n            </h4>\n            <div className=\"shifts-timeline\">\n                {rolesWithShifts.map(role => (\n                    <div key={role._id} className=\"shift-item\">\n                        <div className=\"shift-role\">\n                            <strong>{role.name}</strong>\n                            <span className=\"shift-time\">\n                                {formatTime(role.shiftStart)} - {formatTime(role.shiftEnd)}\n                            </span>\n                        </div>\n                        <div className=\"shift-coverage\">\n                            <span>\n                                {role.assignments?.filter(a => a.status === 'confirmed').length || 0} / {role.requiredCount}\n                            </span>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default JobShiftScheduler;\n","import React from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport HeaderContainer from '../../../../../../components/HeaderContainer/HeaderContainer';\nimport EmptyState from '../../../../../../components/EmptyState/EmptyState';\nimport './JobPicker.scss';\n\nfunction JobPicker({\n    orgRoles,\n    roles,\n    creatingJobTemplate,\n    setCreatingJobTemplate,\n    newJobTemplate,\n    setNewJobTemplate,\n    onCreateJobTemplate,\n    onIncrementJob,\n    onDecrementJob,\n    onClose,\n}) {\n    return (\n        <HeaderContainer\n            classN=\"job-picker\"\n            icon=\"mdi:briefcase\"\n            header=\"Add Job Slots\"\n            right={\n                <div className=\"header-actions\">\n                    {!creatingJobTemplate && (\n                        <button\n                            className=\"btn-secondary\"\n                            onClick={() => setCreatingJobTemplate(true)}\n                        >\n                            <Icon icon=\"mdi:plus\" />\n                            New Template\n                        </button>\n                    )}\n                    <button className=\"close-btn\" onClick={onClose} type=\"button\" aria-label=\"Close\">\n                        <Icon icon=\"mdi:close\" />\n                    </button>\n                </div>\n            }\n        >\n            {creatingJobTemplate && (\n                <div className=\"job-template-form\">\n                    <div className=\"form-group\">\n                        <label>Template Name *</label>\n                        <input\n                            type=\"text\"\n                            value={newJobTemplate.name}\n                            onChange={(e) => setNewJobTemplate(prev => ({ ...prev, name: e.target.value }))}\n                            placeholder=\"e.g., Registration, Ticketing\"\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Description</label>\n                        <textarea\n                            rows={2}\n                            value={newJobTemplate.description}\n                            onChange={(e) => setNewJobTemplate(prev => ({ ...prev, description: e.target.value }))}\n                            placeholder=\"Describe this job template\"\n                        />\n                    </div>\n                    <div className=\"form-actions\">\n                        <button\n                            className=\"btn-cancel\"\n                            type=\"button\"\n                            onClick={() => {\n                                setCreatingJobTemplate(false);\n                                setNewJobTemplate({ name: '', description: '' });\n                            }}\n                        >\n                            Cancel\n                        </button>\n                        <button\n                            className=\"btn-save\"\n                            onClick={onCreateJobTemplate}\n                            disabled={!newJobTemplate.name.trim()}\n                        >\n                            <Icon icon=\"mdi:check\" />\n                            Create & Add Slot\n                        </button>\n                    </div>\n                </div>\n            )}\n            <div className=\"job-picker-list\">\n                {orgRoles.length === 0 && !creatingJobTemplate && (\n                    <EmptyState\n                        icon=\"mingcute:group-fill\"\n                        title=\"No job templates yet\"\n                        description=\"Create your first job template to add slots to this event.\"\n                        actions={[{ label: 'New Template', onClick: () => setCreatingJobTemplate(true), primary: true }]}\n                    />\n                )}\n                {orgRoles.map(orgRole => {\n                    const existingRole = roles.find(role => {\n                        const orgRoleId = role.orgRoleId?._id || role.orgRoleId;\n                        return orgRoleId === orgRole._id;\n                    });\n                    const count = existingRole?.requiredCount || 0;\n\n                    return (\n                        <div key={orgRole._id} className=\"job-picker-item\">\n                            <div className=\"job-info\">\n                                <strong>{orgRole.name}</strong>\n                                {orgRole.description && <p>{orgRole.description}</p>}\n                            </div>\n                            <div className=\"job-actions\">\n                                <button\n                                    className=\"action-btn remove\"\n                                    onClick={() => onDecrementJob(orgRole)}\n                                    title=\"Remove slot\"\n                                    disabled={count <= 0}\n                                >\n                                    <Icon icon=\"mdi:minus\" />\n                                </button>\n                                <span className=\"job-count\">{count}</span>\n                                <button\n                                    className=\"action-btn add\"\n                                    onClick={() => onIncrementJob(orgRole)}\n                                    title=\"Add slot\"\n                                >\n                                    <Icon icon=\"mdi:plus\" />\n                                </button>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </HeaderContainer>\n    );\n}\n\nexport default JobPicker;\n","import React, { useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport HeaderContainer from '../../../../../../components/HeaderContainer/HeaderContainer';\nimport './JobSignup.scss';\n\nfunction JobSignup({ event, orgId, roles, onClose, onSuccess }) {\n    const { addNotification } = useNotification();\n    const [selectedRole, setSelectedRole] = useState('');\n    const [shiftStart, setShiftStart] = useState('');\n    const [shiftEnd, setShiftEnd] = useState('');\n    const [signingUp, setSigningUp] = useState(false);\n\n    const availableRoles = roles?.filter(role => {\n        const assignedCount = role.assignments?.filter(a => a.status === 'confirmed').length || 0;\n        return assignedCount < role.requiredCount;\n    }) || [];\n\n    const handleSignup = async () => {\n        if (!selectedRole) {\n            addNotification({\n                title: 'Error',\n                message: 'Please select a job',\n                type: 'error'\n            });\n            return;\n        }\n\n        if (!event?._id || !orgId) return;\n\n        setSigningUp(true);\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/volunteer-signups`,\n                {\n                    roleId: selectedRole,\n                    shiftStart: shiftStart || null,\n                    shiftEnd: shiftEnd || null\n                },\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                addNotification({\n                    title: 'Success',\n                    message: 'You have successfully signed up for this job',\n                    type: 'success'\n                });\n                if (onSuccess) onSuccess();\n                onClose();\n            } else {\n                throw new Error(response.message || 'Failed to sign up');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to sign up for job',\n                type: 'error'\n            });\n        } finally {\n            setSigningUp(false);\n        }\n    };\n\n    if (availableRoles.length === 0) {\n        return (\n            <HeaderContainer classN=\"volunteer-signup\" icon=\"mdi:account-plus\" header=\"Volunteer Signup\"\n            right={\n                <button className=\"close-btn\" onClick={onClose} type=\"button\" aria-label=\"Close\">\n                    <Icon icon=\"mdi:close\" />\n                </button>\n            }\n            >\n                <div className=\"no-roles-available\">\n                    <Icon icon=\"mdi:information\" />\n                    <p>No jobs available for signup. All jobs are fully staffed.</p>\n                </div>\n            </HeaderContainer>\n        );\n    }\n\n    return (\n        <HeaderContainer\n            classN=\"volunteer-signup\"\n            icon=\"mdi:account-plus\"\n            header=\"Volunteer Signup\"\n            right={\n                <button className=\"close-btn\" onClick={onClose} type=\"button\" aria-label=\"Close\">\n                    <Icon icon=\"mdi:close\" />\n                </button>\n            }\n        >\n            <div className=\"signup-form\">\n                    <div className=\"form-group\">\n                        <label>\n                            Select Job <span className=\"required\">*</span>\n                        </label>\n                        <select\n                            value={selectedRole}\n                            onChange={(e) => setSelectedRole(e.target.value)}\n                            required\n                        >\n                            <option value=\"\">Choose a job</option>\n                            {availableRoles.map(role => {\n                                const assignedCount = role.assignments?.filter(a => a.status === 'confirmed').length || 0;\n                                const remaining = role.requiredCount - assignedCount;\n                                return (\n                                    <option key={role._id} value={role._id}>\n                                        {role.name} ({remaining} spot{remaining !== 1 ? 's' : ''} available)\n                                    </option>\n                                );\n                            })}\n                        </select>\n                    </div>\n\n                    {selectedRole && (() => {\n                        const role = availableRoles.find(r => r._id === selectedRole);\n                        if (role && (!role.shiftStart || !role.shiftEnd)) {\n                            return (\n                                <>\n                                    <div className=\"form-group\">\n                                        <label>Shift Start (Optional)</label>\n                                        <input\n                                            type=\"datetime-local\"\n                                            value={shiftStart}\n                                            onChange={(e) => setShiftStart(e.target.value)}\n                                        />\n                                    </div>\n                                    <div className=\"form-group\">\n                                        <label>Shift End (Optional)</label>\n                                        <input\n                                            type=\"datetime-local\"\n                                            value={shiftEnd}\n                                            onChange={(e) => setShiftEnd(e.target.value)}\n                                        />\n                                    </div>\n                                </>\n                            );\n                        }\n                        return null;\n                    })()}\n\n                    <div className=\"form-actions\">\n                        <button type=\"button\" className=\"btn-cancel\" onClick={onClose}>\n                            Cancel\n                        </button>\n                        <button \n                            type=\"button\" \n                            className=\"btn-save\"\n                            onClick={handleSignup}\n                            disabled={!selectedRole || signingUp}\n                        >\n                            {signingUp ? (\n                                <>\n                                    <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                                    <span>Signing Up...</span>\n                                </>\n                            ) : (\n                                <>\n                                    <Icon icon=\"mdi:check\" />\n                                    <span>Sign Up</span>\n                                </>\n                            )}\n                        </button>\n                    </div>\n                </div>\n        </HeaderContainer>\n    );\n}\n\nexport default JobSignup;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport defaultAvatar from '../../../../../../assets/defaultAvatar.svg';\nimport './MemberDropdown.scss';\n\nfunction MemberDropdown({ \n    members, \n    selectedMemberId,\n    onMemberSelect,\n    disabled,\n    placeholder = \"Select member\"\n}) {\n    const [showDrop, setShowDrop] = useState(false);\n    const [isAnimating, setIsAnimating] = useState(false);\n    const [shouldRender, setShouldRender] = useState(false);\n    const dropdownRef = useRef(null);\n\n    const selectedMember = members.find(m => \n        (m.user_id?._id?.toString() || m.user_id?.toString()) === selectedMemberId\n    );\n\n    useEffect(() => {\n        if (showDrop) {\n            setShouldRender(true);\n            setIsAnimating(true);\n        } else {\n            setIsAnimating(false);\n            const timer = setTimeout(() => {\n                setShouldRender(false);\n            }, 200); // Match the animation duration\n            return () => clearTimeout(timer);\n        }\n    }, [showDrop]);\n\n    // Handle click outside to close dropdown\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setShowDrop(false);\n            }\n        };\n\n        if (showDrop) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [showDrop]);\n\n    const handleMemberClick = (member) => {\n        const memberId = member.user_id?._id || member.user_id;\n        if (onMemberSelect) {\n            onMemberSelect(memberId);\n        }\n        setShowDrop(false);\n    };\n\n    return (\n        <div className=\"member-dropdown\" ref={dropdownRef} onClick={(e) => {\n            if (!disabled) {\n                e.stopPropagation();\n                setShowDrop(!showDrop);\n            }\n        }}>\n            {selectedMember ? (\n                <>\n                    <img \n                        src={selectedMember.user_id?.picture || defaultAvatar} \n                        alt={selectedMember.user_id?.name || 'Member'} \n                    />\n                    <h1>{selectedMember.user_id?.name || 'Unknown'}</h1>\n                </>\n            ) : (\n                <h1>{placeholder}</h1>\n            )}\n            <Icon \n                icon={`${showDrop ? \"ic:round-keyboard-arrow-up\" : \"ic:round-keyboard-arrow-down\"}`} \n                width=\"20\" \n                height=\"20\" \n            />\n            {shouldRender && (\n                <div className={`dropdown ${!isAnimating ? 'dropdown-exit' : ''}`} onClick={(e) => e.stopPropagation()}>  \n                    <div className=\"member-list\">\n                        {members.length === 0 ? (\n                            <div className=\"no-members\">\n                                <p>No members available</p>\n                            </div>\n                        ) : (\n                            members.map((member) => {\n                                const memberId = member.user_id?._id?.toString() || member.user_id?.toString();\n                                const isSelected = memberId === selectedMemberId;\n                                return (\n                                    <div \n                                        className={`drop-option ${isSelected ? \"selected\" : \"\"}`} \n                                        key={memberId}\n                                        onClick={() => handleMemberClick(member)}\n                                    >\n                                        <img \n                                            src={member.user_id?.picture || defaultAvatar} \n                                            alt={member.user_id?.name || 'Member'} \n                                        />\n                                        <div className=\"member-info\">\n                                            <p>{member.user_id?.name || 'Unknown'}</p>\n                                            {member.role && (\n                                                <span className=\"member-role\">{member.role}</span>\n                                            )}\n                                        </div>\n                                    </div>\n                                );\n                            })\n                        )}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default MemberDropdown;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport DeleteConfirmModal from '../../../../../../components/DeleteConfirmModal/DeleteConfirmModal';\nimport JobShiftScheduler from './JobShiftScheduler';\nimport JobPicker from './JobPicker';\nimport JobSignup from './JobSignup';\nimport MemberDropdown from './MemberDropdown';\nimport EmptyState from '../../../../../../components/EmptyState/EmptyState';\nimport './JobsManager.scss';\n\nfunction JobsManager({ event, orgId, onRefresh }) {\n    const { addNotification } = useNotification();\n    const [copiedEmail, setCopiedEmail] = useState(null);\n\n    const handleCopyEmail = async (email) => {\n        try {\n            await navigator.clipboard.writeText(email);\n            setCopiedEmail(email);\n            addNotification({\n                title: 'Copied',\n                message: 'Email copied to clipboard',\n                type: 'success'\n            });\n            setTimeout(() => setCopiedEmail(null), 2000);\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: 'Failed to copy email',\n                type: 'error'\n            });\n        }\n    };\n    const [roles, setRoles] = useState([]);\n    const [signups, setSignups] = useState([]);\n    const [orgRoles, setOrgRoles] = useState([]);\n    const [showVolunteerSignup, setShowVolunteerSignup] = useState(false);\n    const [showJobPicker, setShowJobPicker] = useState(false);\n    const [creatingJobTemplate, setCreatingJobTemplate] = useState(false);\n    const [newJobTemplate, setNewJobTemplate] = useState({ name: '', description: '' });\n    const [loading, setLoading] = useState(true);\n    const [assigningMembers, setAssigningMembers] = useState({}); // Track which roles are currently assigning\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\n    const [roleToDelete, setRoleToDelete] = useState(null);\n    const [showRemoveAssignmentModal, setShowRemoveAssignmentModal] = useState(false);\n    const [assignmentToRemove, setAssignmentToRemove] = useState(null); // { role, assignmentId, memberName }\n\n    // Fetch roles\n    const { data: rolesData, refetch: refetchRoles } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/roles` : null\n    );\n\n    // Fetch volunteer signups\n    const { data: signupsData, refetch: refetchSignups } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/volunteer-signups` : null\n    );\n\n    // Fetch org-level role definitions\n    const { data: orgRolesData } = useFetch(\n        orgId ? `/org-event-management/${orgId}/event-roles` : null\n    );\n\n    // Fetch org members for assignment\n    const { data: membersData } = useFetch(\n        orgId ? `/org-roles/${orgId}/members` : null\n    );\n\n    const members = membersData?.members || [];\n\n    useEffect(() => {\n        if (rolesData?.success) {\n            setRoles(rolesData.data.roles || []);\n            setLoading(false);\n        }\n    }, [rolesData]);\n\n    useEffect(() => {\n        if (signupsData?.success) {\n            setSignups(signupsData.data.signups || []);\n        }\n    }, [signupsData]);\n\n    useEffect(() => {\n        if (orgRolesData?.success) {\n            setOrgRoles(orgRolesData.data.roles || []);\n        }\n    }, [orgRolesData]);\n\n    const handleCloseJobPicker = () => {\n        setShowJobPicker(false);\n        setCreatingJobTemplate(false);\n        setNewJobTemplate({ name: '', description: '' });\n    };\n\n    const handleAddRole = () => {\n        setShowJobPicker(true);\n    };\n\n    const handleDeleteRole = (roleId) => {\n        setRoleToDelete(roleId);\n        setShowDeleteModal(true);\n    };\n\n    const confirmDeleteRole = async () => {\n        if (!roleToDelete || !event?._id || !orgId) return;\n\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/roles/${roleToDelete}`,\n                {},\n                { method: 'DELETE' }\n            );\n\n            if (response.success) {\n                setRoles(roles.filter(role => role._id !== roleToDelete));\n                refetchRoles();\n                if (onRefresh) onRefresh();\n                addNotification({\n                    title: 'Success',\n                    message: 'Job deleted successfully',\n                    type: 'success'\n                });\n            } else {\n                throw new Error(response.message || 'Failed to delete job');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to delete job',\n                type: 'error'\n            });\n        } finally {\n            setShowDeleteModal(false);\n            setRoleToDelete(null);\n        }\n    };\n\n    const handleIncrementJob = async (orgRole) => {\n        if (!event?._id || !orgId) return;\n\n        const existingRole = roles.find(role => {\n            const orgRoleId = role.orgRoleId?._id || role.orgRoleId;\n            return orgRoleId === orgRole._id;\n        });\n\n        try {\n            let response;\n            if (existingRole) {\n                response = await apiRequest(\n                    `/org-event-management/${orgId}/events/${event._id}/roles/${existingRole._id}`,\n                    { requiredCount: (existingRole.requiredCount || 0) + 1 },\n                    { method: 'PUT' }\n                );\n            } else {\n                response = await apiRequest(\n                    `/org-event-management/${orgId}/events/${event._id}/roles`,\n                    { orgRoleId: orgRole._id, requiredCount: 1 },\n                    { method: 'POST' }\n                );\n            }\n\n            if (response.success) {\n                refetchRoles();\n                if (onRefresh) onRefresh();\n            } else {\n                throw new Error(response.message || 'Failed to update job count');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to update job count',\n                type: 'error'\n            });\n        }\n    };\n\n    const handleDecrementJob = async (orgRole) => {\n        if (!event?._id || !orgId) return;\n\n        const existingRole = roles.find(role => {\n            const orgRoleId = role.orgRoleId?._id || role.orgRoleId;\n            return orgRoleId === orgRole._id;\n        });\n\n        if (!existingRole || !existingRole.requiredCount) return;\n\n        try {\n            if (existingRole.requiredCount <= 1) {\n                const response = await apiRequest(\n                    `/org-event-management/${orgId}/events/${event._id}/roles/${existingRole._id}`,\n                    {},\n                    { method: 'DELETE' }\n                );\n\n                if (!response.success) {\n                    throw new Error(response.message || 'Failed to remove job');\n                }\n            } else {\n                const response = await apiRequest(\n                    `/org-event-management/${orgId}/events/${event._id}/roles/${existingRole._id}`,\n                    { requiredCount: existingRole.requiredCount - 1 },\n                    { method: 'PUT' }\n                );\n\n                if (!response.success) {\n                    throw new Error(response.message || 'Failed to update job count');\n                }\n            }\n\n            refetchRoles();\n            if (onRefresh) onRefresh();\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to update job count',\n                type: 'error'\n            });\n        }\n    };\n\n    const handleCreateJobTemplate = async () => {\n        if (!orgId) return;\n        if (!newJobTemplate.name.trim()) return;\n\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/event-roles`,\n                {\n                    name: newJobTemplate.name.trim(),\n                    description: newJobTemplate.description.trim()\n                },\n                { method: 'POST' }\n            );\n\n            if (!response.success) {\n                throw new Error(response.message || 'Failed to create job template');\n            }\n\n            const createdRole = response.data?.role;\n            if (createdRole) {\n                setOrgRoles(prev => {\n                    const updated = [...prev, createdRole];\n                    return updated.sort((a, b) => a.name.localeCompare(b.name));\n                });\n                setNewJobTemplate({ name: '', description: '' });\n                setCreatingJobTemplate(false);\n                await handleIncrementJob(createdRole);\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to create job template',\n                type: 'error'\n            });\n        }\n    };\n\n    const handleAssignMember = async (role, memberId) => {\n        if (!memberId || !event?._id || !orgId || !role?._id) return;\n\n        // Check if member is already assigned to this role\n        const alreadyAssigned = role.assignments?.some(\n            a => a.memberId?._id?.toString() === memberId || a.memberId?.toString() === memberId\n        );\n\n        if (alreadyAssigned) {\n            addNotification({\n                title: 'Already Assigned',\n                message: 'This member is already assigned to this job',\n                type: 'warning'\n            });\n            return;\n        }\n\n        setAssigningMembers(prev => ({ ...prev, [role._id]: true }));\n\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/assignments`,\n                {\n                    roleId: role._id,\n                    memberId: memberId,\n                    status: 'confirmed' // Always start as confirmed\n                },\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                refetchRoles();\n                if (onRefresh) onRefresh();\n                addNotification({\n                    title: 'Success',\n                    message: 'Member assigned successfully',\n                    type: 'success'\n                });\n            } else {\n                throw new Error(response.message || 'Failed to assign member');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to assign member',\n                type: 'error'\n            });\n        } finally {\n            setAssigningMembers(prev => ({ ...prev, [role._id]: false }));\n        }\n    };\n\n    const handleRemoveAssignment = (role, assignmentId) => {\n        const assignment = role.assignments?.find(a => a._id === assignmentId);\n        const memberName = assignment?.memberId?.name || 'this member';\n        setAssignmentToRemove({ role, assignmentId, memberName });\n        setShowRemoveAssignmentModal(true);\n    };\n\n    const confirmRemoveAssignment = async () => {\n        if (!assignmentToRemove || !event?._id || !orgId || !assignmentToRemove.role?._id || !assignmentToRemove.assignmentId) return;\n\n        const { role, assignmentId } = assignmentToRemove;\n        setAssigningMembers(prev => ({ ...prev, [role._id]: true }));\n\n        try {\n            const response = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}/assignments/${assignmentId}`,\n                {},\n                { method: 'DELETE' }\n            );\n\n            if (response.success) {\n                refetchRoles();\n                if (onRefresh) onRefresh();\n                addNotification({\n                    title: 'Success',\n                    message: 'Member removed successfully',\n                    type: 'success'\n                });\n            } else {\n                throw new Error(response.message || 'Failed to remove member');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to remove member',\n                type: 'error'\n            });\n        } finally {\n            setAssigningMembers(prev => ({ ...prev, [role._id]: false }));\n            setShowRemoveAssignmentModal(false);\n            setAssignmentToRemove(null);\n        }\n    };\n\n\n    if (loading) {\n        return (\n            <div className=\"roles-manager loading\">\n                <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                <p>Loading jobs...</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"roles-manager\">\n            <div className=\"roles-header\">\n                <div className=\"header-left\">\n                    <h3>\n                        <Icon icon=\"mdi:account-group\" />\n                        Event Jobs & Assignments\n                    </h3>\n                    <p>{roles.length} job{roles.length !== 1 ? 's' : ''} defined</p>\n                </div>\n                <div className=\"header-actions\">\n                    <button\n                        className=\"btn-secondary\"\n                        onClick={() => setShowVolunteerSignup(true)}\n                    >\n                        <Icon icon=\"mdi:account-plus\" />\n                        <span>Volunteer Signup</span>\n                    </button>\n                    <button \n                        className=\"btn-primary\"\n                        onClick={handleAddRole}\n                    >\n                        <Icon icon=\"mdi:plus\" />\n                        <span>Add Job Slots</span>\n                    </button>\n                </div>\n            </div>\n\n            {roles.length === 0 ? (\n                <EmptyState\n                    icon=\"mingcute:group-fill\"\n                    title=\"No event jobs assigned yet\"\n                    description=\"Add event jobs to keep everyone organized.\"\n                />\n            ) : (\n                <div className=\"roles-list\">\n                    {roles.map(role => {\n                        const confirmedCount = role.assignments?.filter(a => a.status === 'confirmed').length || 0;\n                        const isFullyStaffed = confirmedCount >= role.requiredCount;\n                        \n                        return (\n                            <div key={role._id} className={`role-card ${isFullyStaffed ? 'fully-staffed' : ''}`}>\n                                <div className=\"role-header\">\n                                    <div className=\"role-info\">\n                                        <h4>{role.name}</h4>\n                                        {role.description && (\n                                            <p>{role.description}</p>\n                                        )}\n                                    </div>\n                                    <div className=\"role-actions\">\n                                        <button \n                                            className=\"action-btn delete\"\n                                            onClick={() => handleDeleteRole(role._id)}\n                                            title=\"Delete Job\"\n                                        >\n                                            <Icon icon=\"mdi:delete\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            {role.shiftStart && role.shiftEnd && (\n                                <div className=\"role-stats\">\n                                    <div className=\"stat-item\">\n                                        <Icon icon=\"mdi:clock-outline\" />\n                                        <span>\n                                            {new Date(role.shiftStart).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })} - \n                                            {new Date(role.shiftEnd).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                    </div>\n                                </div>\n                            )}\n                                <div className=\"role-assignments\">\n                                    <div className=\"assignments-header\">\n                                        <h5>Assignments ({confirmedCount} / {role.requiredCount})</h5>\n                                        {!isFullyStaffed && (\n                                            <div className=\"member-selector\">\n                                                <MemberDropdown\n                                                    members={members.filter(member => {\n                                                        // Filter out already assigned members\n                                                        const memberId = member.user_id._id.toString();\n                                                        return !role.assignments?.some(\n                                                            a => (a.memberId?._id?.toString() || a.memberId?.toString()) === memberId\n                                                        );\n                                                    })}\n                                                    onMemberSelect={(memberId) => {\n                                                        if (memberId) {\n                                                            handleAssignMember(role, memberId);\n                                                        }\n                                                    }}\n                                                    disabled={assigningMembers[role._id]}\n                                                    placeholder=\"Select member\"\n                                                />\n                                            </div>\n                                        )}\n                                        {isFullyStaffed && (\n                                            <span className=\"fully-staffed-badge\">\n                                                <Icon icon=\"mdi:check-circle\" />\n                                                Fully Staffed\n                                            </span>\n                                        )}\n                                    </div>\n                                <div className=\"assignments-list\">\n                                    {/* Show confirmed assignments */}\n                                    {role.assignments\n                                        ?.filter(a => a.status === 'confirmed')\n                                        .map((assignment, index) => (\n                                            <div key={`assigned-${index}`} className=\"assignment-item\">\n                                                <div className=\"member-info\">\n                                                    <span className=\"member-name\">\n                                                        {assignment.memberId?.name || 'Unknown'}\n                                                    </span>\n                                                    {assignment.memberId?.email && (\n                                                        <span \n                                                            className=\"member-email clickable\"\n                                                            onClick={() => handleCopyEmail(assignment.memberId.email)}\n                                                            title=\"Click to copy email\"\n                                                        >\n                                                            {assignment.memberId.email}\n                                                            <Icon \n                                                                icon={copiedEmail === assignment.memberId.email ? \"mdi:check\" : \"mdi:content-copy\"} \n                                                                className=\"copy-icon\"\n                                                            />\n                                                        </span>\n                                                    )}\n                                                </div>\n                                                <div className=\"assignment-actions\">\n                                                    <span className={`status-badge ${assignment.status || 'confirmed'}`}>\n                                                        {assignment.status || 'confirmed'}\n                                                    </span>\n                                                    <button\n                                                        className=\"remove-assignment-btn\"\n                                                        onClick={() => handleRemoveAssignment(role, assignment._id)}\n                                                        title=\"Remove member\"\n                                                        disabled={assigningMembers[role._id]}\n                                                    >\n                                                        <Icon icon=\"mdi:close\" />\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    \n                                    {/* Show placeholder slots for unfilled positions */}\n                                    {Array.from({ length: Math.max(0, role.requiredCount - confirmedCount) }).map((_, index) => (\n                                        <div key={`placeholder-${index}`} className=\"assignment-item placeholder-slot\">\n                                            <div className=\"member-info\">\n                                                <Icon icon=\"mdi:account-outline\" className=\"placeholder-icon\" />\n                                                <span className=\"placeholder-text\">Open slot</span>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                    })}\n                </div>\n            )}\n\n            <JobShiftScheduler roles={roles} event={event} />\n\n\n            <Popup\n                isOpen={showJobPicker}\n                onClose={handleCloseJobPicker}\n                customClassName=\"job-picker-popup medium-content\"\n                defaultStyling={false}\n                hideCloseButton\n            >\n                <JobPicker \n                    orgRoles={orgRoles}\n                    roles={roles}\n                    creatingJobTemplate={creatingJobTemplate}\n                    setCreatingJobTemplate={setCreatingJobTemplate}\n                    newJobTemplate={newJobTemplate}\n                    setNewJobTemplate={setNewJobTemplate}\n                    onCreateJobTemplate={handleCreateJobTemplate}\n                    onIncrementJob={handleIncrementJob}\n                    onDecrementJob={handleDecrementJob}\n                    onClose={handleCloseJobPicker}\n                />\n            </Popup>\n\n            <Popup\n                isOpen={showVolunteerSignup}\n                onClose={() => setShowVolunteerSignup(false)}\n                customClassName=\"volunteer-signup-popup medium-content\"\n                defaultStyling={false}\n                hideCloseButton\n            >\n                <JobSignup\n                    event={event}\n                    orgId={orgId}\n                    roles={roles}\n                    onClose={() => setShowVolunteerSignup(false)}\n                    onSuccess={() => {\n                        refetchSignups();\n                        refetchRoles();\n                        if (onRefresh) onRefresh();\n                    }}\n                />\n            </Popup>\n\n            <DeleteConfirmModal\n                isOpen={showDeleteModal}\n                onConfirm={confirmDeleteRole}\n                onCancel={() => {\n                    setShowDeleteModal(false);\n                    setRoleToDelete(null);\n                }}\n                title=\"Delete Job\"\n                message=\"Are you sure you want to delete this job? All assignments will be removed.\"\n                warningDetails=\"All assigned members will be removed from this job.\"\n            />\n\n            <DeleteConfirmModal\n                isOpen={showRemoveAssignmentModal}\n                onConfirm={confirmRemoveAssignment}\n                onCancel={() => {\n                    setShowRemoveAssignmentModal(false);\n                    setAssignmentToRemove(null);\n                }}\n                title=\"Remove Assignment\"\n                message={`Are you sure you want to remove ${assignmentToRemove?.memberName || 'this member'} from this job?`}\n                warningDetails=\"The member will be unassigned from this job slot.\"\n                confirmLabel=\"Remove\"\n            />\n        </div>\n    );\n}\n\nexport default JobsManager;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../NotificationContext';\nimport apiRequest from '../../../../../utils/postRequest';\nimport HeaderContainer from '../../../../../components/HeaderContainer/HeaderContainer';\nimport FunnelChart from './FunnelChart';\nimport './EventDashboard.scss';\n\n/** Set to true to preview the funnel with fake event data (Views  Form Opens  Registrations  Check-ins) */\nconst USE_FAKE_FUNNEL_DATA = false;\n\nconst FAKE_FUNNEL_DATA = [\n    { label: 'Views', value: 1250 },\n    { label: 'Form Opens', value: 680 },\n    { label: 'Registrations', value: 312 },\n    { label: 'Check-ins', value: 189 },\n];\n\nfunction EventAnalyticsDetail({ event, orgId, onRefresh }) {\n    const { addNotification } = useNotification();\n    const [analytics, setAnalytics] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [exporting, setExporting] = useState(false);\n    const [timeRange, setTimeRange] = useState('30d');\n\n    // Fetch detailed analytics using the correct route\n    const { data: analyticsData, refetch } = useFetch(\n        event?._id ? `/event-analytics/event/${event._id}?timeRange=${timeRange}` : null\n    );\n\n    useEffect(() => {\n        if (analyticsData?.success) {\n            setAnalytics(analyticsData.data);\n            setLoading(false);\n        } else if (analyticsData && !analyticsData.success) {\n            setLoading(false);\n        }\n    }, [analyticsData]);\n\n    useEffect(() => {\n        setLoading(true);\n    }, [timeRange]);\n\n    useEffect(() => {\n        // Refresh analytics every 30 seconds for real-time updates\n        const interval = setInterval(() => {\n            refetch();\n        }, 30000);\n\n        return () => clearInterval(interval);\n    }, [refetch, timeRange]);\n\n    const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    const formatNumber = (num) => {\n        return new Intl.NumberFormat().format(num);\n    };\n\n    const platform = analytics?.platform || {};\n    const funnelData = useMemo(() => {\n        if (USE_FAKE_FUNNEL_DATA) return FAKE_FUNNEL_DATA;\n\n        const totalViews = (analytics?.views ?? 0) + (analytics?.anonymousViews ?? 0);\n        const totalRegistrations = analytics?.registrations ?? analytics?.registrationHistory?.length ?? 0;\n        const steps = [\n            { label: 'Views', value: totalViews },\n        ];\n        if (event?.registrationFormId) {\n            steps.push({ label: 'Form Opens', value: platform.registrationFormOpens || 0 });\n        }\n        steps.push(\n            { label: 'Registrations', value: totalRegistrations },\n            { label: 'Check-ins', value: platform.checkins || 0 }\n        );\n        return steps;\n    }, [analytics, platform.registrationFormOpens, platform.checkins, event?.registrationFormId]);\n\n    // const handleExport = async () => {\n    //     if (!event?._id || !orgId) return;\n\n    //     setExporting(true);\n    //     try {\n    //         const response = await apiRequest(\n    //             `/org-event-management/${orgId}/events/${event._id}/export`,\n    //             { format: 'json' },\n    //             { method: 'POST' }\n    //         );\n\n    //         if (response.success && response.data?.report) {\n    //             // Create and download JSON file\n    //             const blob = new Blob([JSON.stringify(response.data.report, null, 2)], { type: 'application/json' });\n    //             const url = URL.createObjectURL(blob);\n    //             const a = document.createElement('a');\n    //             a.href = url;\n    //             a.download = `event-report-${event.name?.replace(/[^a-z0-9]/gi, '-') || event._id}.json`;\n    //             document.body.appendChild(a);\n    //             a.click();\n    //             document.body.removeChild(a);\n    //             URL.revokeObjectURL(url);\n\n    //             addNotification({\n    //                 title: 'Success',\n    //                 message: 'Report exported successfully',\n    //                 type: 'success'\n    //             });\n    //         } else {\n    //             throw new Error(response.message || 'Failed to export report');\n    //         }\n    //     } catch (error) {\n    //         addNotification({\n    //             title: 'Error',\n    //             message: error.message || 'Failed to export report',\n    //             type: 'error'\n    //         });\n    //     } finally {\n    //         setExporting(false);\n    //     }\n    // };\n\n    if (!USE_FAKE_FUNNEL_DATA && loading) {\n        return (\n            <div className=\"event-analytics-detail loading\">\n                <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                <p>Loading analytics...</p>\n            </div>\n        );\n    }\n\n    if (!USE_FAKE_FUNNEL_DATA && !analytics) {\n        return (\n            <div className=\"event-analytics-detail error\">\n                <Icon icon=\"mdi:alert-circle\" />\n                <p>Failed to load analytics</p>\n            </div>\n        );\n    }\n\n    const safeAnalytics = USE_FAKE_FUNNEL_DATA ? {} : analytics;\n    const registrationHistory = safeAnalytics.registrationHistory || [];\n    const totalRegistrations = safeAnalytics.registrations || registrationHistory.length || 0;\n\n    // Get view data - viewHistory is filtered by timeRange on backend\n    const viewHistory = safeAnalytics.viewHistory || [];\n    const loggedInViews = viewHistory.filter(v => !v.isAnonymous && v.userId);\n    \n    // Count filtered views (these are already filtered by timeRange)\n    const filteredLoggedInViews = loggedInViews.length;\n    const filteredAnonymousViews = viewHistory.filter(v => v.isAnonymous).length;\n    const filteredTotalViews = filteredLoggedInViews + filteredAnonymousViews;\n    \n    // Use API's total counts for display (these are unfiltered totals)\n    const loggedInViewsCount = safeAnalytics.views || 0;\n    const anonymousViewsCount = safeAnalytics.anonymousViews || 0;\n    const totalViews = loggedInViewsCount + anonymousViewsCount;\n\n    const engagementRate = filteredTotalViews > 0\n        ? ((totalRegistrations / filteredTotalViews) * 100)\n        : (safeAnalytics.engagementRate || 0);\n\n    const uniqueViewsTotal = safeAnalytics.uniqueViews || 0;\n    const uniqueRegistrationsTotal = safeAnalytics.uniqueRegistrations || 0;\n    const conversionRate = uniqueViewsTotal > 0\n        ? ((uniqueRegistrationsTotal / uniqueViewsTotal) * 100).toFixed(1)\n        : 0;\n\n    const avgViewsPerUser = uniqueViewsTotal > 0\n        ? (totalViews / uniqueViewsTotal).toFixed(1)\n        : 0;\n\n    // Calculate recent activity (last 24 hours)\n    const now = new Date();\n    const last24Hours = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n    const recentViews = viewHistory.filter(v => new Date(v.timestamp) >= last24Hours).length;\n    const recentRegistrations = registrationHistory.filter(r => new Date(r.timestamp) >= last24Hours).length;\n\n    const tabViews = platform.tabViews || {};\n    const tabEntries = Object.entries(tabViews).sort((a, b) => b[1] - a[1]);\n\n    return (\n        <div className=\"event-analytics-detail\">\n            <div className=\"analytics-header\">\n                <h3>\n                    <Icon icon=\"mingcute:chart-fill\" />\n                    Event Analytics\n                </h3>\n                <div className=\"analytics-header-controls\">\n                    <div className=\"time-range-selector\">\n                        <select value={timeRange} onChange={(e) => setTimeRange(e.target.value)}>\n                            <option value=\"7d\">Last 7 days</option>\n                            <option value=\"30d\">Last 30 days</option>\n                            <option value=\"90d\">Last 90 days</option>\n                        </select>\n                    </div>\n                    <div className=\"live-indicator\">\n                        <span className=\"live-dot\"></span>\n                        <span>Live</span>\n                    </div>\n                </div>\n            </div>\n\n            {(USE_FAKE_FUNNEL_DATA || totalViews > 0 || totalRegistrations > 0 || platform.checkins > 0 || platform.registrationFormOpens > 0) && (\n                <HeaderContainer\n                    icon=\"mingcute:chart-bar-fill\"\n                    header=\"Engagement Funnel\"\n                    classN=\"analytics-card funnel-section\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content funnel-chart-container\">\n                        <div className=\"funnel-chart-wrapper\">\n                            <FunnelChart data={funnelData} />\n                        </div>\n                        {(platform.withdrawals > 0 || platform.checkouts > 0 || platform.registrationFormBounces > 0) && (\n                            <div className=\"funnel-secondary\">\n                                {platform.registrationFormBounces > 0 && (\n                                    <span className=\"funnel-secondary-item funnel-bounces\">\n                                        {formatNumber(platform.registrationFormBounces)} opened form but did not register\n                                    </span>\n                                )}\n                                {platform.withdrawals > 0 && (\n                                    <span className=\"funnel-secondary-item\">\n                                        {formatNumber(platform.withdrawals)} withdrawals\n                                    </span>\n                                )}\n                                {platform.checkouts > 0 && (\n                                    <span className=\"funnel-secondary-item\">\n                                        {formatNumber(platform.checkouts)} check-outs\n                                    </span>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </HeaderContainer>\n            )}\n\n            <div className=\"analytics-grid\">\n                <HeaderContainer\n                    icon=\"mdi:eye\"\n                    header=\"Views\"\n                    classN=\"analytics-card\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content\">\n                        <div className=\"views-grid\">\n                            <div className=\"views-squares-wrapper\">\n                                <div className=\"view-square-wrapper\">\n                                    <div className=\"view-square\">\n                                        <div className=\"view-square-content\">\n                                            <span className=\"view-value\">{formatNumber(loggedInViewsCount)}</span>\n                                            <span className=\"view-label\">Logged-in</span>\n                                            <span className=\"view-subtitle\">{formatNumber(safeAnalytics.uniqueViews || 0)} unique</span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"view-square-wrapper\">\n                                    <div className=\"view-square\">\n                                        <div className=\"view-square-content\">\n                                            <span className=\"view-value\">{formatNumber(anonymousViewsCount)}</span>\n                                            <span className=\"view-label\">Anonymous</span>\n                                            <span className=\"view-subtitle\">{formatNumber(safeAnalytics.uniqueAnonymousViews || 0)} unique</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"view-total-wrapper\">\n                                <div className=\"view-total\">\n                                    <div className=\"view-total-content\">\n                                        <span className=\"view-value\">{formatNumber(totalViews)}</span>\n                                        <span className=\"view-label\">Total Views</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </HeaderContainer>\n\n                <HeaderContainer\n                    icon=\"mingcute:trending-up-fill\"\n                    header=\"Engagement\"\n                    classN=\"analytics-card\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content\">\n                        <div className=\"stat-large\">\n                            <span className=\"stat-value\">{engagementRate.toFixed(1)}%</span>\n                            <span className=\"stat-label\">Engagement Rate</span>\n                        </div>\n                        <div className=\"engagement-bar-container\">\n                            <div className=\"engagement-bar\">\n                                <div \n                                    className=\"engagement-fill\" \n                                    style={{ width: `${Math.min(engagementRate, 100)}%` }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"rsvp-segments-display\">\n                            <div className=\"rsvp-segment-item going\">\n                                <span className=\"segment-number\">{totalRegistrations}</span>\n                                <span className=\"segment-label\">Registrations</span>\n                            </div>\n                        </div>\n                    </div>\n                </HeaderContainer>\n\n                <HeaderContainer\n                    icon=\"mingcute:chart-line-fill\"\n                    header=\"Conversion & Activity\"\n                    classN=\"analytics-card\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content\">\n                        <div className=\"conversion-metrics\">\n                            <div className=\"conversion-item\">\n                                <div className=\"conversion-value\">{conversionRate}%</div>\n                                <div className=\"conversion-label\">View-to-Registration</div>\n                                <div className=\"conversion-subtitle\">Unique conversion rate</div>\n                            </div>\n                            <div className=\"conversion-item\">\n                                <div className=\"conversion-value\">{totalRegistrations}</div>\n                                <div className=\"conversion-label\">Registrations</div>\n                                <div className=\"conversion-subtitle\">Total registered</div>\n                            </div>\n                            <div className=\"conversion-item\">\n                                <div className=\"conversion-value\">{avgViewsPerUser}</div>\n                                <div className=\"conversion-label\">Avg Views/User</div>\n                                <div className=\"conversion-subtitle\">Per unique viewer</div>\n                            </div>\n                            <div className=\"conversion-item\">\n                                <div className=\"conversion-value\">{formatNumber(platform.agendaViews || 0)}</div>\n                                <div className=\"conversion-label\">Agenda Opens</div>\n                                <div className=\"conversion-subtitle\">Times agenda modal was viewed</div>\n                            </div>\n                        </div>\n                        <div className=\"recent-activity\">\n                            <div className=\"activity-header\">\n                                <Icon icon=\"mdi:clock-outline\" />\n                                <span>Last 24 Hours</span>\n                            </div>\n                            <div className=\"activity-stats\">\n                                <div className=\"activity-stat\">\n                                    <span className=\"activity-value\">{recentViews}</span>\n                                    <span className=\"activity-label\">Views</span>\n                                </div>\n                                <div className=\"activity-stat\">\n                                    <span className=\"activity-value\">{recentRegistrations}</span>\n                                    <span className=\"activity-label\">Registrations</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </HeaderContainer>\n            </div>\n\n            {platform.registrationFormOpens > 0 && (\n                <HeaderContainer\n                    icon=\"mdi:form-select\"\n                    header=\"Registration Form\"\n                    classN=\"analytics-card registration-form-section\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content\">\n                        <div className=\"registration-form-metrics\">\n                            <div className=\"form-metric\">\n                                <span className=\"form-metric-value\">{formatNumber(platform.registrationFormOpens)}</span>\n                                <span className=\"form-metric-label\">Form Opens</span>\n                            </div>\n                            <div className=\"form-metric\">\n                                <span className=\"form-metric-value\">\n                                    {platform.registrationFormOpens > 0\n                                        ? ((totalRegistrations / platform.registrationFormOpens) * 100).toFixed(1)\n                                        : 0}%\n                                </span>\n                                <span className=\"form-metric-label\">Form Conversion</span>\n                            </div>\n                            <div className=\"form-metric form-metric-bounces\">\n                                <span className=\"form-metric-value\">{formatNumber(platform.registrationFormBounces || 0)}</span>\n                                <span className=\"form-metric-label\">Opened but did not register</span>\n                            </div>\n                        </div>\n                    </div>\n                </HeaderContainer>\n            )}\n\n            {tabEntries.length > 0 && (\n                <HeaderContainer\n                    icon=\"mdi:tab\"\n                    header=\"Workspace Tab Engagement\"\n                    classN=\"analytics-card tab-breakdown-section\"\n                    size=\"1rem\"\n                >\n                    <div className=\"card-content\">\n                        <div className=\"tab-breakdown-list\">\n                            {tabEntries.map(([tab, count]) => (\n                                <div key={tab} className=\"tab-breakdown-item\">\n                                    <span className=\"tab-name\">{tab}</span>\n                                    <span className=\"tab-count\">{formatNumber(count)}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                </HeaderContainer>\n            )}\n\n            {loggedInViews.length > 0 && (\n                <HeaderContainer\n                    icon=\"mingcute:eye-fill\"\n                    header=\"Logged-in Views\"\n                    classN=\"logged-in-views-section\"\n                    size=\"1.25rem\"\n                >\n                    <div className=\"logged-in-views-list\">\n                        {loggedInViews.slice(0, 20).map((view, index) => (\n                            <div key={index} className=\"history-item\">\n                                <div className=\"history-icon\">\n                                    <Icon icon=\"mingcute:eye-fill\" />\n                                </div>\n                                <div className=\"history-content\">\n                                    <p className=\"history-time\">{formatDate(view.timestamp)}</p>\n                                    <p className=\"history-detail\">User viewed this event</p>\n                                </div>\n                            </div>\n                        ))}\n                        {loggedInViews.length > 20 && (\n                            <div className=\"views-more\">\n                                <span>+{loggedInViews.length - 20} more views</span>\n                            </div>\n                        )}\n                    </div>\n                </HeaderContainer>\n            )}\n\n            {/* <div className=\"analytics-actions\">\n                <button \n                    className=\"btn-export\" \n                    onClick={handleExport}\n                    disabled={exporting}\n                >\n                    <Icon icon={exporting ? \"mdi:loading\" : \"mdi:download\"} className={exporting ? \"spinner\" : \"\"} />\n                    <span>{exporting ? 'Exporting...' : 'Export Report'}</span>\n                </button>\n            </div> */}\n        </div>\n    );\n}\n\nexport default EventAnalyticsDetail;\n","import React, { useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport './EventCheckIn.scss';\n\nfunction QRCodeDisplay({ qrCode, eventName }) {\n    const [copied, setCopied] = useState(false);\n\n    const handleDownload = () => {\n        const link = document.createElement('a');\n        link.href = qrCode;\n        link.download = `${eventName || 'event'}-checkin-qr.png`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    };\n\n    const handleShare = async () => {\n        if (navigator.share) {\n            try {\n                await navigator.share({\n                    title: `Check-in QR Code - ${eventName}`,\n                    text: `Scan this QR code to check in to ${eventName}`,\n                    files: [await fetch(qrCode).then(r => r.blob())]\n                });\n            } catch (error) {\n                if (error.name !== 'AbortError') {\n                    console.error('Error sharing QR code:', error);\n                }\n            }\n        } else {\n            // Fallback: copy image to clipboard\n            try {\n                const response = await fetch(qrCode);\n                const blob = await response.blob();\n                await navigator.clipboard.write([\n                    new ClipboardItem({ 'image/png': blob })\n                ]);\n                setCopied(true);\n                setTimeout(() => setCopied(false), 2000);\n            } catch (error) {\n                console.error('Error copying QR code:', error);\n            }\n        }\n    };\n\n    return (\n        <div className=\"qr-code-display\">\n            <div className=\"qr-code-image-container\">\n                <img src={qrCode} alt=\"Check-in QR Code\" className=\"qr-code-image\" />\n            </div>\n            <div className=\"qr-code-actions\">\n                <button className=\"action-button\" onClick={handleDownload}>\n                    <Icon icon=\"mingcute:download-fill\" />\n                    Download\n                </button>\n                <button className=\"action-button\" onClick={handleShare}>\n                    <Icon icon={copied ? 'mdi:check' : 'mingcute:share-forward-fill'} />\n                    {copied ? 'Copied!' : 'Share'}\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default QRCodeDisplay;\n","import React, { useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport './EventCheckIn.scss';\n\nfunction CheckInLink({ checkInUrl, eventName }) {\n    const [copied, setCopied] = useState(false);\n\n    const handleCopy = async () => {\n        try {\n            await navigator.clipboard.writeText(checkInUrl);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 2000);\n        } catch (error) {\n            console.error('Error copying link:', error);\n            // Fallback for older browsers\n            const textArea = document.createElement('textarea');\n            textArea.value = checkInUrl;\n            document.body.appendChild(textArea);\n            textArea.select();\n            document.execCommand('copy');\n            document.body.removeChild(textArea);\n            setCopied(true);\n            setTimeout(() => setCopied(false), 2000);\n        }\n    };\n\n    const handleShare = async () => {\n        if (navigator.share) {\n            try {\n                await navigator.share({\n                    title: `Check-in Link - ${eventName}`,\n                    text: `Check in to ${eventName}`,\n                    url: checkInUrl\n                });\n            } catch (error) {\n                if (error.name !== 'AbortError') {\n                    console.error('Error sharing link:', error);\n                }\n            }\n        } else {\n            // Fallback: copy to clipboard\n            handleCopy();\n        }\n    };\n\n    return (\n        <div className=\"checkin-link-display\">\n            <div className=\"link-container\">\n                <input \n                    type=\"text\" \n                    value={checkInUrl} \n                    readOnly \n                    className=\"link-input\"\n                    onClick={(e) => e.target.select()}\n                />\n            </div>\n            <div className=\"link-actions\">\n                <button className=\"action-button\" onClick={handleCopy}>\n                    <Icon icon={copied ? 'mdi:check' : 'mdi:content-copy'} />\n                    {copied ? 'Copied!' : 'Copy'}\n                </button>\n                <button className=\"action-button\" onClick={handleShare}>\n                    <Icon icon=\"mdi:share\" />\n                    Share\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default CheckInLink;\n","import React, { useState, useMemo } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { formatDistanceToNow } from 'date-fns';\nimport './EventCheckIn.scss';\n\nfunction CheckInList({ attendees, onManualCheckIn, onRemoveCheckIn, onOpenManualCheckInModal }) {\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filterMethod, setFilterMethod] = useState('all'); // 'all', 'self', 'manual'\n\n    const filteredAttendees = useMemo(() => {\n        let filtered = attendees;\n\n        // Filter by search query\n        if (searchQuery) {\n            const query = searchQuery.toLowerCase();\n            filtered = filtered.filter(attendee => {\n                const user = attendee.userId;\n                const name = user?.name || user?.username || 'Unknown';\n                return name.toLowerCase().includes(query);\n            });\n        }\n\n        // Filter by method\n        if (filterMethod === 'self') {\n            filtered = filtered.filter(a => !a.checkedInBy);\n        } else if (filterMethod === 'manual') {\n            filtered = filtered.filter(a => a.checkedInBy);\n        }\n\n        return filtered;\n    }, [attendees, searchQuery, filterMethod]);\n\n    const formatCheckInTime = (date) => {\n        if (!date) return 'Unknown';\n        try {\n            return formatDistanceToNow(new Date(date), { addSuffix: true });\n        } catch (error) {\n            return 'Unknown';\n        }\n    };\n\n    const getUserDisplayName = (attendee) => {\n        const user = attendee.userId;\n        return user?.name || user?.username || 'Unknown User';\n    };\n\n    const getUserPicture = (attendee) => {\n        const user = attendee.userId;\n        return user?.picture || null;\n    };\n\n    if (attendees.length === 0) {\n        return (\n            <div className=\"checkin-list-empty\">\n                <Icon icon=\"mdi:account-off\" />\n                <p>No attendees have checked in yet.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"checkin-list\">\n            {/* Search and Filter */}\n            <div className=\"checkin-list-controls\">\n                <div className=\"search-input-wrapper\">\n                    <Icon icon=\"mdi:magnify\" className=\"search-icon\" />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search attendees...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"search-input\"\n                    />\n                </div>\n                <div className=\"filter-buttons\">\n                    <button\n                        className={`filter-button ${filterMethod === 'all' ? 'active' : ''}`}\n                        onClick={() => setFilterMethod('all')}\n                    >\n                        All\n                    </button>\n                    <button\n                        className={`filter-button ${filterMethod === 'self' ? 'active' : ''}`}\n                        onClick={() => setFilterMethod('self')}\n                    >\n                        Self Check-In\n                    </button>\n                    <button\n                        className={`filter-button ${filterMethod === 'manual' ? 'active' : ''}`}\n                        onClick={() => setFilterMethod('manual')}\n                    >\n                        Manual\n                    </button>\n                </div>\n            </div>\n\n            {/* Attendees List */}\n            <div className=\"attendees-list\">\n                {filteredAttendees.length === 0 ? (\n                    <div className=\"checkin-list-empty\">\n                        <Icon icon=\"mdi:magnify\" />\n                        <p>No attendees match your search.</p>\n                    </div>\n                ) : (\n                    filteredAttendees.map((attendee, index) => {\n                        const user = attendee.userId;\n                        const checkedInBy = attendee.checkedInBy;\n                        const isManual = !!checkedInBy;\n                        const attendeeUserId = (user && (user._id || user.id)) ? String(user._id || user.id) : null;\n                        return (\n                            <div key={index} className=\"attendee-item\">\n                                <div className=\"attendee-info\">\n                                    <div className=\"attendee-avatar\">\n                                        {getUserPicture(attendee) ? (\n                                            <img \n                                                src={getUserPicture(attendee)} \n                                                alt={getUserDisplayName(attendee)}\n                                            />\n                                        ) : (\n                                            <Icon icon=\"mdi:account-circle\" />\n                                        )}\n                                    </div>\n                                    <div className=\"attendee-details\">\n                                        <div className=\"attendee-name\">\n                                            {getUserDisplayName(attendee)}\n                                        </div>\n                                        <div className=\"attendee-meta\">\n                                            <span className=\"checkin-time\">\n                                                <Icon icon=\"mdi:clock-outline\" />\n                                                {formatCheckInTime(attendee.checkedInAt)}\n                                            </span>\n                                            <span className={`checkin-method ${isManual ? 'manual' : 'self'}`}>\n                                                <Icon icon={isManual ? 'mdi:account-check' : 'mdi:qrcode-scan'} />\n                                                {isManual ? 'Manual' : 'Self Check-In'}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"attendee-actions\">\n                                    {isManual && checkedInBy && (\n                                        <div className=\"checked-in-by\">\n                                            Checked in by {checkedInBy?.name || checkedInBy?.username || 'Organizer'}\n                                        </div>\n                                    )}\n                                    {onRemoveCheckIn && attendeeUserId && (\n                                        <button\n                                            type=\"button\"\n                                            className=\"remove-checkin-btn\"\n                                            onClick={() => onRemoveCheckIn(attendeeUserId)}\n                                            title=\"Remove check-in\"\n                                        >\n                                            <Icon icon=\"mdi:logout\" />\n                                            Remove\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        );\n                    })\n                )}\n            </div>\n\n            {/* Manual Check-In Button (if onManualCheckIn provided) */}\n            {onManualCheckIn && onOpenManualCheckInModal && (\n                <div className=\"manual-checkin-section\">\n                    <button type=\"button\" className=\"manual-checkin-button\" onClick={onOpenManualCheckInModal}>\n                        <Icon icon=\"mdi:account-plus\" />\n                        Manually Check In Attendee\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default CheckInList;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport SettingsList from '../../../../../../components/SettingsList/SettingsList';\nimport '../EventSettingsModal.scss';\n\nfunction CheckInSettingsModal({ isOpen, onClose, event, orgId, onSaved, color }) {\n    const { addNotification } = useNotification();\n    const [form, setForm] = useState({\n        method: 'both',\n        allowOnPageCheckIn: true,\n        requireRegistration: false,\n        autoCheckIn: false\n    });\n    const [saving, setSaving] = useState(false);\n\n    useEffect(() => {\n        if (isOpen && event?.checkInSettings) {\n            setForm({\n                method: event.checkInSettings?.method || 'both',\n                allowOnPageCheckIn: event.checkInSettings?.allowOnPageCheckIn !== false,\n                requireRegistration: event.checkInSettings?.requireRegistration ?? false,\n                autoCheckIn: event.checkInSettings?.autoCheckIn || false\n            });\n        }\n    }, [isOpen, event?.checkInSettings?.method, event?.checkInSettings?.allowOnPageCheckIn, event?.checkInSettings?.requireRegistration, event?.checkInSettings?.autoCheckIn]);\n\n    const handleSave = async () => {\n        if (!orgId || !event?._id) return;\n        setSaving(true);\n        try {\n            const res = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}`,\n                {\n                    checkInSettings: {\n                        method: form.method,\n                        allowOnPageCheckIn: form.allowOnPageCheckIn,\n                        requireRegistration: form.requireRegistration,\n                        autoCheckIn: form.autoCheckIn\n                    }\n                },\n                { method: 'PUT' }\n            );\n            if (res?.success) {\n                addNotification({ title: 'Saved', message: 'Check-in settings updated', type: 'success' });\n                onClose();\n                onSaved?.();\n            } else {\n                addNotification({ title: 'Error', message: res?.message || 'Failed to save settings', type: 'error' });\n            }\n        } catch (err) {\n            addNotification({ title: 'Error', message: err?.message || 'Failed to save settings', type: 'error' });\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const items = [\n        {\n            title: 'Ways to check in',\n            subtitle: 'QR code only, link only, or both',\n            action: (\n                <div className=\"radio-group\">\n                    <label className=\"radio-label\">\n                        <input type=\"radio\" name=\"checkInMethod\" value=\"qr\" checked={form.method === 'qr'} onChange={(e) => setForm(s => ({ ...s, method: e.target.value }))} />\n                        <span>QR only</span>\n                    </label>\n                    <label className=\"radio-label\">\n                        <input type=\"radio\" name=\"checkInMethod\" value=\"link\" checked={form.method === 'link'} onChange={(e) => setForm(s => ({ ...s, method: e.target.value }))} />\n                        <span>Link only</span>\n                    </label>\n                    <label className=\"radio-label\">\n                        <input type=\"radio\" name=\"checkInMethod\" value=\"both\" checked={form.method === 'both'} onChange={(e) => setForm(s => ({ ...s, method: e.target.value }))} />\n                        <span>Both</span>\n                    </label>\n                </div>\n            )\n        },\n        {\n            title: 'Allow check-in from event page',\n            subtitle: 'Show a \"Check in\" button on the event page during the event',\n            action: (\n                <input\n                    type=\"checkbox\"\n                    checked={form.allowOnPageCheckIn}\n                    onChange={(e) => setForm(s => ({ ...s, allowOnPageCheckIn: e.target.checked }))}\n                />\n            )\n        },\n        {\n            title: 'Require registration to check in',\n            subtitle: 'Attendees must register before they can check in',\n            action: (\n                <input\n                    type=\"checkbox\"\n                    checked={form.requireRegistration}\n                    onChange={(e) => setForm(s => ({ ...s, requireRegistration: e.target.checked }))}\n                />\n            )\n        },\n        {\n            title: 'Auto check-in when using link or QR',\n            subtitle: 'Skip confirmation and check in immediately',\n            action: (\n                <input\n                    type=\"checkbox\"\n                    checked={form.autoCheckIn}\n                    onChange={(e) => setForm(s => ({ ...s, autoCheckIn: e.target.checked }))}\n                />\n            )\n        }\n    ];\n\n    return (\n        <Popup\n            isOpen={isOpen}\n            onClose={onClose}\n            customClassName=\"event-settings-modal\"\n            defaultStyling={false}\n            hideCloseButton={true}\n        >\n            <div\n                className=\"event-settings-modal-content\"\n                style={color ? { '--event-settings-color': color } : undefined}\n            >\n                <div className=\"event-settings-header\">\n                    <h3>Check-In Settings</h3>\n                    <button type=\"button\" className=\"event-settings-close\" onClick={onClose} aria-label=\"Close\">\n                        <Icon icon=\"mdi:close\" />\n                    </button>\n                </div>\n                <div className=\"event-settings-body\">\n                    <SettingsList items={items} />\n                </div>\n                <div className=\"event-settings-actions\">\n                    <button type=\"button\" className=\"event-settings-btn secondary\" onClick={onClose}>\n                        Cancel\n                    </button>\n                    <button\n                        type=\"button\"\n                        className=\"event-settings-btn primary\"\n                        disabled={saving}\n                        onClick={handleSave}\n                    >\n                        {saving ? 'Saving...' : 'Save'}\n                    </button>\n                </div>\n            </div>\n        </Popup>\n    );\n}\n\nexport default CheckInSettingsModal;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport QRCodeDisplay from '../../../../../../components/EventCheckIn/QRCodeDisplay';\nimport CheckInLink from '../../../../../../components/EventCheckIn/CheckInLink';\nimport CheckInList from '../../../../../../components/EventCheckIn/CheckInList';\nimport EmptyState from '../../../../../../components/EmptyState/EmptyState';\nimport CheckInSettingsModal from './CheckInSettingsModal';\nimport HeaderContainer from '../../../../../../components/HeaderContainer/HeaderContainer';\nimport KpiCard from '../../../../../../components/Analytics/Dashboard/KpiCard';\nimport { useEventRoom } from '../../../../../../WebSocketContext';\nimport './EventCheckInTab.scss';\n\nfunction EventCheckInTab({ event, orgId, onRefresh, isTabActive = false, color }) {\n    const { addNotification } = useNotification();\n    const [refreshing, setRefreshing] = useState(false);\n    const [qrCodeData, setQrCodeData] = useState(null);\n    const [checkInLink, setCheckInLink] = useState(null);\n    const [attendees, setAttendees] = useState([]);\n    const [stats, setStats] = useState(null);\n    const [showManualCheckInModal, setShowManualCheckInModal] = useState(false);\n    const [showSettingsModal, setShowSettingsModal] = useState(false);\n    const [enablingCheckIn, setEnablingCheckIn] = useState(false);\n    const [disablingCheckIn, setDisablingCheckIn] = useState(false);\n\n    // Fetch QR code if check-in is enabled and method includes QR\n    const { data: qrResponse, refetch: refetchQR } = useFetch(\n        event?.checkInEnabled && \n        (event?.checkInSettings?.method === 'qr' || event?.checkInSettings?.method === 'both') &&\n        event?._id && orgId\n            ? `/events/${event._id}/check-in/qr`\n            : null\n    );\n\n    // Fetch check-in link if check-in is enabled and method includes link\n    const { data: linkResponse, refetch: refetchLink } = useFetch(\n        event?.checkInEnabled && \n        (event?.checkInSettings?.method === 'link' || event?.checkInSettings?.method === 'both') &&\n        event?._id && orgId\n            ? `/events/${event._id}/check-in/link`\n            : null\n    );\n\n    // Fetch checked-in attendees\n    const { data: attendeesResponse, refetch: refetchAttendees } = useFetch(\n        event?.checkInEnabled && event?._id && orgId\n            ? `/events/${event._id}/check-in/attendees`\n            : null\n    );\n\n    // Fetch all registrations when manual check-in modal is open (to pick someone to check in)\n    const { data: allRegistrationsResponse, loading: loadingRegistrations } = useFetch(\n        showManualCheckInModal && event?._id ? `/attendees/${event._id}` : null\n    );\n\n    // Live updates: only open websocket when check-in tab is active and check-in is enabled; disconnect when leaving tab\n    const shouldConnect = Boolean(isTabActive && event?.checkInEnabled && event?._id);\n    useEventRoom(shouldConnect ? event._id : null, () => {\n        refetchAttendees?.();\n        onRefresh?.();\n    });\n\n    useEffect(() => {\n        if (qrResponse?.success) {\n            setQrCodeData(qrResponse.qrCode);\n        }\n    }, [qrResponse]);\n\n    useEffect(() => {\n        if (linkResponse?.success) {\n            setCheckInLink(linkResponse.checkInUrl);\n        }\n    }, [linkResponse]);\n\n    useEffect(() => {\n        if (attendeesResponse?.success) {\n            setAttendees(attendeesResponse.attendees || []);\n            setStats(attendeesResponse.stats || null);\n        }\n    }, [attendeesResponse]);\n\n    const handleRefresh = async () => {\n        setRefreshing(true);\n        try {\n            await Promise.all([\n                refetchQR(),\n                refetchLink(),\n                refetchAttendees()\n            ]);\n            if (onRefresh) {\n                onRefresh();\n            }\n        } catch (error) {\n            console.error('Error refreshing check-in data:', error);\n        } finally {\n            setRefreshing(false);\n        }\n    };\n\n    const [linkCopied, setLinkCopied] = useState(false);\n    const handleCopyCheckInLink = async () => {\n        if (!checkInLink) return;\n        try {\n            await navigator.clipboard.writeText(checkInLink);\n            setLinkCopied(true);\n            setTimeout(() => setLinkCopied(false), 2000);\n            addNotification({\n                title: 'Copied',\n                message: 'Check-in link copied to clipboard',\n                type: 'success'\n            });\n        } catch (err) {\n            addNotification({\n                title: 'Error',\n                message: err?.message || 'Failed to copy link',\n                type: 'error'\n            });\n        }\n    };\n\n    const handleManualCheckIn = async (userId) => {\n        try {\n            const response = await apiRequest(\n                `/events/${event._id}/check-in/${userId}`,\n                {},\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                addNotification({\n                    title: 'Success',\n                    message: 'User checked in successfully',\n                    type: 'success'\n                });\n                setShowManualCheckInModal(false);\n                await refetchAttendees();\n                if (onRefresh) {\n                    onRefresh();\n                }\n            } else {\n                throw new Error(response.message || 'Failed to check in user');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to check in user',\n                type: 'error'\n            });\n        }\n    };\n\n    const getAttendeeUserId = (a) => (a.userId && (a.userId._id || a.userId.id || a.userId)) ? String(a.userId._id || a.userId.id || a.userId) : null;\n    const checkedInIds = new Set((attendees || []).map(getAttendeeUserId).filter(Boolean));\n    const allRegistrations = allRegistrationsResponse?.success ? (allRegistrationsResponse.attendees || []) : [];\n    const notCheckedIn = allRegistrations.filter((r) => {\n        const id = getAttendeeUserId(r);\n        return id && !checkedInIds.has(id);\n    });\n\n    const handleRemoveCheckIn = async (userId) => {\n        try {\n            const response = await apiRequest(\n                `/events/${event._id}/check-out/${userId}`,\n                {},\n                { method: 'POST' }\n            );\n\n            if (response.success) {\n                addNotification({\n                    title: 'Success',\n                    message: 'Check-in removed',\n                    type: 'success'\n                });\n                await refetchAttendees();\n                if (onRefresh) {\n                    onRefresh();\n                }\n            } else {\n                throw new Error(response.message || 'Failed to remove check-in');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to remove check-in',\n                type: 'error'\n            });\n        }\n    };\n\n    if (!event) {\n        return <div className=\"event-checkin-tab\">Loading...</div>;\n    }\n\n    const handleEnableCheckIn = async () => {\n        setEnablingCheckIn(true);\n        try {\n            const response = await apiRequest(\n                `/events/${event._id}/check-in/enable`,\n                {},\n                { method: 'POST' }\n            );\n            if (response.success) {\n                addNotification({\n                    title: 'Success',\n                    message: 'Check-in is now enabled for this event.',\n                    type: 'success'\n                });\n                if (onRefresh) {\n                    onRefresh();\n                }\n            } else {\n                throw new Error(response.message || 'Failed to enable check-in');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to enable check-in',\n                type: 'error'\n            });\n        } finally {\n            setEnablingCheckIn(false);\n        }\n    };\n\n    const handleDisableCheckIn = async () => {\n        if (!event?._id) return;\n        setDisablingCheckIn(true);\n        try {\n            const response = await apiRequest(\n                `/events/${event._id}/check-in/disable`,\n                {},\n                { method: 'POST' }\n            );\n            if (response.success) {\n                addNotification({\n                    title: 'Success',\n                    message: 'Check-in is now disabled for this event.',\n                    type: 'success'\n                });\n                if (onRefresh) {\n                    onRefresh();\n                }\n            } else {\n                throw new Error(response.message || 'Failed to disable check-in');\n            }\n        } catch (error) {\n            addNotification({\n                title: 'Error',\n                message: error.message || 'Failed to disable check-in',\n                type: 'error'\n            });\n        } finally {\n            setDisablingCheckIn(false);\n        }\n    };\n\n    if (!event.checkInEnabled) {\n        return (\n            <div className=\"event-checkin-tab\">\n                <EmptyState\n                    icon=\"jam:qr-code\"\n                    title=\"Check-In Not Enabled\"\n                    description=\"Enable check-in to start tracking attendance with QR code, link, or manual check-in. You can change QR/link options in the Edit tab after enabling.\"\n                    actions={\n                        <button\n                            type=\"button\"\n                            className=\"enable-checkin-button\"\n                            onClick={handleEnableCheckIn}\n                            disabled={enablingCheckIn}\n                        >\n                            <Icon icon={enablingCheckIn ? 'mdi:loading' : 'fluent:scan-qr-code-24-regular'} className={enablingCheckIn ? 'spin' : ''} />\n                            {enablingCheckIn ? 'Enabling...' : 'Enable check-in'}\n                        </button>\n                    }\n                />\n            </div>\n        );\n    }\n\n    const method = event.checkInSettings?.method || 'both';\n    const showQR = method === 'qr' || method === 'both';\n    const showLink = method === 'link' || method === 'both';\n\n    return (\n        <div className=\"event-checkin-tab\">\n            <div className=\"checkin-header\">\n                <h2>\n                    <Icon icon=\"uil:qrcode-scan\" />\n                    Event Check-In\n                </h2>\n                <div className=\"checkin-header-actions\">\n                    <button\n                        type=\"button\"\n                        className=\"checkin-settings-button\"\n                        onClick={() => setShowSettingsModal(true)}\n                        title=\"Check-in settings\"\n                    >\n                        <Icon icon=\"mdi:cog\" />\n                        Settings\n                    </button>\n                    <button\n                        type=\"button\"\n                        className=\"disable-checkin-button\"\n                        onClick={handleDisableCheckIn}\n                        disabled={disablingCheckIn}\n                        title=\"Turn off check-in for this event\"\n                    >\n                        <Icon icon={disablingCheckIn ? 'mdi:loading' : 'mdi:account-off'} className={disablingCheckIn ? 'spin' : ''} />\n                        {disablingCheckIn ? 'Disabling...' : 'Disable check-in'}\n                    </button>\n                    <button \n                        className=\"refresh-button\" \n                        onClick={handleRefresh}\n                        disabled={refreshing}\n                    >\n                        <Icon icon={refreshing ? 'mdi:loading' : 'mdi:refresh'} className={refreshing ? 'spin' : ''} />\n                        {refreshing ? 'Refreshing...' : 'Refresh'}\n                    </button>\n                </div>\n            </div>\n\n            {/* Statistics */}\n            {stats && (\n                <div className=\"checkin-stats\">\n                    <KpiCard\n                        title=\"Checked In\"\n                        value={stats.totalCheckedIn}\n                        icon=\"mdi:account-check\"\n                        iconVariant=\"approved\"\n                    />\n                    <KpiCard\n                        title=\"Total Registrations\"\n                        value={stats.totalRegistrations ?? stats.totalRSVPs ?? 0}\n                        icon=\"mdi:account-group\"\n                    />\n                    <KpiCard\n                        title=\"Check-In Rate\"\n                        value={`${stats.checkInRate}%`}\n                        icon=\"mdi:chart-line\"\n                    />\n                </div>\n            )}\n\n            {/* QR Code + Checked-In Attendees side by side */}\n            <div className=\"checkin-methods\">\n                {(showQR || showLink) && (\n                    <HeaderContainer\n                        icon={showQR ? 'fa7-solid:qrcode' : 'mdi:link'}\n                        header={showQR ? 'QR Code' : 'Check-in link'}\n                        classN=\"checkin-section checkin-section-qr\"\n                        right={checkInLink ? (\n                            <button\n                                type=\"button\"\n                                className=\"copy-checkin-link-btn\"\n                                onClick={handleCopyCheckInLink}\n                                title=\"Copy check-in link\"\n                            >\n                                <Icon icon={linkCopied ? 'mdi:check' : 'mdi:link-variant'} />\n                                {linkCopied ? 'Copied' : 'Copy link'}\n                            </button>\n                        ) : showLink && !checkInLink ? (\n                            <span className=\"checkin-link-loading\">Loading link</span>\n                        ) : null}\n                    >\n                        <div className=\"checkin-section-content\">\n                            {showQR ? (\n                                qrCodeData ? (\n                                    <QRCodeDisplay qrCode={qrCodeData} eventName={event.name} />\n                                ) : (\n                                    <div className=\"loading-placeholder\">Loading QR code...</div>\n                                )\n                            ) : (\n                                checkInLink ? (\n                                    <CheckInLink checkInUrl={checkInLink} eventName={event.name} />\n                                ) : (\n                                    <div className=\"loading-placeholder\">Loading link...</div>\n                                )\n                            )}\n                        </div>\n                    </HeaderContainer>\n                )}\n\n                {/* Checked-In Attendees List */}\n                <HeaderContainer\n                    icon=\"mdi:account-check\"\n                    header=\"Checked-In Attendees\"\n                    subheader={<span>{attendees.length} attendees</span>}\n                    classN=\"checkin-section checkin-section-attendees\"\n                >\n                    <div className=\"checkin-section-content\">\n                        {attendees.length === 0 ? (\n                            <EmptyState\n                                icon=\"mingcute:user-follow-fill\"\n                                title=\"No attendees have checked in yet\"\n                                description=\"Checked-in attendees will appear here. You can manually check in someone from the list of registrations.\"\n                                actions={\n                                    <button\n                                        type=\"button\"\n                                        className=\"manual-checkin-button\"\n                                        onClick={() => setShowManualCheckInModal(true)}\n                                    >\n                                        <Icon icon=\"mingcute:user-add-fill\" />\n                                        Manually check in attendee\n                                    </button>\n                                }\n                            />\n                        ) : (\n                            <CheckInList \n                                attendees={attendees}\n                                onManualCheckIn={handleManualCheckIn}\n                                onRemoveCheckIn={handleRemoveCheckIn}\n                                onOpenManualCheckInModal={() => setShowManualCheckInModal(true)}\n                            />\n                        )}\n                    </div>\n                </HeaderContainer>\n            </div>\n\n            <CheckInSettingsModal\n                isOpen={showSettingsModal}\n                onClose={() => setShowSettingsModal(false)}\n                event={event}\n                orgId={orgId}\n                color={'var(--org-primary)'}\n                onSaved={() => onRefresh?.()}\n            />\n\n            {/* Manual check-in modal: pick a registrant not yet checked in */}\n            <Popup\n                isOpen={showManualCheckInModal}\n                onClose={() => setShowManualCheckInModal(false)}\n                customClassName=\"manual-checkin-modal\"\n            >\n                <div className=\"manual-checkin-modal-content\">\n                    <h3>\n                        <Icon icon=\"mdi:account-plus\" />\n                        Manually Check In Attendee\n                    </h3>\n                    <p className=\"manual-checkin-modal-hint\">Select a registrant who has not checked in yet.</p>\n                    {loadingRegistrations ? (\n                        <p className=\"manual-checkin-modal-loading\">Loading registrations...</p>\n                    ) : notCheckedIn.length === 0 ? (\n                        <p className=\"manual-checkin-modal-empty\">Everyone registered has already checked in.</p>\n                    ) : (\n                        <ul className=\"manual-checkin-modal-list\">\n                            {notCheckedIn.map((reg) => {\n                                const uid = getAttendeeUserId(reg);\n                                const name = reg.userId?.name || reg.userId?.username || 'Unknown';\n                                return (\n                                    <li key={uid}>\n                                        <button\n                                            type=\"button\"\n                                            className=\"manual-checkin-modal-item\"\n                                            onClick={() => handleManualCheckIn(uid)}\n                                        >\n                                            {name}\n                                        </button>\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    )}\n                    <button type=\"button\" className=\"manual-checkin-modal-close\" onClick={() => setShowManualCheckInModal(false)}>\n                        Cancel\n                    </button>\n                </div>\n            </Popup>\n        </div>\n    );\n}\n\nexport default EventCheckInTab;\n","import React, { useState, useEffect } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport SettingsList from '../../../../../../components/SettingsList/SettingsList';\nimport CreateRegistrationFormModal from '../CreateRegistrationFormModal';\nimport '../EventSettingsModal.scss';\n\nfunction RegistrationSettingsModal({ isOpen, onClose, event, orgId, orgForms = [], onSaved, refetchForms, color }) {\n    const { addNotification } = useNotification();\n    const [form, setForm] = useState({\n        registrationRequired: false,\n        registrationDeadline: null,\n        maxAttendees: null,\n        registrationFormId: null\n    });\n    const [saving, setSaving] = useState(false);\n    const [showCreateFormModal, setShowCreateFormModal] = useState(false);\n    const [editingFormId, setEditingFormId] = useState(null);\n\n    useEffect(() => {\n        if (isOpen && event) {\n            setForm({\n                registrationRequired: event.registrationRequired ?? false,\n                registrationDeadline: event.registrationDeadline ? new Date(event.registrationDeadline) : null,\n                maxAttendees: event.maxAttendees ?? null,\n                registrationFormId: event.registrationFormId ?? null\n            });\n        }\n    }, [isOpen, event?.registrationRequired, event?.registrationDeadline, event?.maxAttendees, event?.registrationFormId]);\n\n    const handleSave = async () => {\n        if (!orgId || !event?._id) return;\n        setSaving(true);\n        try {\n            const res = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}`,\n                {\n                    registrationRequired: form.registrationRequired,\n                    registrationDeadline: form.registrationDeadline ? form.registrationDeadline.toISOString() : null,\n                    maxAttendees: form.maxAttendees ?? null,\n                    registrationFormId: form.registrationFormId || null\n                },\n                { method: 'PUT' }\n            );\n            if (res?.success) {\n                addNotification({ title: 'Saved', message: 'Registration settings updated', type: 'success' });\n                onClose();\n                onSaved?.();\n            } else {\n                addNotification({ title: 'Error', message: res?.message || 'Failed to save settings', type: 'error' });\n            }\n        } catch (err) {\n            addNotification({ title: 'Error', message: err?.message || 'Failed to save settings', type: 'error' });\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const items = [\n        {\n            title: 'Require registration',\n            subtitle: 'Attendees must register to attend',\n            action: (\n                <input\n                    type=\"checkbox\"\n                    checked={form.registrationRequired}\n                    onChange={(e) => setForm(s => ({ ...s, registrationRequired: e.target.checked }))}\n                />\n            )\n        },\n        {\n            title: 'Registration deadline',\n            subtitle: 'Last date/time attendees can register',\n            action: (\n                <input\n                    type=\"datetime-local\"\n                    value={form.registrationDeadline ? new Date(form.registrationDeadline).toISOString().slice(0, 16) : ''}\n                    onChange={(e) => setForm(s => ({ ...s, registrationDeadline: e.target.value ? new Date(e.target.value) : null }))}\n                />\n            )\n        },\n        {\n            title: 'Max attendees',\n            subtitle: 'Leave empty for no limit',\n            action: (\n                <input\n                    type=\"number\"\n                    value={form.maxAttendees ?? ''}\n                    onChange={(e) => setForm(s => ({ ...s, maxAttendees: e.target.value ? parseInt(e.target.value, 10) : null }))}\n                    placeholder=\"No limit\"\n                    min=\"1\"\n                />\n            )\n        },\n        {\n            title: 'Registration form',\n            subtitle: 'Optional form attendees fill out when registering',\n            action: (\n                <div className=\"registration-form-select-row\">\n                    <select\n                        value={form.registrationFormId || ''}\n                        onChange={(e) => setForm(s => ({ ...s, registrationFormId: e.target.value || null }))}\n                    >\n                        <option value=\"\">None</option>\n                        {orgForms.map((f) => (\n                            <option key={f._id} value={f._id}>{f.title}</option>\n                        ))}\n                    </select>\n                    <button type=\"button\" className=\"create-form-btn\" onClick={() => { setEditingFormId(null); setShowCreateFormModal(true); }}>\n                        <Icon icon=\"mdi:plus\" />\n                        Create form\n                    </button>\n                    {form.registrationFormId && (\n                        <button type=\"button\" className=\"edit-form-btn\" onClick={() => { setEditingFormId(form.registrationFormId); setShowCreateFormModal(true); }}>\n                            <Icon icon=\"mdi:pencil\" />\n                            Edit form\n                        </button>\n                    )}\n                </div>\n            )\n        }\n    ];\n\n    return (\n        <>\n            <Popup\n                isOpen={isOpen}\n                onClose={onClose}\n                customClassName=\"event-settings-modal\"\n                defaultStyling={false}\n                hideCloseButton={true}\n            >\n                <div\n                    className=\"event-settings-modal-content\"\n                    style={color ? { '--event-settings-color': color } : undefined}\n                >\n                    <div className=\"event-settings-header\">\n                        <h3>Registration Settings</h3>\n                        <button type=\"button\" className=\"event-settings-close\" onClick={onClose} aria-label=\"Close\">\n                            <Icon icon=\"mdi:close\" />\n                        </button>\n                    </div>\n                    <div className=\"event-settings-body\">\n                        <SettingsList items={items} />\n                    </div>\n                    <div className=\"event-settings-actions\">\n                        <button type=\"button\" className=\"event-settings-btn secondary\" onClick={onClose}>\n                            Cancel\n                        </button>\n                        <button\n                            type=\"button\"\n                            className=\"event-settings-btn primary\"\n                            disabled={saving}\n                            onClick={handleSave}\n                        >\n                            {saving ? 'Saving...' : 'Save'}\n                        </button>\n                    </div>\n                </div>\n            </Popup>\n\n            {showCreateFormModal && (\n                <CreateRegistrationFormModal\n                    orgId={orgId}\n                    formId={editingFormId || undefined}\n                    initialForm={editingFormId ? orgForms.find((f) => f._id === editingFormId) : undefined}\n                    onCreated={(newFormId) => {\n                        if (newFormId) {\n                            setForm(prev => ({ ...prev, registrationFormId: newFormId }));\n                        }\n                        refetchForms?.();\n                        onSaved?.();\n                    }}\n                    onClose={() => { setShowCreateFormModal(false); setEditingFormId(null); }}\n                />\n            )}\n        </>\n    );\n}\n\nexport default RegistrationSettingsModal;\n","import React, { useMemo, useState } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../../hooks/useFetch';\nimport { useNotification } from '../../../../../../NotificationContext';\nimport apiRequest from '../../../../../../utils/postRequest';\nimport CreateRegistrationFormModal from '../CreateRegistrationFormModal';\nimport RegistrationSettingsModal from './RegistrationSettingsModal';\nimport Popup from '../../../../../../components/Popup/Popup';\nimport EmptyState from '../../../../../../components/EmptyState/EmptyState';\nimport './RegistrationsTab.scss';\n\nconst VIEW_MODES = [\n    { id: 'table', label: 'Table', icon: 'mdi:table' },\n    { id: 'cards', label: 'Cards', icon: 'mdi:card-multiple' },\n    { id: 'summary', label: 'Summary', icon: 'mdi:chart-bar' }\n];\n\nfunction RegistrationsTab({ event, orgId, onRefresh, color }) {\n    const { addNotification } = useNotification();\n    const [updatingForm, setUpdatingForm] = useState(false);\n    const [viewMode, setViewMode] = useState('table');\n    const [removingId, setRemovingId] = useState(null);\n    const [confirmRemove, setConfirmRemove] = useState(null);\n\n    const { data, loading, error, refetch } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/registration-responses` : null\n    );\n    const { data: formsData, refetch: refetchForms } = useFetch(orgId ? `/org-event-management/${orgId}/forms` : null);\n    const orgForms = formsData?.success ? (formsData.data || []) : [];\n    const [showCreateFormModal, setShowCreateFormModal] = useState(false);\n    const [editingFormId, setEditingFormId] = useState(null);\n    const [showRegistrationSettingsModal, setShowRegistrationSettingsModal] = useState(false);\n\n    const { registrations = [], formResponses = [], registrationFormId } = data?.data || {};\n    const hasForm = Boolean(registrationFormId);\n    const currentForm = hasForm ? orgForms.find((f) => f._id === registrationFormId) : null;\n    const questions = useMemo(() => {\n        const snap = formResponses[0]?.formSnapshot;\n        return snap?.questions || [];\n    }, [formResponses]);\n\n    const summaryByQuestion = useMemo(() => {\n        if (!hasForm || !questions.length || !formResponses.length) return [];\n        const total = formResponses.length;\n        return questions.map((q, qIdx) => {\n            const counts = {};\n            formResponses.forEach((r) => {\n                const val = r.answers?.[qIdx];\n                if (val === undefined || val === null) return;\n                const key = Array.isArray(val) ? val.join(', ') : String(val).trim();\n                const displayKey = key || '(empty)';\n                counts[displayKey] = (counts[displayKey] || 0) + 1;\n            });\n            const isChoice = q.type === 'multiple_choice' || q.type === 'select_multiple';\n            const entries = Object.entries(counts).map(([answer, count]) => ({ answer, count }));\n            entries.sort((a, b) => b.count - a.count);\n            const answered = entries.reduce((sum, e) => sum + e.count, 0);\n            return {\n                question: q,\n                total,\n                answered,\n                entries,\n                isChoice\n            };\n        });\n    }, [hasForm, questions, formResponses]);\n\n    const exportCsv = () => {\n        const headers = ['Name', 'Email', 'Registered At', ...questions.map(q => q.question || '')];\n        const rows = formResponses.map((r) => {\n            const name = getResponseDisplayName(r);\n            const email = getResponseEmail(r);\n            const date = r.submittedAt ? new Date(r.submittedAt).toLocaleString() : '';\n            const answers = (r.answers || []).map(a => (Array.isArray(a) ? a.join('; ') : String(a)));\n            return [name, email, date, ...answers];\n        });\n        const csv = [headers.join(','), ...rows.map(r => r.map(c => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(','))].join('\\n');\n        const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.download = `registrations-${event?.name?.replace(/\\W/g, '-') || event?._id}.csv`;\n        link.click();\n        URL.revokeObjectURL(link.href);\n    };\n\n    const copyEmail = (email) => {\n        if (!email) return;\n        navigator.clipboard.writeText(email).then(\n            () => addNotification({ title: 'Copied', message: 'Email copied to clipboard', type: 'success' }),\n            () => addNotification({ title: 'Copy failed', message: 'Could not copy to clipboard', type: 'error' })\n        );\n    };\n\n    const copyRegistrationLink = async () => {\n        if (!event?._id) return;\n        const eventUrl = `${window.location.origin}/event/${event._id}`;\n        try {\n            await navigator.clipboard.writeText(eventUrl);\n            addNotification({ title: 'Copied', message: 'Registration link copied to clipboard', type: 'success' });\n        } catch {\n            const textArea = document.createElement('textarea');\n            textArea.value = eventUrl;\n            textArea.style.position = 'fixed';\n            textArea.style.left = '-999999px';\n            document.body.appendChild(textArea);\n            textArea.select();\n            try {\n                document.execCommand('copy');\n                addNotification({ title: 'Copied', message: 'Registration link copied to clipboard', type: 'success' });\n            } catch {\n                addNotification({ title: 'Copy failed', message: 'Could not copy link to clipboard', type: 'error' });\n            }\n            document.body.removeChild(textArea);\n        }\n    };\n\n    const removeRegistration = async (payload) => {\n        const { responseId, userId } = payload || {};\n        const id = responseId || userId;\n        if (!orgId || !event?._id || !id) return;\n        setRemovingId(id);\n        try {\n            const url = responseId\n                ? `/org-event-management/${orgId}/events/${event._id}/registration-responses/${responseId}`\n                : `/org-event-management/${orgId}/events/${event._id}/registrations/${userId}`;\n            const res = await apiRequest(url, null, { method: 'DELETE' });\n            if (res?.success) {\n                addNotification({ title: 'Removed', message: 'Registration removed', type: 'success' });\n                setConfirmRemove(null);\n                onRefresh?.();\n                refetch?.();\n            } else {\n                addNotification({ title: 'Remove failed', message: res?.message || res?.error || 'Failed to remove', type: 'error' });\n            }\n        } catch (err) {\n            addNotification({ title: 'Remove failed', message: err?.message || 'Failed to remove', type: 'error' });\n        } finally {\n            setRemovingId(null);\n        }\n    };\n\n    const getDisplayName = (user) => user?.name || user?.username || '';\n    const getEmail = (user) => user?.email || '';\n    const getResponseDisplayName = (r) =>\n        r.submittedBy ? getDisplayName(r.submittedBy) : (r.guestName || 'Guest');\n    const getResponseEmail = (r) => (r.submittedBy ? getEmail(r.submittedBy) : (r.guestEmail || r.guestUsername || ''));\n\n    if (loading) {\n        return (\n            <div className=\"registrations-tab loading\">\n                <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                <p>Loading registrations...</p>\n            </div>\n        );\n    }\n\n    if (error || (data && !data.success)) {\n        return (\n            <div className=\"registrations-tab error\">\n                <Icon icon=\"mdi:alert-circle\" />\n                <p>{error || data?.message || 'Failed to load registrations'}</p>\n            </div>\n        );\n    }\n\n    const count = event?.registrationCount ?? registrations.length;\n    const registrationEnabled = event?.registrationEnabled ?? false;\n\n    const handleEnableRegistration = async () => {\n        if (!orgId || !event?._id) return;\n        setUpdatingForm(true);\n        try {\n            const res = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}`,\n                { registrationEnabled: true },\n                { method: 'PUT' }\n            );\n            if (res?.success) {\n                addNotification({ title: 'Registration enabled', message: 'Registration is now enabled for this event', type: 'success' });\n                onRefresh?.();\n                refetch?.();\n            } else {\n                addNotification({\n                    title: 'Enable failed',\n                    message: res?.message || res?.error || 'Failed to enable registration',\n                    type: 'error'\n                });\n            }\n        } catch (err) {\n            addNotification({\n                title: 'Enable failed',\n                message: err?.message || 'Failed to enable registration',\n                type: 'error'\n            });\n        } finally {\n            setUpdatingForm(false);\n        }\n    };\n\n    const handleDisableRegistration = async () => {\n        if (!orgId || !event?._id) return;\n        setUpdatingForm(true);\n        try {\n            const res = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}`,\n                { registrationEnabled: false },\n                { method: 'PUT' }\n            );\n            if (res?.success) {\n                addNotification({ title: 'Registration disabled', message: 'Registration is now disabled for this event', type: 'success' });\n                onRefresh?.();\n                refetch?.();\n            } else {\n                addNotification({\n                    title: 'Disable failed',\n                    message: res?.message || res?.error || 'Failed to disable registration',\n                    type: 'error'\n                });\n            }\n        } catch (err) {\n            addNotification({\n                title: 'Disable failed',\n                message: err?.message || 'Failed to disable registration',\n                type: 'error'\n            });\n        } finally {\n            setUpdatingForm(false);\n        }\n    };\n\n    const handleDeleteForm = async () => {\n        if (!orgId || !event?._id) return;\n        setUpdatingForm(true);\n        try {\n            const res = await apiRequest(\n                `/org-event-management/${orgId}/events/${event._id}`,\n                { registrationFormId: null },\n                { method: 'PUT' }\n            );\n            if (res?.success) {\n                addNotification({ title: 'Form removed', message: 'Registration form has been removed from this event', type: 'success' });\n                onRefresh?.();\n                refetch?.();\n            } else {\n                addNotification({\n                    title: 'Remove failed',\n                    message: res?.message || res?.error || 'Failed to remove form',\n                    type: 'error'\n                });\n            }\n        } catch (err) {\n            addNotification({\n                title: 'Remove failed',\n                message: err?.message || 'Failed to remove registration form',\n                type: 'error'\n            });\n        } finally {\n            setUpdatingForm(false);\n        }\n    };\n\n    return (\n        <div className=\"registrations-tab\">\n            {!registrationEnabled && (\n                <div className=\"registrations-disabled-banner\">\n                    <div className=\"registrations-disabled-content\">\n                        <Icon icon=\"mdi:account-off\" className=\"disabled-icon\" />\n                        <div className=\"disabled-text\">\n                            <strong>Registration is disabled</strong>\n                            <p>Enable registration to allow attendees to register for this event.</p>\n                        </div>\n                    </div>\n                    <button\n                        type=\"button\"\n                        className=\"enable-registration-btn\"\n                        onClick={handleEnableRegistration}\n                        disabled={updatingForm}\n                    >\n                        <Icon icon={updatingForm ? 'mdi:loading' : 'mdi:account-plus'} className={updatingForm ? 'spin' : ''} />\n                        {updatingForm ? 'Enabling...' : 'Enable Registration'}\n                    </button>\n                </div>\n            )}\n\n            <div className=\"registrations-tab-header\">\n                <div className=\"registrations-summary\">\n                    <span className=\"count\">{count}</span>\n                    <span className=\"label\">Registrations</span>\n                    {registrationEnabled && (\n                        <span className=\"registration-status-badge\">\n                            <Icon icon=\"mdi:check-circle\" />\n                            Enabled\n                        </span>\n                    )}\n                </div>\n                <div className=\"registrations-tab-actions\">\n                    {registrationEnabled && (\n                        <>\n                            <button\n                                type=\"button\"\n                                className=\"registration-settings-btn\"\n                                onClick={() => setShowRegistrationSettingsModal(true)}\n                                title=\"Registration settings\"\n                            >\n                                <Icon icon=\"mdi:cog\" />\n                                Settings\n                            </button>\n                            <button\n                                type=\"button\"\n                                className=\"disable-registration-btn\"\n                                onClick={handleDisableRegistration}\n                                disabled={updatingForm}\n                                title=\"Disable registration\"\n                            >\n                                <Icon icon={updatingForm ? 'mdi:loading' : 'mdi:account-off'} className={updatingForm ? 'spin' : ''} />\n                                {updatingForm ? 'Disabling...' : 'Disable'}\n                            </button>\n                            <button\n                                type=\"button\"\n                                className=\"copy-registration-link-btn\"\n                                onClick={copyRegistrationLink}\n                                title=\"Copy registration link\"\n                            >\n                                <Icon icon=\"mdi:link-variant\" />\n                                Copy Link\n                            </button>\n                        </>\n                    )}\n                    {hasForm && formResponses.length > 0 && (\n                        <>\n                            <div className=\"view-mode-toggle\" role=\"tablist\">\n                                {VIEW_MODES.map((m) => (\n                                    <button\n                                        key={m.id}\n                                        type=\"button\"\n                                        role=\"tab\"\n                                        aria-selected={viewMode === m.id}\n                                        className={viewMode === m.id ? 'active' : ''}\n                                        onClick={() => setViewMode(m.id)}\n                                        title={m.label}\n                                    >\n                                        <Icon icon={m.icon} />\n                                        <span>{m.label}</span>\n                                    </button>\n                                ))}\n                            </div>\n                            <button type=\"button\" className=\"export-csv-btn\" onClick={exportCsv}>\n                                <Icon icon=\"mdi:download\" />\n                                Export CSV\n                            </button>\n                        </>\n                    )}\n                </div>\n            </div>\n\n            <div className=\"registrations-form-selector\">\n                {hasForm ? (\n                    <>\n                        <div className=\"registrations-form-info\">\n                            <div className=\"registrations-form-info-content\">\n                                <label>Registration form</label>\n                                <span className=\"form-title\">{currentForm?.title || 'Untitled Form'}</span>\n                            </div>\n                            <div className=\"registrations-form-actions\">\n                                <button\n                                    type=\"button\"\n                                    className=\"edit-form-btn\"\n                                    onClick={() => {\n                                        setEditingFormId(registrationFormId);\n                                        setShowCreateFormModal(true);\n                                    }}\n                                    disabled={updatingForm}\n                                >\n                                    <Icon icon=\"mdi:pencil\" />\n                                    Edit\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className=\"delete-form-btn\"\n                                    onClick={handleDeleteForm}\n                                    disabled={updatingForm}\n                                >\n                                    <Icon icon={updatingForm ? 'mdi:loading' : 'mdi:delete-outline'} className={updatingForm ? 'spin' : ''} />\n                                    Delete\n                                </button>\n                            </div>\n                        </div>\n                        {updatingForm && (\n                            <span className=\"registrations-form-selector-saving\">\n                                <Icon icon=\"mdi:loading\" className=\"spin\" />\n                                Saving\n                            </span>\n                        )}\n                    </>\n                ) : (\n                    <div className=\"registrations-form-empty\">\n                        <div className=\"registrations-form-empty-content\">\n                            <Icon icon=\"mdi:form-select\" className=\"empty-icon\" />\n                            <div className=\"empty-text\">\n                                <label>Registration form</label>\n                                <p>Create a registration form to collect information from attendees when they register for this event.</p>\n                            </div>\n                        </div>\n                        <button\n                            type=\"button\"\n                            className=\"create-form-btn\"\n                            onClick={() => { setEditingFormId(null); setShowCreateFormModal(true); }}\n                        >\n                            <Icon icon=\"mdi:plus\" />\n                            Create form\n                        </button>\n                    </div>\n                )}\n                {showCreateFormModal && (\n                    <CreateRegistrationFormModal\n                        orgId={orgId}\n                        formId={editingFormId || undefined}\n                        initialForm={editingFormId ? orgForms.find((f) => f._id === editingFormId) : undefined}\n                        onCreated={async (newFormId) => {\n                            refetchForms?.();\n                            if (!editingFormId && event?._id && orgId) {\n                                setUpdatingForm(true);\n                                try {\n                                    const res = await apiRequest(\n                                        `/org-event-management/${orgId}/events/${event._id}`,\n                                        { registrationFormId: newFormId },\n                                        { method: 'PUT' }\n                                    );\n                                    if (res?.success) {\n                                        addNotification({ title: 'Form created', message: 'The registration form is now active for this event.', type: 'success' });\n                                        onRefresh?.();\n                                        refetch?.();\n                                    }\n                                } catch (err) {\n                                    addNotification({ title: 'Form created', message: 'There was an issue linking the form to the event.', type: 'warning' });\n                                } finally {\n                                    setUpdatingForm(false);\n                                }\n                            } else if (editingFormId) {\n                                onRefresh?.();\n                                refetch?.();\n                            }\n                        }}\n                        onClose={() => { setShowCreateFormModal(false); setEditingFormId(null); }}\n                    />\n                )}\n            </div>\n\n            {hasForm && formResponses.length > 0 ? (\n                <>\n                    {viewMode === 'table' && (\n                        <div className=\"registrations-table-wrapper\">\n                            <table className=\"registrations-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Name</th>\n                                        <th>Email</th>\n                                        <th>Submitted</th>\n                                        {questions.map((q, idx) => (\n                                            <th key={idx}>{q.question || `Q${idx + 1}`}</th>\n                                        ))}\n                                        <th className=\"th-actions\">Actions</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {formResponses.map((r, i) => (\n                                        <tr key={r._id || i}>\n                                            <td>{getResponseDisplayName(r)}</td>\n                                            <td>{getResponseEmail(r)}</td>\n                                            <td>{r.submittedAt ? new Date(r.submittedAt).toLocaleString() : ''}</td>\n                                            {(r.answers || []).map((ans, j) => (\n                                                <td key={j}>\n                                                    {Array.isArray(ans) ? ans.join(', ') : String(ans ?? '')}\n                                                </td>\n                                            ))}\n                                            <td className=\"td-actions\">\n                                                <button type=\"button\" className=\"action-btn copy-email\" onClick={() => copyEmail(r.submittedBy?.email || r.guestEmail)} title=\"Copy email\">\n                                                    <Icon icon=\"mdi:email-outline\" />\n                                                </button>\n                                                <button\n                                                    type=\"button\"\n                                                    className=\"action-btn remove\"\n                                                    onClick={() => setConfirmRemove({ responseId: r._id, name: getResponseDisplayName(r) })}\n                                                    title=\"Remove registration\"\n                                                    disabled={removingId === r._id}\n                                                >\n                                                    <Icon icon={removingId === r._id ? 'mdi:loading' : 'mdi:account-minus'} className={removingId === r._id ? 'spin' : ''} />\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                    {viewMode === 'cards' && (\n                        <div className=\"registrations-cards\">\n                            {formResponses.map((r, i) => (\n                                <div key={r._id || i} className=\"registration-card\">\n                                    <div className=\"registration-card-header\">\n                                        <div className=\"registration-card-user\">\n                                            <span className=\"name\">{getResponseDisplayName(r)}</span>\n                                            <span className=\"email\">{getResponseEmail(r)}</span>\n                                        </div>\n                                        <div className=\"registration-card-meta\">\n                                            {r.submittedAt ? new Date(r.submittedAt).toLocaleString() : ''}\n                                        </div>\n                                        <div className=\"registration-card-actions\">\n                                            <button type=\"button\" className=\"action-btn copy-email\" onClick={() => copyEmail(r.submittedBy?.email || r.guestEmail)} title=\"Copy email\">\n                                                <Icon icon=\"mdi:email-outline\" />\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                className=\"action-btn remove\"\n                                                onClick={() => setConfirmRemove({ responseId: r._id, name: getResponseDisplayName(r) })}\n                                                title=\"Remove registration\"\n                                                disabled={removingId === r._id}\n                                            >\n                                                <Icon icon={removingId === r._id ? 'mdi:loading' : 'mdi:account-minus'} className={removingId === r._id ? 'spin' : ''} />\n                                            </button>\n                                        </div>\n                                    </div>\n                                    <div className=\"registration-card-answers\">\n                                        {(r.answers || []).map((ans, j) => (\n                                            <div key={j} className=\"registration-card-answer\">\n                                                <span className=\"q\">{questions[j]?.question || `Q${j + 1}`}</span>\n                                                <span className=\"a\">{Array.isArray(ans) ? ans.join(', ') : String(ans ?? '')}</span>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                    {viewMode === 'summary' && (\n                        <div className=\"registrations-summary-view\">\n                            <p className=\"summary-intro\">{formResponses.length} response{formResponses.length !== 1 ? 's' : ''}  breakdown by question</p>\n                            {summaryByQuestion.map((item, idx) => (\n                                <div key={idx} className=\"summary-question-block\">\n                                    <h4 className=\"summary-question-title\">{item.question?.question || `Question ${idx + 1}`}</h4>\n                                    <p className=\"summary-question-meta\">\n                                        {item.answered} of {item.total} answered\n                                    </p>\n                                    {item.isChoice ? (\n                                        <div className=\"summary-bars\">\n                                            {item.entries.map(({ answer, count }) => {\n                                                const pct = item.answered ? Math.round((count / item.answered) * 100) : 0;\n                                                return (\n                                                    <div key={answer} className=\"summary-bar-row\">\n                                                        <span className=\"summary-bar-label\" title={answer}>{answer}</span>\n                                                        <div className=\"summary-bar-track\">\n                                                            <div className=\"summary-bar-fill\" style={{ width: `${pct}%` }} />\n                                                        </div>\n                                                        <span className=\"summary-bar-count\">{count}</span>\n                                                    </div>\n                                                );\n                                            })}\n                                        </div>\n                                    ) : (\n                                        <div className=\"summary-text-responses\">\n                                            {item.entries.length === 0 ? (\n                                                <span className=\"summary-no-answers\">No answers</span>\n                                            ) : (\n                                                <>\n                                                    <ul className=\"summary-text-list\">\n                                                        {item.entries.slice(0, 6).map(({ answer, count }) => (\n                                                            <li key={answer}>\n                                                                <span className=\"summary-text-answer\">{answer.length > 100 ? `${answer.slice(0, 100)}` : answer}</span>\n                                                                {count > 1 && <span className=\"summary-text-count\">{count}</span>}\n                                                            </li>\n                                                        ))}\n                                                    </ul>\n                                                    {item.entries.length > 6 && (\n                                                        <p className=\"summary-text-more\">\n                                                            +{item.entries.length - 6} other answers  see Table or Cards for full list\n                                                        </p>\n                                                    )}\n                                                </>\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </>\n            ) : (\n                <div className=\"registrations-list-simple\">\n                    {registrations.length === 0 ? (\n                        <EmptyState\n                            icon=\"mingcute:group-fill\"\n                            title=\"No registrations yet\"\n                            description=\"Registrations will appear here once people sign up for this event.\"\n                        />\n                    ) : (\n                        <ul>\n                            {registrations.map((reg, i) => {\n                                const uid = reg.userId?._id || reg.userId;\n                                const uidStr = uid?.toString?.() || uid;\n                                return (\n                                    <li key={uidStr || i}>\n                                        <span className=\"user\">{getDisplayName(typeof reg.userId === 'object' ? reg.userId : null)}</span>\n                                        <span className=\"meta\">\n                                            {reg.registeredAt ? new Date(reg.registeredAt).toLocaleDateString() : ''}\n                                            {reg.guestCount > 1 ? `  ${reg.guestCount} guests` : ''}\n                                            {reg.checkedIn ? '  Checked in' : ''}\n                                        </span>\n                                        <span className=\"list-actions\">\n                                            <button type=\"button\" className=\"action-btn copy-email\" onClick={() => copyEmail(reg.userId?.email)} title=\"Copy email\">\n                                                <Icon icon=\"mdi:email-outline\" />\n                                            </button>\n                                            <button\n                                                type=\"button\"\n                                                className=\"action-btn remove\"\n                                                onClick={() => setConfirmRemove({ userId: uidStr, name: getDisplayName(reg.userId) })}\n                                                title=\"Remove registration\"\n                                                disabled={removingId === uidStr}\n                                            >\n                                                <Icon icon={removingId === uidStr ? 'mdi:loading' : 'mdi:account-minus'} className={removingId === uidStr ? 'spin' : ''} />\n                                            </button>\n                                        </span>\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    )}\n                </div>\n            )}\n\n            <RegistrationSettingsModal\n                isOpen={showRegistrationSettingsModal}\n                onClose={() => setShowRegistrationSettingsModal(false)}\n                event={event}\n                orgId={orgId}\n                orgForms={orgForms}\n                refetchForms={refetchForms}\n                color={'var(--org-primary)'}\n                onSaved={() => {\n                    onRefresh?.();\n                    refetch?.();\n                }}\n            />\n\n            {confirmRemove && (\n                <Popup isOpen onClose={() => setConfirmRemove(null)} customClassName=\"registrations-confirm-remove-modal\">\n                    <div className=\"registrations-confirm-remove-inner\">\n                        <h3>Remove registration?</h3>\n                        <p>This will remove <strong>{confirmRemove.name}</strong> from the event. They will need to register again to rejoin.</p>\n                        <div className=\"registrations-confirm-remove-actions\">\n                            <button type=\"button\" className=\"btn-cancel\" onClick={() => setConfirmRemove(null)}>Cancel</button>\n                            <button\n                                type=\"button\"\n                                className=\"btn-remove\"\n                                onClick={() => removeRegistration(confirmRemove)}\n                                disabled={removingId != null}\n                            >\n                                {removingId ? 'Removing' : 'Remove'}\n                            </button>\n                        </div>\n                    </div>\n                </Popup>\n            )}\n        </div>\n    );\n}\n\nexport default RegistrationsTab;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Icon } from '@iconify-icon/react';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { analytics } from '../../../../../services/analytics/analytics';\nimport { useNotification } from '../../../../../NotificationContext';\nimport { useGradient } from '../../../../../hooks/useGradient';\nimport TabbedContainer from '../../../../../components/TabbedContainer';\nimport Popup from '../../../../../components/Popup/Popup';\nimport EventDashboardHeader from './EventDashboardHeader';\nimport EventDashboardOnboarding from './EventDashboardOnboarding/EventDashboardOnboarding';\nimport EventOverview from './EventOverview';\nimport EventEditorTab from './EventEditorTab/EventEditorTab';\nimport AgendaBuilder from './EventAgendaBuilder/AgendaBuilder';\nimport JobsManager from './EventJobsManager/JobsManager';\nimport EventAnalyticsDetail from './EventAnalyticsDetail';\nimport EventCheckInTab from './EventCheckInTab/EventCheckInTab';\nimport RegistrationsTab from './RegistrationsTab/RegistrationsTab';\nimport ComingSoon from './ComingSoon';\n// Temporarily disabled - EquipmentManager functionality commented out\n// import EquipmentManager from './EventEquipment/EquipmentManager';\nimport './EventDashboard.scss';\n\n/** Set to true to always show the onboarding popup (ignores localStorage) */\nconst FORCE_EVENT_DASHBOARD_ONBOARDING = false;\n\nfunction EventDashboard({ event, orgId, onClose, className = '' }) {\n    const { addNotification } = useNotification();\n    const { AtlasMain } = useGradient();\n    const [dashboardData, setDashboardData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [refreshTrigger, setRefreshTrigger] = useState(0);\n    const [activeTab, setActiveTab] = useState('overview');\n    const [showOnboarding, setShowOnboarding] = useState(false);\n\n    // Fetch dashboard data\n    const { data, loading: dataLoading, error, refetch } = useFetch(\n        event?._id && orgId ? `/org-event-management/${orgId}/events/${event._id}/dashboard` : null\n    );\n\n    useEffect(() => {\n        if (data?.success) {\n            setDashboardData(data.data);\n            setLoading(false);\n        } else if (error || (data && !data.success)) {\n            addNotification({\n                title: 'Error',\n                message: error || data?.message || 'Failed to load event dashboard',\n                type: 'error'\n            });\n            setLoading(false);\n        } else if (dataLoading) {\n            setLoading(true);\n        }\n    }, [data, error, dataLoading, addNotification]);\n\n    useEffect(() => {\n        if (refreshTrigger > 0) {\n            refetch();\n        }\n    }, [refreshTrigger, refetch]);\n\n    const handleRefresh = () => {\n        setRefreshTrigger(prev => prev + 1);\n    };\n\n    const handleTabChange = useCallback((tabId) => {\n        setActiveTab(tabId);\n        if (event?._id && orgId) {\n            analytics.track('event_workspace_tab_view', {\n                event_id: event._id,\n                org_id: orgId,\n                tab: tabId\n            });\n        }\n    }, [event?._id, orgId]);\n\n    useEffect(() => {\n        if (event?._id && orgId && dashboardData && !loading) {\n            analytics.screen('Event Workspace', { event_id: event._id, org_id: orgId });\n            analytics.track('event_workspace_view', { event_id: event._id, org_id: orgId });\n            analytics.track('event_workspace_tab_view', {\n                event_id: event._id,\n                org_id: orgId,\n                tab: activeTab\n            });\n        }\n    }, [event?._id, orgId, dashboardData, loading]);\n\n    useEffect(() => {\n        if (loading || !dashboardData) return;\n        const urlParams = new URLSearchParams(window.location.search);\n        const isTestMode = urlParams.get('test-event-onboarding') === 'true';\n        const hasSeen = localStorage.getItem('eventDashboardOnboardingSeen');\n        if (FORCE_EVENT_DASHBOARD_ONBOARDING || isTestMode || !hasSeen) {\n            setShowOnboarding(true);\n        }\n    }, [loading, dashboardData]);\n\n    const handleOnboardingClose = useCallback(() => {\n        const urlParams = new URLSearchParams(window.location.search);\n        const isTestMode = urlParams.get('test-event-onboarding') === 'true';\n        if (!FORCE_EVENT_DASHBOARD_ONBOARDING && !isTestMode) {\n            localStorage.setItem('eventDashboardOnboardingSeen', 'true');\n        }\n        setShowOnboarding(false);\n    }, []);\n\n    const dashboardRef = useRef(null);\n    const stickyTabsRef = useRef({ spacer: null, tabsWrapper: null });\n\n    const updateStickyTabs = useCallback(() => {\n        const dashboard = dashboardRef.current;\n        if (!dashboard) return;\n\n        const scrollContainer = dashboard.closest('.dashboard-overlay') || dashboard.parentElement;\n        const tabsWrapper = dashboard.querySelector('.tabbed-container__tabs-wrapper');\n        if (!scrollContainer || !tabsWrapper) return;\n\n        const containerRect = scrollContainer.getBoundingClientRect();\n        const spacer = stickyTabsRef.current.spacer;\n        const isStuck = tabsWrapper.style.position === 'fixed';\n\n        if (isStuck && spacer && spacer.style.display !== 'none') {\n            const spacerRect = spacer.getBoundingClientRect();\n            if (spacerRect.top > containerRect.top) {\n                tabsWrapper.style.position = '';\n                tabsWrapper.style.top = '';\n                tabsWrapper.style.left = '';\n                tabsWrapper.style.width = '';\n                tabsWrapper.style.zIndex = '';\n                tabsWrapper.style.background = '';\n                tabsWrapper.style.borderBottom = '';\n                spacer.style.display = 'none';\n                spacer.style.height = '0';\n            }\n        } else {\n            const rect = tabsWrapper.getBoundingClientRect();\n            if (rect.top <= containerRect.top) {\n                let spacerEl = stickyTabsRef.current.spacer;\n                if (!spacerEl) {\n                    spacerEl = document.createElement('div');\n                    spacerEl.className = 'event-dashboard-tabs-sticky-spacer';\n                    tabsWrapper.parentNode.insertBefore(spacerEl, tabsWrapper);\n                    stickyTabsRef.current.spacer = spacerEl;\n                }\n                spacerEl.style.height = `${rect.height}px`;\n                spacerEl.style.display = 'block';\n\n                tabsWrapper.style.position = 'fixed';\n                tabsWrapper.style.top = `${containerRect.top}px`;\n                tabsWrapper.style.left = `calc(${containerRect.left}px + 1.5rem)`;\n                tabsWrapper.style.width = `${containerRect.width}px`;\n                tabsWrapper.style.zIndex = '100';\n                tabsWrapper.style.background = 'var(--background)';\n                tabsWrapper.style.borderBottom = '1px solid var(--lighterborder)';\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        if (loading || !dashboardData) return;\n\n        const dashboard = dashboardRef.current;\n        if (!dashboard) return;\n\n        const scrollContainer = dashboard.closest('.dashboard-overlay') || dashboard.parentElement;\n        const tabsWrapper = dashboard.querySelector('.tabbed-container__tabs-wrapper');\n        if (!scrollContainer || !tabsWrapper) return;\n\n        const runUpdate = () => {\n            requestAnimationFrame(updateStickyTabs);\n        };\n\n        updateStickyTabs();\n        scrollContainer.addEventListener('scroll', runUpdate, { passive: true });\n        window.addEventListener('resize', runUpdate);\n\n        return () => {\n            scrollContainer.removeEventListener('scroll', runUpdate);\n            window.removeEventListener('resize', runUpdate);\n            const { spacer } = stickyTabsRef.current;\n            if (spacer && spacer.parentNode) {\n                spacer.parentNode.removeChild(spacer);\n            }\n            if (tabsWrapper) {\n                tabsWrapper.style.position = '';\n                tabsWrapper.style.top = '';\n                tabsWrapper.style.left = '';\n                tabsWrapper.style.width = '';\n                tabsWrapper.style.zIndex = '';\n                tabsWrapper.style.background = '';\n                tabsWrapper.style.borderBottom = '';\n            }\n        };\n    }, [loading, dashboardData, updateStickyTabs]);\n\n    if (loading) {\n        return (\n            <div className={`event-dashboard ${className}`}>\n                <div className=\"loading-container\">\n                    <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                    <p>Loading event dashboard...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (!dashboardData) {\n        return (\n            <div className={`event-dashboard ${className}`}>\n                <div className=\"error-container\">\n                    <Icon icon=\"mdi:alert-circle\" />\n                    <p>Failed to load event dashboard</p>\n                    <button onClick={onClose}>Close</button>\n                </div>\n            </div>\n        );\n    }\n\n    const tabs = [\n        {\n            id: 'overview',\n            label: 'Overview',\n            icon: 'mingcute:chart-bar-fill',\n            description: 'Event statistics and quick actions',\n            content: <EventOverview \n                        event={dashboardData.event}\n                        stats={dashboardData.stats}\n                        agenda={dashboardData.agenda}\n                        roles={dashboardData.roles}\n                        equipment={dashboardData.equipment}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                        onTabChange={handleTabChange}\n                    />\n        },\n        {\n            id: 'agenda',\n            label: 'Agenda',\n            icon: 'mdi:calendar-clock',\n            description: 'Build and manage event agenda',\n            content: <AgendaBuilder\n                        event={dashboardData.event}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                        isTabActive={activeTab === 'agenda'}\n                    />\n        },\n        {\n            id: 'jobs',\n            label: 'Jobs',\n            icon: 'mdi:briefcase',\n            description: 'Manage event jobs and assignments',\n            content: <JobsManager\n                        event={dashboardData.event}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                    />\n        },\n        {\n            id: 'analytics',\n            label: 'Analytics',\n            icon: 'mingcute:chart-line-fill',\n            description: 'Detailed event analytics and insights',\n            content: <EventAnalyticsDetail\n                        event={dashboardData.event}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                    />\n        },\n        {\n            id: 'edit',\n            label: 'Details',\n            icon: 'mdi:pencil',\n            description: 'Event details and basic information',\n            content: <EventEditorTab\n                        event={dashboardData.event}\n                        agenda={dashboardData.agenda}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                    />\n        },\n        {\n            id: 'registrations',\n            label: 'Registrations',\n            icon: 'mdi:clipboard-list-outline',\n            description: 'View registrations and form responses',\n            content: <RegistrationsTab\n                        event={dashboardData.event}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                        color=\"var(--primary-color)\"\n                    />\n        },\n        {\n            id: 'checkin',\n            label: 'Check-In',\n            icon: 'uil:qrcode-scan',\n            description: 'Manage event check-in and attendance',\n            content: <EventCheckInTab\n                        event={dashboardData.event}\n                        orgId={orgId}\n                        onRefresh={handleRefresh}\n                        isTabActive={activeTab === 'checkin'}\n                        color=\"var(--primary-color)\"\n                    />\n        },\n        {\n            id: 'equipment',\n            label: 'Equipment',\n            icon: 'mdi:package-variant',\n            description: 'Manage equipment checkout and tracking',\n            comingSoon: true,\n            content: <ComingSoon feature=\"Equipment\" />\n            // Temporarily disabled - EquipmentManager functionality commented out\n            // content: (\n            //     <div className=\"equipment-coming-soon-wrapper\">\n            //         <div className=\"equipment-disabled-overlay\">\n            //             <ComingSoon feature=\"Equipment\" />\n            //         </div>\n            //         <div className=\"equipment-manager-disabled\">\n            //             <EquipmentManager\n            //                 event={dashboardData.event}\n            //                 orgId={orgId}\n            //                 onRefresh={handleRefresh}\n            //             />\n            //         </div>\n            //     </div>\n            // )\n        },\n        {\n            id: 'communications',\n            label: 'Communications',\n            icon: 'mdi:message-text',\n            description: 'Message volunteers and attendees',\n            comingSoon: true,\n            content: <ComingSoon feature=\"Communications\" />\n        }\n    ];\n\n    return (\n        <>\n            <div ref={dashboardRef} className={`event-dashboard ${className}`}>\n                <EventDashboardHeader\n                        event={dashboardData.event}\n                        stats={dashboardData.stats}\n                        onClose={onClose}\n                        onRefresh={handleRefresh}\n                        orgId={orgId}\n                />\n                <div className=\"event-dashboard-content\">\n                    <TabbedContainer\n                        tabs={tabs}\n                        defaultTab=\"overview\"\n                        activeTab={activeTab}\n                        onTabChange={handleTabChange}\n                        tabStyle=\"default\"\n                        size=\"medium\"\n                        animated={true}\n                        showTabIcons={true}\n                        showTabLabels={true}\n                        fullWidth={false}\n                        scrollable={true}\n                        lazyLoad={true}\n                        keepAlive={true}\n                        className=\"event-dashboard-tabs\"\n                    />\n                </div>\n            </div>\n            <Popup\n                isOpen={showOnboarding}\n                onClose={handleOnboardingClose}\n                customClassName=\"event-dashboard-onboarding-popup\"\n            >\n                <EventDashboardOnboarding onClose={handleOnboardingClose} />\n            </Popup>\n        </>\n    );\n}\n\nexport default EventDashboard;\n"],"names":["_ref","_stats$registrationCo","event","stats","onClose","onRefresh","orgId","publishing","setPublishing","useState","AtlasMain","useGradient","addNotification","useNotification","formatTime","dateString","Date","toLocaleTimeString","hour","minute","eventStatus","getEventStatus","start_time","now","_jsxs","className","children","_jsx","src","alt","onClick","Icon","icon","status","async","_id","res","apiRequest","method","success","Error","message","error","title","type","err","disabled","eventUrl","window","location","origin","navigator","clipboard","writeText","textArea","document","createElement","value","style","position","left","body","appendChild","select","execCommand","removeChild","handlePreview","open","name","registrationCount","getTimeUntilEvent","diff","days","Math","floor","hours","minutes","toLocaleDateString","weekday","year","month","day","formatDate","end_time","item","onEdit","onDelete","date","startTime","endTime","durationMinutes","getDurationMinutes","start","end","round","backgroundColor","Activity","Break","Setup","Breakdown","Transition","Speaker","Custom","getTypeIcon","isPublic","description","x","d","index","y","max","interpolateData","data","map","i","current","next","xStep","yStep","abs","yMid1","yMid2","xMid1","xMid2","interpolatePoints","flat","formatNumber","n","Intl","NumberFormat","format","FunnelChart","_segments$0$value","_segments$","width","height","gradientId","useId","replace","length","segments","label","push","interpolated","numSegments","firstValue","minmax","min","xScale","scaleLinear","range","domain","yScale","checkpointIndices","Array","from","_","id","x1","y1","x2","y2","offset","stopColor","fill","rx","padPx","opacity","area","Area","curve","curveBasis","y0","fillOpacity","stroke","idx","xPos","strokeWidth","slice","seg","boxX","boxWidth","boxY","boxHeight","xmlns","props","ParentSize","parent","_parent$width","_parent$height","MOCK_AGENDA_ITEMS","SLIDES","snippet","AgendaItem","HeaderContainer","header","classN","size","KpiCard","iconVariant","right","handleClose","close","currentSlide","setCurrentSlide","slide","isFirst","isLast","s","handleSkip","handlePrev","prev","handleNext","accessors","xAccessor","yAccessor","toLocalDateKey","getFullYear","String","getMonth","padStart","getDate","formatSemanticDate","dateStr","today","setHours","diffDays","chartTheme","buildChartTheme","colors","gridColor","gridColorDark","tickLength","_dailyData$cumulative","_dailyData","_ref2","_dailyData2","_ref3","_dailyData$find$daily","_dailyData$find","_dailyData$find$daily2","_dailyData$find2","eventId","expectedAttendance","isCumulative","setIsCumulative","useFakeRsvpData","setUseFakeRsvpData","timezone","DateTimeFormat","resolvedOptions","timeZone","undefined","rsvpGrowthUrl","encodeURIComponent","growthData","loading","useFetch","dailyData","requiredGrowth","targetAttendance","isFrozen","requiredPerDay","useMemo","console","log","hasData","registrations","rawRegistrations","eventCreated","eventStart","dayBeforeEventTemp","setDate","dayBeforeEvent","currentDate","toISOString","split","spikeDays","Set","add","random","quietDays","weights","t","w","sin","PI","has","totalWeight","reduce","a","b","raw","forEach","dayKey","count","generateFakeRegistrations","eventCreatedDate","eventStartDate","cutoffDateNormalized","eventCreatedNormalized","lastChartDate","cumulativeRSVPs","dailyRSVPs","target","actualDays","originalRequiredPerDay","required","dailyDataLength","sampleDays","lastDay","daysWithRegistrations","filter","statsFromProps","StatsHeader","currentRSVPs","displayExpected","todayStr","yesterday","yesterdayStr","todayDaily","find","yesterdayDaily","dailyChangePercent","beforeFilter","actualData","beforeFilterLength","beforeFilterWithY","actualDataLength","actualDataWithY","filterRemoved","requiredData","yMax","actualMax","requiredMax","cap","ceil","background","XYChart","theme","paddingInner","paddingOuter","margin","top","bottom","Grid","columns","numTicks","strokeDasharray","Axis","orientation","tickFormat","tickLabelProps","fontSize","textAnchor","dx","AreaSeries","dataKey","curveMonotoneX","stopOpacity","renderLine","_Fragment","LineSeries","strokeLinecap","strokeLinejoin","GlyphSeries","enableEvents","renderGlyph","_ref4","key","cx","cy","r","Tooltip","snapTooltipToDatumX","snapTooltipToDatumY","showVerticalCrosshair","showSeriesGlyphs","renderTooltip","_ref5","_tooltipData$datumByK","_tooltipData$datumByK2","_tooltipData$datumByK3","_tooltipData$datumByK4","_ref6","tooltipData","datumByKey","actualDatum","actual","datum","requiredDatum","onRefetch","EventPageContent","previewMode","showAnalytics","_event$expectedAttend","agenda","roles","rolesSummary","equipment","onTabChange","rolesData","setRolesData","rolesResponse","useEffect","jobsStatus","calculateJobsFilled","ready","filled","totalRequired","totalFilled","role","_role$assignments","requiredCount","confirmed","assignments","jobsPercentage","jobsLowCoverage","readinessChecks","isPublished","showProgress","progressData","percentage","lowCoverage","readyCount","check","totalChecks","agendaItemsWithTimes","items","showScheduleCalendar","eventWithAgenda","eventAgenda","handleCopyLink","EventPreview","RSVPGrowthChart","_check$progressData","AgendaDailyCalendar","agendaItems","minuteHeight","RoomCard","room","isSelected","onToggle","image","average_rating","FilledStar","toFixed","capacity","attributes","attr","attrLower","toLowerCase","trim","selectedAttributeIcons","attributeIcons","getAttributeIcon","formData","setFormData","onComplete","rooms","setRooms","setLoading","selectedRoomIds","setSelectedRoomIds","searchQuery","setSearchQuery","debouncedSearchQuery","setDebouncedSearchQuery","selectedTags","setSelectedTags","sortBy","setSortBy","showFilterPopup","setShowFilterPopup","page","setPage","hasMore","setHasMore","totalRooms","setTotalRooms","setFormDataRef","useRef","Map","onCompleteRef","isArray","timer","setTimeout","wasSearching","willBeSearching","hasInitialized","clearTimeout","isFetching","response","params","query","limit","_response$pagination","_response$pagination2","newRooms","building","number_of_ratings","pagination","total","totalPages","topRatedResponse","topRatedRooms","roomsData","totalCount","Object","keys","allRoomIds","values","sampleSize","sampleRoomIds","batchResponse","queries","exhaustive","fetchedRooms","schedule","Boolean","sort","ratingA","ratingB","fetchRooms","availableAttributes","attributeSet","filteredRooms","filtered","every","tag","_room$attributes","includes","localeCompare","selectedRooms","setSelectedRooms","selectedArray","loadedRooms","missingIds","fetchSelectedRoomDetails","prevSelectionRef","selectionKey","JSON","stringify","firstSelectedRoom","classroomId","classroom_id","loadMore","useCallback","handleRoomToggle","roomId","newSet","delete","handleTagToggle","observerTarget","observer","IntersectionObserver","entries","isIntersecting","threshold","currentTarget","observe","unobserve","placeholder","onChange","e","Loader","ref","Popup","isOpen","defaultStyling","combinedBlockedEvents","setCombinedBlockedEvents","isInitialized","setIsInitialized","view","setView","contentHeight","setContentHeight","startOfWeek","setStartOfWeek","getDay","selectedDay","setSelectedDay","setMonth","setYear","setFilter","showAvailability","setShowAvailability","selectedTimeslots","setSelectedTimeslots","startDay","endDay","duration","contentRef","clientHeight","combineRoomSchedules","dayMap","combinedSchedule","roomData","_roomData$data","weekly_schedule","slot","class_name","intervals","merged","lastMerged","mergeIntervals","fetchAndCombineSchedules","roomsWithData","_item$room","roomInfo","blockedEvents","events","currentWeekStart","week","slots","dayOffset","eventDate","startHours","startMinutes","endHours","endMinutes","generateBlockedEvents","updateWeek","newStart","updateDay","newDate","handleTimeSelection","selections","firstSelection","_prev$start_time","_prev$end_time","newStartTime","newEndTime","getTime","prevValidityRef","hasTimes","isValid","filteredEvents","getFilteredEvents","endOfWeek","eventDay","currentDay","currentMonth","currentYear","marginTop","fontWeight","toLocaleString","prevMonth","m","nextMonth","display","alignItems","gap","marginRight","cursor","userSelect","Switch","options","selectedPass","setSelectedPass","Filter","selected","setSelected","MonthDisplay","onWeekClick","WeeklyCalendar","dayClick","autoEnableSelection","selectionMode","allowCrossDaySelection","timeIncrement","singleSelectionOnly","startHour","endHour","onSelectionsChange","initialSelections","DailyCalendar","LocationTimePopupContent","popupStep","popupFormData","setPopupFormData","onLocationSelected","onTimeSelected","onBack","closePopup","RoomSelectorV2","When","_formConfigData$data2","showLocationTimePopup","setShowLocationTimePopup","setPopupStep","tempLocationData","setTempLocationData","formConfigData","visibility","contact","externalLink","originalData","setOriginalData","initialData","customFields","parse","handleFieldChange","fieldName","handleLocationTimePopupClose","hasChanges","saving","handleSave","performSave","handleDiscard","discardChanges","useUnsavedChanges","errors","validateForm","time","hasRoom","hasLocationText","_formConfigData$data","_formConfigData$data$","updateData","fields","reserved","field","endpoint","File","imageFormData","FormData","append","formConfig","regularFields","excludedFields","excludedSteps","isActive","step","DynamicFormField","inputType","validation","color","allowExpand","ImageUpload","uploadText","onFileSelect","file","onFileClear","showPrompt","showActions","initialImageUrl","handleLocationTimePopupOpen","isRequired","customClassName","handleLocationSelected","handleTimeSelected","latestItemEnd","onSave","onCancel","inputMode","setInputMode","fallbackStart","fallbackEnd","setMinutes","getMinutes","defaultStart","defaultEnd","formatDateTimeLocal","dateValue","isNaN","getHours","handleChange","updated","parseInt","hideCloseButton","startsWith","onSubmit","preventDefault","alert","itemData","rows","checked","timeDifference","onConfirm","onPublishWithoutAdjusting","checkingAvailability","setCheckingAvailability","roomAvailable","setRoomAvailable","roomName","setRoomName","isOver","isUnder","diffMinutes","difference","proposedEndTime","getProposedEndTime","currentEnd","proposedEnd","checkRoomAvailability","roomResponse","roomError","warn","availabilityResponse","isAvailable","handleConfirm","hour12","MINUTE_HEIGHT_PRESETS","_MINUTE_HEIGHT_PRESET","_MINUTE_HEIGHT_PRESET2","isTabActive","setItems","editingItem","setEditingItem","setSaving","setIsPublished","showPublishModal","setShowPublishModal","showDeleteModal","setShowDeleteModal","itemToDelete","setItemToDelete","viewMode","setViewMode","getStoredAgendaView","calendarMinuteHeight","setCalendarMinuteHeight","localStorage","setItem","headerOutOfView","setHeaderOutOfView","headerRef","agendaData","refetch","_agendaData$data","normalizedItem","getLatestItemEnd","ordered","order","last","handleAddItem","latestEnd","newItem","assignedRoles","handleEditItem","calculateTimeDifference","agendaDuration","eventEnd","eventDuration","isExact","handlePublish","timeDiff","publishAgenda","arguments","requestBody","updateHeaderVisibility","scrollContainer","closest","parentElement","headerRect","getBoundingClientRect","runUpdate","requestAnimationFrame","addEventListener","passive","removeEventListener","createPortal","preset","p","onEditItem","EmptyState","actions","primary","handleDeleteItem","itemId","AgendaItemEditor","rest","sanitized","existingIndex","findIndex","updatedItems","itemsToSave","sanitizedItems","saveAgenda","PublishConfirmModal","handlePublishWithoutAdjusting","DeleteConfirmModal","warningDetails","rolesWithShifts","shiftStart","shiftEnd","orgRoles","creatingJobTemplate","setCreatingJobTemplate","newJobTemplate","setNewJobTemplate","onCreateJobTemplate","onIncrementJob","onDecrementJob","orgRole","existingRole","_role$orgRoleId","orgRoleId","onSuccess","selectedRole","setSelectedRole","setShiftStart","setShiftEnd","signingUp","setSigningUp","availableRoles","_role$assignments2","assignedCount","remaining","roleId","_selectedMember$user_","_selectedMember$user_2","_selectedMember$user_3","members","selectedMemberId","onMemberSelect","showDrop","setShowDrop","isAnimating","setIsAnimating","shouldRender","setShouldRender","dropdownRef","selectedMember","_m$user_id","_m$user_id$_id","_m$user_id2","user_id","toString","handleClickOutside","contains","stopPropagation","picture","defaultAvatar","member","_member$user_id2","_member$user_id2$_id","_member$user_id3","_member$user_id4","_member$user_id5","_member$user_id6","memberId","_member$user_id","handleMemberClick","copiedEmail","setCopiedEmail","setRoles","signups","setSignups","setOrgRoles","showVolunteerSignup","setShowVolunteerSignup","showJobPicker","setShowJobPicker","assigningMembers","setAssigningMembers","roleToDelete","setRoleToDelete","showRemoveAssignmentModal","setShowRemoveAssignmentModal","assignmentToRemove","setAssignmentToRemove","refetchRoles","signupsData","refetchSignups","orgRolesData","membersData","handleCloseJobPicker","handleIncrementJob","handleAddRole","_role$assignments3","_role$assignments5","confirmedCount","isFullyStaffed","handleDeleteRole","MemberDropdown","_role$assignments4","some","_a$memberId3","_a$memberId3$_id","_a$memberId4","_a$memberId","_a$memberId$_id","_a$memberId2","handleAssignMember","assignment","_assignment$memberId2","_assignment$memberId3","email","handleCopyEmail","handleRemoveAssignment","assignmentId","_assignment$memberId","memberName","JobShiftScheduler","JobPicker","_response$data","createdRole","_role$orgRoleId2","JobSignup","_assignmentToRemove$r","confirmLabel","analytics","setAnalytics","exporting","setExporting","timeRange","setTimeRange","analyticsData","interval","setInterval","clearInterval","num","platform","funnelData","_analytics$views","_analytics$anonymousV","_analytics$registrati","_analytics$registrati2","totalViews","views","anonymousViews","totalRegistrations","registrationHistory","steps","registrationFormId","registrationFormOpens","checkins","safeAnalytics","viewHistory","loggedInViews","v","isAnonymous","userId","filteredTotalViews","loggedInViewsCount","anonymousViewsCount","engagementRate","uniqueViewsTotal","uniqueViews","uniqueRegistrationsTotal","uniqueRegistrations","conversionRate","avgViewsPerUser","last24Hours","recentViews","timestamp","recentRegistrations","tabViews","tabEntries","withdrawals","checkouts","registrationFormBounces","uniqueAnonymousViews","agendaViews","tab","qrCode","eventName","copied","setCopied","handleDownload","link","href","download","click","share","text","files","fetch","then","blob","write","ClipboardItem","checkInUrl","handleCopy","readOnly","url","attendees","onManualCheckIn","onRemoveCheckIn","onOpenManualCheckInModal","filterMethod","setFilterMethod","filteredAttendees","attendee","user","username","checkedInBy","formatCheckInTime","formatDistanceToNow","addSuffix","getUserDisplayName","getUserPicture","isManual","attendeeUserId","checkedInAt","_event$checkInSetting6","_event$checkInSetting7","_event$checkInSetting8","_event$checkInSetting9","onSaved","form","setForm","allowOnPageCheckIn","requireRegistration","autoCheckIn","_event$checkInSetting","_event$checkInSetting2","_event$checkInSetting3","_event$checkInSetting4","_event$checkInSetting5","checkInSettings","subtitle","action","SettingsList","_stats$totalRegistrat","refreshing","setRefreshing","qrCodeData","setQrCodeData","checkInLink","setCheckInLink","setAttendees","setStats","showManualCheckInModal","setShowManualCheckInModal","showSettingsModal","setShowSettingsModal","enablingCheckIn","setEnablingCheckIn","disablingCheckIn","setDisablingCheckIn","qrResponse","refetchQR","checkInEnabled","linkResponse","refetchLink","attendeesResponse","refetchAttendees","allRegistrationsResponse","loadingRegistrations","shouldConnect","useEventRoom","linkCopied","setLinkCopied","handleManualCheckIn","getAttendeeUserId","checkedInIds","notCheckedIn","handleEnableCheckIn","showQR","showLink","Promise","all","totalCheckedIn","totalRSVPs","checkInRate","QRCodeDisplay","CheckInLink","subheader","CheckInList","CheckInSettingsModal","reg","_reg$userId","_reg$userId2","uid","_form$maxAttendees2","orgForms","refetchForms","registrationRequired","registrationDeadline","maxAttendees","showCreateFormModal","setShowCreateFormModal","editingFormId","setEditingFormId","_event$registrationRe","_event$maxAttendees","_event$registrationFo","f","_form$maxAttendees","CreateRegistrationFormModal","formId","initialForm","onCreated","newFormId","VIEW_MODES","_event$registrationCo","_event$registrationEn","updatingForm","setUpdatingForm","removingId","setRemovingId","confirmRemove","setConfirmRemove","formsData","showRegistrationSettingsModal","setShowRegistrationSettingsModal","formResponses","hasForm","currentForm","questions","_formResponses$","snap","formSnapshot","summaryByQuestion","q","qIdx","counts","_r$answers","val","answers","displayKey","join","isChoice","answer","answered","sum","question","copyEmail","getDisplayName","getResponseDisplayName","submittedBy","guestName","getResponseEmail","guestEmail","guestUsername","registrationEnabled","exportCsv","_event$name","headers","submittedAt","csv","c","Blob","URL","createObjectURL","revokeObjectURL","ans","j","_r$submittedBy","responseId","_r$submittedBy2","_questions$j","_item$question","pct","_uid$toString","uidStr","call","registeredAt","guestCount","checkedIn","RegistrationSettingsModal","payload","removeRegistration","dashboardData","setDashboardData","refreshTrigger","setRefreshTrigger","activeTab","setActiveTab","showOnboarding","setShowOnboarding","dataLoading","handleRefresh","handleTabChange","tabId","track","event_id","org_id","screen","isTestMode","URLSearchParams","search","get","hasSeen","getItem","handleOnboardingClose","dashboardRef","stickyTabsRef","spacer","tabsWrapper","updateStickyTabs","dashboard","querySelector","containerRect","zIndex","borderBottom","rect","spacerEl","parentNode","insertBefore","tabs","content","EventOverview","AgendaBuilder","JobsManager","EventAnalyticsDetail","EventEditorTab","RegistrationsTab","EventCheckInTab","comingSoon","ComingSoon","feature","EventDashboardHeader","TabbedContainer","defaultTab","tabStyle","animated","showTabIcons","showTabLabels","fullWidth","scrollable","lazyLoad","keepAlive","EventDashboardOnboarding"],"sourceRoot":""}