{"version":3,"file":"static/js/776.b2465b5f.chunk.js","mappings":"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","sources":["components/EventViewer/EventViewer.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Icon } from '@iconify-icon/react';\nimport defaultAvatar from '../../assets/defaultAvatar.svg';\nimport useAuth from '../../hooks/useAuth';\nimport { useNotification } from '../../NotificationContext';\nimport RSVPSection from '../RSVPSection/RSVPSection';\nimport EventCheckInButton from '../EventCheckInButton/EventCheckInButton';\nimport EventsByCreator from '../EventsByCreator/EventsByCreator';\nimport EventAnalytics from '../EventAnalytics/EventAnalytics';\nimport AgendaEditor from '../AgendaEditor/AgendaEditor';\nimport './EventViewer.scss';\n\nfunction EventViewer({ \n    event, \n    showBackButton = true, \n    showAnalytics = true, \n    showEventsByCreator = true,\n    onBack,\n    className = '' \n}) {\n    const navigate = useNavigate();\n    const { user } = useAuth();\n    const { addNotification } = useNotification();\n    const [activeTab, setActiveTab] = useState('details');\n\n    if (!event) {\n        return (\n            <div className={`event-viewer ${className}`}>\n                <div className=\"loading-container\">\n                    <Icon icon=\"mdi:loading\" className=\"spinner\" />\n                    <p>Loading event...</p>\n                </div>\n            </div>\n        );\n    }\n\n    const renderHostingStatus = () => {\n        if (!event?.hostingType) return null;\n\n        let hostingImage = '';\n        let hostingName = '';\n        let level = '';\n\n        if (event.hostingType === \"User\") {\n            hostingImage = event.hostingId?.image ? event.hostingId.image : defaultAvatar;\n            hostingName = event.hostingId?.name || 'Unknown User';\n            if (event.hostingId?.roles?.includes(\"developer\")) {\n                level = \"Developer\";\n            } else if (event.hostingId?.roles?.includes(\"oie\")) {\n                level = \"Faculty\";\n            } else {\n                level = \"Student\";\n            }\n        } else {\n            hostingImage = event.hostingId?.org_profile_image || defaultAvatar;\n            hostingName = event.hostingId?.org_name || 'Unknown Organization';\n            level = \"Organization\";\n        }\n\n        return (\n            <div \n                className={`row hosting ${level.toLowerCase()}`} \n                onClick={() => {\n                    if (level === \"Organization\") {\n                        navigate(`/org/${hostingName}`);\n                    }\n                }}\n            >\n                <p>Hosted by</p>\n                <img src={hostingImage} alt=\"\" />\n                <p className=\"user-name\">{hostingName}</p>\n                <div className={`level ${level.toLowerCase()}`}>\n                    {level}\n                </div>\n            </div>\n        );\n    };\n\n    const handleBack = () => {\n        if (onBack) {\n            onBack();\n        } else {\n            navigate(-1);\n        }\n    };\n\n    const date = new Date(event.start_time);\n    const dateEnd = new Date(event.end_time);\n\n    return (\n        <div className={`event-viewer ${className}`}>\n            <div className=\"event-content\">\n                {event.image && (\n                    <div className=\"image-container\">\n                        <img src={event.image} alt={`Event image for ${event.name}`} className=\"event-image\" />\n                    </div>\n                )}\n                \n                <div className=\"event-details\">\n                    {showBackButton && (\n                        <div className=\"back\" onClick={handleBack}>\n                            <Icon icon=\"mdi:arrow-left\" />\n                            <p>Back</p>\n                        </div>\n                    )}\n                    \n                    <h1>{event.name}</h1>\n                    \n                    <div className=\"col\">\n                        <div className=\"row event-detail date\">\n                            <p>\n                                {date.toLocaleString('default', {weekday: 'long'})}, {date.toLocaleString('default', {month: 'long'})} {date.getDate()}\n                            </p>\n                        </div>\n                        <div className=\"row event-detail time\">\n                            <p>\n                                {date.toLocaleString('default', {hour: 'numeric', minute: 'numeric', hour12: true})} - {dateEnd.toLocaleString('default', {hour: 'numeric', minute: 'numeric', hour12: true})}\n                            </p>\n                        </div>\n                        <div className=\"row event-detail location\">\n                            <Icon icon=\"fluent:location-28-filled\" />\n                            <p>{event.location}</p>\n                        </div>\n                    </div>\n                    \n                    {renderHostingStatus()}\n\n                    <div className=\"row event-description\">\n                        <p>{event.description}</p>\n                    </div>\n                    \n                    {event.externalLink && (\n                        <div className=\"row external-link\">\n                            <a href={event.externalLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                                <Icon icon=\"heroicons:arrow-top-right-on-square-20-solid\" />\n                                <p>View Event External Link</p>\n                            </a>\n                        </div>\n                    )}\n                    \n                    <RSVPSection event={event} />\n                    <EventCheckInButton event={event} />\n                    \n                    {/* Agenda Editor */}\n                    <AgendaEditor event={event} onUpdate={(updatedEvent) => {\n                        // Update event if parent component handles it\n                        if (onBack) {\n                            // Force refresh by navigating away and back, or parent can handle\n                        }\n                    }} />\n                    \n                    {/* Analytics Tab for Admin Users */}\n                    {showAnalytics && user && user.roles && user.roles.includes('admin') && (\n                        <div className=\"analytics-tab\">\n                            <div className=\"tab-buttons\">\n                                <button \n                                    className={activeTab === 'details' ? 'active' : ''}\n                                    onClick={() => setActiveTab('details')}\n                                >\n                                    Event Details\n                                </button>\n                                <button \n                                    className={activeTab === 'analytics' ? 'active' : ''}\n                                    onClick={() => setActiveTab('analytics')}\n                                >\n                                    <Icon icon=\"mingcute:chart-fill\" />\n                                    Analytics\n                                </button>\n                            </div>\n                            \n                            {activeTab === 'analytics' && (\n                                <div className=\"analytics-content\">\n                                    <EventAnalytics />\n                                </div>\n                            )}\n                        </div>\n                    )}\n                    \n                    {/* More Events by This Creator Section */}\n                    {showEventsByCreator && event && activeTab === 'details' && (\n                        <EventsByCreator \n                            eventId={event._id}\n                            creatorName={event.hostingType === \"User\" \n                                ? event.hostingId?.name \n                                : event.hostingId?.org_name\n                            }\n                            creatorType={event.hostingType === \"User\" \n                                ? (event.hostingId?.roles?.includes(\"developer\") \n                                    ? \"Developer\" \n                                    : event.hostingId?.roles?.includes(\"oie\") \n                                        ? \"Faculty\" \n                                        : \"Student\")\n                                : \"Organization\"\n                            }\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EventViewer;\n"],"names":["_ref","_event$hostingId7","_event$hostingId8","_event$hostingId9","_event$hostingId9$rol","_event$hostingId10","_event$hostingId10$ro","event","showBackButton","showAnalytics","showEventsByCreator","onBack","className","navigate","useNavigate","user","useAuth","addNotification","useNotification","activeTab","setActiveTab","useState","_jsx","children","_jsxs","Icon","icon","date","Date","start_time","dateEnd","end_time","image","src","alt","name","onClick","handleBack","toLocaleString","weekday","month","getDate","hour","minute","hour12","location","renderHostingStatus","hostingType","hostingImage","hostingName","level","_event$hostingId","_event$hostingId2","_event$hostingId3","_event$hostingId3$rol","_event$hostingId4","_event$hostingId4$rol","_event$hostingId5","_event$hostingId6","hostingId","defaultAvatar","roles","includes","org_profile_image","org_name","toLowerCase","description","externalLink","href","target","rel","RSVPSection","EventCheckInButton","AgendaEditor","onUpdate","updatedEvent","EventAnalytics","EventsByCreator","eventId","_id","creatorName","creatorType"],"sourceRoot":""}