"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[805],{74805:(e,s,n)=>{n.r(s),n.d(s,{default:()=>N});var i=n(72791),l=n(57689),a=n(37795),t=n(7768),o=n(17834),r=n(22741),c=n(56679),d=n(65050),v=n(78914),h=n(73477),m=n(80184);const x=e=>{let{count:s=3}=e;return(0,m.jsx)("div",{className:"event-skeleton-container",children:Array.from({length:s}).map(((e,s)=>(0,m.jsxs)("div",{className:"event-skeleton",children:[(0,m.jsxs)("div",{className:"skeleton-header",children:[(0,m.jsx)("div",{className:"skeleton-title"}),(0,m.jsx)("div",{className:"skeleton-badge"})]}),(0,m.jsxs)("div",{className:"skeleton-content",children:[(0,m.jsx)("div",{className:"skeleton-time"}),(0,m.jsx)("div",{className:"skeleton-location"}),(0,m.jsxs)("div",{className:"skeleton-description",children:[(0,m.jsx)("div",{className:"skeleton-line"}),(0,m.jsx)("div",{className:"skeleton-line short"})]})]}),(0,m.jsxs)("div",{className:"skeleton-footer",children:[(0,m.jsx)("div",{className:"skeleton-avatar"}),(0,m.jsx)("div",{className:"skeleton-host"}),(0,m.jsx)("div",{className:"skeleton-rsvp"})]})]},s)))})};const j=function(e){let{eventId:s,creatorName:n,creatorType:i}=e;(0,l.s0)();const{data:a,loading:t,error:o}=(0,v.i)(s?`/events-by-creator/${s}?limit=3`:null);return t?(0,m.jsxs)("div",{className:"events-by-creator",children:[(0,m.jsxs)("div",{className:"section-header",children:[(0,m.jsxs)("h3",{children:["More Events by ",n]}),(0,m.jsx)("p",{className:"creator-type",children:i})]}),(0,m.jsx)("div",{className:"events-grid",children:(0,m.jsx)(x,{count:3})})]}):o||null===a||void 0===a||!a.events||0===a.events.length?null:(0,m.jsxs)("div",{className:"events-by-creator",children:[(0,m.jsxs)("div",{className:"section-header",children:[(0,m.jsxs)("h3",{children:["More Events by ",n]}),(0,m.jsx)("p",{className:"creator-type",children:i})]}),(0,m.jsx)("div",{className:"events-grid",children:a.events.map((e=>(0,m.jsx)(h.Z,{event:e},e._id)))})]})};var u=n(92880),g=n(49795);const N=function(e){var s,n,v,h,x,N;let{event:p,showBackButton:k=!0,showAnalytics:y=!0,showEventsByCreator:w=!0,onBack:f,className:b=""}=e;const I=(0,l.s0)(),{user:_}=(0,o.Z)(),{addNotification:L}=(0,r.l)(),[C,O]=(0,i.useState)("details");if(!p)return(0,m.jsx)("div",{className:`event-viewer ${b}`,children:(0,m.jsxs)("div",{className:"loading-container",children:[(0,m.jsx)(a.JO,{icon:"mdi:loading",className:"spinner"}),(0,m.jsx)("p",{children:"Loading event..."})]})});const Z=new Date(p.start_time),E=new Date(p.end_time);return(0,m.jsx)("div",{className:`event-viewer ${b}`,children:(0,m.jsxs)("div",{className:"event-content",children:[p.image&&(0,m.jsx)("div",{className:"image-container",children:(0,m.jsx)("img",{src:p.image,alt:`Event image for ${p.name}`,className:"event-image"})}),(0,m.jsxs)("div",{className:"event-details",children:[k&&(0,m.jsxs)("div",{className:"back",onClick:()=>{f?f():I(-1)},children:[(0,m.jsx)(a.JO,{icon:"mdi:arrow-left"}),(0,m.jsx)("p",{children:"Back"})]}),(0,m.jsx)("h1",{children:p.name}),(0,m.jsxs)("div",{className:"col",children:[(0,m.jsx)("div",{className:"row event-detail date",children:(0,m.jsxs)("p",{children:[Z.toLocaleString("default",{weekday:"long"}),", ",Z.toLocaleString("default",{month:"long"})," ",Z.getDate()]})}),(0,m.jsx)("div",{className:"row event-detail time",children:(0,m.jsxs)("p",{children:[Z.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0})," - ",E.toLocaleString("default",{hour:"numeric",minute:"numeric",hour12:!0})]})}),(0,m.jsxs)("div",{className:"row event-detail location",children:[(0,m.jsx)(a.JO,{icon:"fluent:location-28-filled"}),(0,m.jsx)("p",{children:p.location})]})]}),(()=>{if(null===p||void 0===p||!p.hostingType)return null;let e="",s="",n="";var i,l,a,o,r,c,d,v;"User"===p.hostingType?(e=null!==(i=p.hostingId)&&void 0!==i&&i.image?p.hostingId.image:t.Z,s=(null===(l=p.hostingId)||void 0===l?void 0:l.name)||"Unknown User",n=null!==(a=p.hostingId)&&void 0!==a&&null!==(o=a.roles)&&void 0!==o&&o.includes("developer")?"Developer":null!==(r=p.hostingId)&&void 0!==r&&null!==(c=r.roles)&&void 0!==c&&c.includes("oie")?"Faculty":"Student"):(e=(null===(d=p.hostingId)||void 0===d?void 0:d.org_profile_image)||t.Z,s=(null===(v=p.hostingId)||void 0===v?void 0:v.org_name)||"Unknown Organization",n="Organization");return(0,m.jsxs)("div",{className:`row hosting ${n.toLowerCase()}`,onClick:()=>{"Organization"===n&&I(`/org/${s}`)},children:[(0,m.jsx)("p",{children:"Hosted by"}),(0,m.jsx)("img",{src:e,alt:""}),(0,m.jsx)("p",{className:"user-name",children:s}),(0,m.jsx)("div",{className:`level ${n.toLowerCase()}`,children:n})]})})(),(0,m.jsx)("div",{className:"row event-description",children:(0,m.jsx)("p",{children:p.description})}),p.externalLink&&(0,m.jsx)("div",{className:"row external-link",children:(0,m.jsxs)("a",{href:p.externalLink,target:"_blank",rel:"noopener noreferrer",children:[(0,m.jsx)(a.JO,{icon:"heroicons:arrow-top-right-on-square-20-solid"}),(0,m.jsx)("p",{children:"View Event External Link"})]})}),(0,m.jsx)(c.Z,{event:p}),(0,m.jsx)(d.Z,{event:p}),(0,m.jsx)(g.Z,{event:p,onUpdate:e=>{}}),y&&_&&_.roles&&_.roles.includes("admin")&&(0,m.jsxs)("div",{className:"analytics-tab",children:[(0,m.jsxs)("div",{className:"tab-buttons",children:[(0,m.jsx)("button",{className:"details"===C?"active":"",onClick:()=>O("details"),children:"Event Details"}),(0,m.jsxs)("button",{className:"analytics"===C?"active":"",onClick:()=>O("analytics"),children:[(0,m.jsx)(a.JO,{icon:"mingcute:chart-fill"}),"Analytics"]})]}),"analytics"===C&&(0,m.jsx)("div",{className:"analytics-content",children:(0,m.jsx)(u.Z,{})})]}),w&&p&&"details"===C&&(0,m.jsx)(j,{eventId:p._id,creatorName:"User"===p.hostingType?null===(s=p.hostingId)||void 0===s?void 0:s.name:null===(n=p.hostingId)||void 0===n?void 0:n.org_name,creatorType:"User"===p.hostingType?null!==(v=p.hostingId)&&void 0!==v&&null!==(h=v.roles)&&void 0!==h&&h.includes("developer")?"Developer":null!==(x=p.hostingId)&&void 0!==x&&null!==(N=x.roles)&&void 0!==N&&N.includes("oie")?"Faculty":"Student":"Organization"})]})]})})}}}]);
//# sourceMappingURL=805.1c427b17.chunk.js.map